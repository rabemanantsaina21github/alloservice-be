function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function __guard__(e,t){return void 0!==e&&null!==e?t(e):undefined}function __guardMethod__(e,t,i){return void 0!==e&&null!==e&&"function"==typeof e[t]?i(e,t):undefined}!function(e,t){"use strict";e.rails!==t&&e.error("jquery-ujs has already been loaded!");var i,n=e(document);e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=i.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(t,i,n){var o=e.Event(i);return t.trigger(o,n),!1!==o.result},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&!1!==e.data("remote")},handleRemote:function(n){var o,s,a,r,l,d;if(i.fire(n,"ajax:before")){if(r=n.data("with-credentials")||null,l=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){o=n.data("ujs:submit-button-formmethod")||n.attr("method"),s=n.data("ujs:submit-button-formaction")||n.attr("action"),a=e(n[0]).serializeArray();var c=n.data("ujs:submit-button");c&&(a.push(c),n.data("ujs:submit-button",null)),n.data("ujs:submit-button-formmethod",null),n.data("ujs:submit-button-formaction",null)}else n.is(i.inputChangeSelector)?(o=n.data("method"),s=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(o=n.data("method")||"get",s=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):(o=n.data("method"),s=i.href(n),a=n.data("params")||null);return d={type:o||"GET",data:a,dataType:l,beforeSend:function(e,o){if(o.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),!i.fire(n,"ajax:beforeSend",[e,o]))return!1;n.trigger("ajax:send",e)},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])},crossDomain:i.isCrossDomain(s)},r&&(d.xhrFields={withCredentials:r}),s&&(d.url=s),i.ajax(d)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var i=document.createElement("a");try{return i.href=e,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||t.protocol+"//"+t.host==i.protocol+"//"+i.host)}catch(e){return!0}},handleMethod:function(n){var o=i.href(n),s=n.data("method"),a=n.attr("target"),r=i.csrfToken(),l=i.csrfParam(),d=e('<form method="post" action="'+o+'"></form>'),c='<input name="_method" value="'+s+'" type="hidden" />';l===t||r===t||i.isCrossDomain(o)||(c+='<input name="'+l+'" value="'+r+'" type="hidden" />'),a&&d.attr("target",a),d.hide().append(c).appendTo("body"),d.submit()},formElements:function(t,i){return t.is("form")?e(t[0].elements).filter(i):t.find(i)},disableFormElements:function(t){i.formElements(t,i.disableSelector).each(function(){i.disableFormElement(e(this))})},disableFormElement:function(e){var i,n;i=e.is("button")?"html":"val",n=e.data("disable-with"),n!==t&&(e.data("ujs:enable-with",e[i]()),e[i](n)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(t){i.formElements(t,i.enableSelector).each(function(){i.enableFormElement(e(this))})},enableFormElement:function(e){var i=e.is("button")?"html":"val";e.data("ujs:enable-with")!==t&&(e[i](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,n=e.data("confirm"),o=!1;if(!n)return!0;if(i.fire(e,"confirm")){try{o=i.confirm(n)}catch(e){(console.error||console.log).call(console,e.stack||e)}t=i.fire(e,"confirm:complete",[o])}return o&&t},blankInputs:function(t,i,n){var o,s,a,r,l=e(),d=i||"input,textarea",c=t.find(d),h={};return c.each(function(){o=e(this),o.is("input[type=radio]")?(r=o.attr("name"),h[r]||(0===t.find('input[type=radio]:checked[name="'+r+'"]').length&&(a=t.find('input[type=radio][name="'+r+'"]'),l=l.add(a)),h[r]=r)):(s=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val())===n&&(l=l.add(o))}),!!l.length&&l},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var n=e.data("disable-with");n!==t&&(e.data("ujs:enable-with",e.html()),e.html(n)),e.bind("click.railsDisable",function(e){return i.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},i.fire(n,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||i.CSRFProtection(n)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableElement(t)})}),n.on("ajax:complete",i.linkDisableSelector,function(){i.enableElement(e(this))}),n.on("ajax:complete",i.buttonDisableSelector,function(){i.enableFormElement(e(this))}),n.on("click.rails",i.linkClickSelector,function(t){var n=e(this),o=n.data("method"),s=n.data("params"),a=t.metaKey||t.ctrlKey;if(!i.allowAction(n))return i.stopEverything(t);if(!a&&n.is(i.linkDisableSelector)&&i.disableElement(n),i.isRemote(n)){if(a&&(!o||"GET"===o)&&!s)return!0;var r=i.handleRemote(n);return!1===r?i.enableElement(n):r.fail(function(){i.enableElement(n)}),!1}return o?(i.handleMethod(n),!1):void 0}),n.on("click.rails",i.buttonClickSelector,function(t){var n=e(this);if(!i.allowAction(n)||!i.isRemote(n))return i.stopEverything(t);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var o=i.handleRemote(n);return!1===o?i.enableFormElement(n):o.fail(function(){i.enableFormElement(n)}),!1}),n.on("change.rails",i.inputChangeSelector,function(t){var n=e(this);return i.allowAction(n)&&i.isRemote(n)?(i.handleRemote(n),!1):i.stopEverything(t)}),n.on("submit.rails",i.formSubmitSelector,function(n){var o,s,a=e(this),r=i.isRemote(a);if(!i.allowAction(a))return i.stopEverything(n);if(a.attr("novalidate")===t)if(a.data("ujs:formnovalidate-button")===t){if((o=i.blankInputs(a,i.requiredInputSelector,!1))&&i.fire(a,"ajax:aborted:required",[o]))return i.stopEverything(n)}else a.data("ujs:formnovalidate-button",t);if(r){if(s=i.nonBlankInputs(a,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(a)},13);var l=i.fire(a,"ajax:aborted:file",[s]);return l||setTimeout(function(){i.enableFormElements(a)},13),l}return i.handleRemote(a),!1}setTimeout(function(){i.disableFormElements(a)},13)}),n.on("click.rails",i.formInputClickSelector,function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);var o=n.attr("name"),s=o?{name:o,value:n.val()}:null,a=n.closest("form");0===a.length&&(a=e("#"+n.attr("form"))),a.data("ujs:submit-button",s),a.data("ujs:formnovalidate-button",n.attr("formnovalidate")),a.data("ujs:submit-button-formaction",n.attr("formaction")),a.data("ujs:submit-button-formmethod",n.attr("formmethod"))}),n.on("ajax:send.rails",i.formSubmitSelector,function(t){this===t.target&&i.disableFormElements(e(this))}),n.on("ajax:complete.rails",i.formSubmitSelector,function(t){this===t.target&&i.enableFormElements(e(this))}),e(function(){i.refreshCSRFTokens()}))}(jQuery),function(){function e(e){function t(t,i,n,o,s,a){for(;s>=0&&s<a;s+=e){var r=o?o[s]:s;n=i(n,t[r],r,t)}return n}return function(i,n,o,s){n=w(n,s,4);var a=!T(i)&&b.keys(i),r=(a||i).length,l=e>0?0:r-1;return arguments.length<3&&(o=i[a?a[l]:l],l+=e),t(i,n,o,a,l,r)}}function t(e){return function(t,i,n){i=y(i,n);for(var o=F(t),s=e>0?0:o-1;s>=0&&s<o;s+=e)if(i(t[s],s,t))return s;return-1}}function i(e,t,i){return function(n,o,s){var a=0,r=F(n);if("number"==typeof s)e>0?a=s>=0?s:Math.max(s+r,a):r=s>=0?Math.min(s+1,r):s+r+1;else if(i&&s&&r)return s=i(n,o),n[s]===o?s:-1;if(o!==o)return s=t(c.call(n,a,r),b.isNaN),s>=0?s+a:-1;for(s=e>0?a:r-1;s>=0&&s<r;s+=e)if(n[s]===o)return s;return-1}}function n(e,t){var i=_.length,n=e.constructor,o=b.isFunction(n)&&n.prototype||r,s="constructor";for(b.has(e,s)&&!b.contains(t,s)&&t.push(s);i--;)(s=_[i])in e&&e[s]!==o[s]&&!b.contains(t,s)&&t.push(s)}var o=this,s=o._,a=Array.prototype,r=Object.prototype,l=Function.prototype,d=a.push,c=a.slice,h=r.toString,u=r.hasOwnProperty,p=Array.isArray,f=Object.keys,m=l.bind,g=Object.create,v=function(){},b=function(e){return e instanceof b?e:this instanceof b?void(this._wrapped=e):new b(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=b),exports._=b):o._=b,b.VERSION="1.8.3";var w=function(e,t,i){if(void 0===t)return e;switch(null==i?3:i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,o){return e.call(t,i,n,o)};case 4:return function(i,n,o,s){return e.call(t,i,n,o,s)}}return function(){return e.apply(t,arguments)}},y=function(e,t,i){return null==e?b.identity:b.isFunction(e)?w(e,t,i):b.isObject(e)?b.matcher(e):b.property(e)};b.iteratee=function(e,t){return y(e,t,Infinity)};var k=function(e,t){return function(i){var n=arguments.length;if(n<2||null==i)return i;for(var o=1;o<n;o++)for(var s=arguments[o],a=e(s),r=a.length,l=0;l<r;l++){var d=a[l];t&&void 0!==i[d]||(i[d]=s[d])}return i}},C=function(e){if(!b.isObject(e))return{};if(g)return g(e);v.prototype=e;var t=new v;return v.prototype=null,t},x=function(e){return function(t){return null==t?void 0:t[e]}},S=Math.pow(2,53)-1,F=x("length"),T=function(e){var t=F(e);return"number"==typeof t&&t>=0&&t<=S};b.each=b.forEach=function(e,t,i){t=w(t,i);var n,o;if(T(e))for(n=0,o=e.length;n<o;n++)t(e[n],n,e);else{var s=b.keys(e);for(n=0,o=s.length;n<o;n++)t(e[s[n]],s[n],e)}return e},b.map=b.collect=function(e,t,i){t=y(t,i);for(var n=!T(e)&&b.keys(e),o=(n||e).length,s=Array(o),a=0;a<o;a++){var r=n?n[a]:a;s[a]=t(e[r],r,e)}return s},b.reduce=b.foldl=b.inject=e(1),b.reduceRight=b.foldr=e(-1),b.find=b.detect=function(e,t,i){var n;if(void 0!==(n=T(e)?b.findIndex(e,t,i):b.findKey(e,t,i))&&-1!==n)return e[n]},b.filter=b.select=function(e,t,i){var n=[];return t=y(t,i),b.each(e,function(e,i,o){t(e,i,o)&&n.push(e)}),n},b.reject=function(e,t,i){return b.filter(e,b.negate(y(t)),i)},b.every=b.all=function(e,t,i){t=y(t,i);for(var n=!T(e)&&b.keys(e),o=(n||e).length,s=0;s<o;s++){var a=n?n[s]:s;if(!t(e[a],a,e))return!1}return!0},b.some=b.any=function(e,t,i){t=y(t,i);for(var n=!T(e)&&b.keys(e),o=(n||e).length,s=0;s<o;s++){var a=n?n[s]:s;if(t(e[a],a,e))return!0}return!1},b.contains=b.includes=b.include=function(e,t,i,n){return T(e)||(e=b.values(e)),("number"!=typeof i||n)&&(i=0),b.indexOf(e,t,i)>=0},b.invoke=function(e,t){var i=c.call(arguments,2),n=b.isFunction(t);return b.map(e,function(e){var o=n?t:e[t];return null==o?o:o.apply(e,i)})},b.pluck=function(e,t){return b.map(e,b.property(t))},b.where=function(e,t){return b.filter(e,b.matcher(t))},b.findWhere=function(e,t){return b.find(e,b.matcher(t))},b.max=function(e,t,i){var n,o,s=-Infinity,a=-Infinity;if(null==t&&null!=e){e=T(e)?e:b.values(e);for(var r=0,l=e.length;r<l;r++)(n=e[r])>s&&(s=n)}else t=y(t,i),b.each(e,function(e,i,n){((o=t(e,i,n))>a||o===-Infinity&&s===-Infinity)&&(s=e,a=o)});return s},b.min=function(e,t,i){var n,o,s=Infinity,a=Infinity;if(null==t&&null!=e){e=T(e)?e:b.values(e);for(var r=0,l=e.length;r<l;r++)(n=e[r])<s&&(s=n)}else t=y(t,i),b.each(e,function(e,i,n){((o=t(e,i,n))<a||o===Infinity&&s===Infinity)&&(s=e,a=o)});return s},b.shuffle=function(e){for(var t,i=T(e)?e:b.values(e),n=i.length,o=Array(n),s=0;s<n;s++)t=b.random(0,s),t!==s&&(o[s]=o[t]),o[t]=i[s];return o},b.sample=function(e,t,i){return null==t||i?(T(e)||(e=b.values(e)),e[b.random(e.length-1)]):b.shuffle(e).slice(0,Math.max(0,t))},b.sortBy=function(e,t,i){return t=y(t,i),b.pluck(b.map(e,function(e,i,n){return{value:e,index:i,criteria:t(e,i,n)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return e.index-t.index}),"value")};var D=function(e){return function(t,i,n){var o={};return i=y(i,n),b.each(t,function(n,s){var a=i(n,s,t);e(o,n,a)}),o}};b.groupBy=D(function(e,t,i){b.has(e,i)?e[i].push(t):e[i]=[t]}),b.indexBy=D(function(e,t,i){e[i]=t}),b.countBy=D(function(e,t,i){b.has(e,i)?e[i]++:e[i]=1}),b.toArray=function(e){return e?b.isArray(e)?c.call(e):T(e)?b.map(e,b.identity):b.values(e):[]},b.size=function(e){return null==e?0:T(e)?e.length:b.keys(e).length},b.partition=function(e,t,i){t=y(t,i);var n=[],o=[];return b.each(e,function(e,i,s){(t(e,i,s)?n:o).push(e)}),[n,o]},b.first=b.head=b.take=function(e,t,i){if(null!=e)return null==t||i?e[0]:b.initial(e,e.length-t)},b.initial=function(e,t,i){return c.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},b.last=function(e,t,i){if(null!=e)return null==t||i?e[e.length-1]:b.rest(e,Math.max(0,e.length-t))},b.rest=b.tail=b.drop=function(e,t,i){return c.call(e,null==t||i?1:t)},b.compact=function(e){return b.filter(e,b.identity)};var $=function(e,t,i,n){for(var o=[],s=0,a=n||0,r=F(e);a<r;a++){var l=e[a];if(T(l)&&(b.isArray(l)||b.isArguments(l))){t||(l=$(l,t,i));var d=0,c=l.length;for(o.length+=c;d<c;)o[s++]=l[d++]}else i||(o[s++]=l)}return o};b.flatten=function(e,t){return $(e,t,!1)},b.without=function(e){return b.difference(e,c.call(arguments,1))},b.uniq=b.unique=function(e,t,i,n){b.isBoolean(t)||(n=i,i=t,t=!1),null!=i&&(i=y(i,n));for(var o=[],s=[],a=0,r=F(e);a<r;a++){var l=e[a],d=i?i(l,a,e):l;t?(a&&s===d||o.push(l),s=d):i?b.contains(s,d)||(s.push(d),o.push(l)):b.contains(o,l)||o.push(l)}return o},b.union=function(){return b.uniq($(arguments,!0,!0))},b.intersection=function(e){for(var t=[],i=arguments.length,n=0,o=F(e);n<o;n++){var s=e[n];if(!b.contains(t,s)){for(var a=1;a<i&&b.contains(arguments[a],s);a++);a===i&&t.push(s)}}return t},b.difference=function(e){var t=$(arguments,!0,!0,1);return b.filter(e,function(e){return!b.contains(t,e)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(e){for(var t=e&&b.max(e,F).length||0,i=Array(t),n=0;n<t;n++)i[n]=b.pluck(e,n);return i},b.object=function(e,t){for(var i={},n=0,o=F(e);n<o;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i},b.findIndex=t(1),b.findLastIndex=t(-1),b.sortedIndex=function(e,t,i,n){i=y(i,n,1);for(var o=i(t),s=0,a=F(e);s<a;){var r=Math.floor((s+a)/2);i(e[r])<o?s=r+1:a=r}return s},b.indexOf=i(1,b.findIndex,b.sortedIndex),b.lastIndexOf=i(-1,b.findLastIndex),b.range=function(e,t,i){null==t&&(t=e||0,e=0),i=i||1;for(var n=Math.max(Math.ceil((t-e)/i),0),o=Array(n),s=0;s<n;s++,e+=i)o[s]=e;return o};var I=function(e,t,i,n,o){if(!(n instanceof t))return e.apply(i,o);var s=C(e.prototype),a=e.apply(s,o);return b.isObject(a)?a:s};b.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,c.call(arguments,1));if(!b.isFunction(e))throw new TypeError("Bind must be called on a function");var i=c.call(arguments,2),n=function(){return I(e,n,t,this,i.concat(c.call(arguments)))};return n},b.partial=function(e){var t=c.call(arguments,1),i=function(){for(var n=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===b?arguments[n++]:t[a];for(;n<arguments.length;)s.push(arguments[n++]);return I(e,i,this,this,s)};return i},b.bindAll=function(e){var t,i,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)i=arguments[t],e[i]=b.bind(e[i],e);return e},b.memoize=function(e,t){var i=function(n){var o=i.cache,s=""+(t?t.apply(this,arguments):n);return b.has(o,s)||(o[s]=e.apply(this,arguments)),o[s]};return i.cache={},i},b.delay=function(e,t){var i=c.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},b.defer=b.partial(b.delay,b,1),b.throttle=function(e,t,i){var n,o,s,a=null,r=0;i||(i={});var l=function(){r=!1===i.leading?0:b.now(),a=null,s=e.apply(n,o),a||(n=o=null)};return function(){var d=b.now();r||!1!==i.leading||(r=d);var c=t-(d-r);return n=this,o=arguments,c<=0||c>t?(a&&(clearTimeout(a),a=null),r=d,s=e.apply(n,o),a||(n=o=null)):a||!1===i.trailing||(a=setTimeout(l,c)),s}},b.debounce=function(e,t,i){var n,o,s,a,r,l=function(){var d=b.now()-a;d<t&&d>=0?n=setTimeout(l,t-d):(n=null,i||(r=e.apply(s,o),n||(s=o=null)))};return function(){s=this,o=arguments,a=b.now();var d=i&&!n;return n||(n=setTimeout(l,t)),d&&(r=e.apply(s,o),s=o=null),r}},b.wrap=function(e,t){return b.partial(t,e)},b.negate=function(e){return function(){return!e.apply(this,arguments)}},b.compose=function(){var e=arguments,t=e.length-1;return function(){for(var i=t,n=e[t].apply(this,arguments);i--;)n=e[i].call(this,n);return n}},b.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},b.before=function(e,t){var i;return function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=null),i}},b.once=b.partial(b.before,2);var E=!{toString:null}.propertyIsEnumerable("toString"),_=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(e){if(!b.isObject(e))return[];if(f)return f(e);var t=[];for(var i in e)b.has(e,i)&&t.push(i);return E&&n(e,t),t},b.allKeys=function(e){if(!b.isObject(e))return[];var t=[];for(var i in e)t.push(i);return E&&n(e,t),t},b.values=function(e){for(var t=b.keys(e),i=t.length,n=Array(i),o=0;o<i;o++)n[o]=e[t[o]];return n},b.mapObject=function(e,t,i){t=y(t,i);for(var n,o=b.keys(e),s=o.length,a={},r=0;r<s;r++)n=o[r],a[n]=t(e[n],n,e);return a},b.pairs=function(e){for(var t=b.keys(e),i=t.length,n=Array(i),o=0;o<i;o++)n[o]=[t[o],e[t[o]]];return n},b.invert=function(e){for(var t={},i=b.keys(e),n=0,o=i.length;n<o;n++)t[e[i[n]]]=i[n];return t},b.functions=b.methods=function(e){var t=[];for(var i in e)b.isFunction(e[i])&&t.push(i);return t.sort()},b.extend=k(b.allKeys),b.extendOwn=b.assign=k(b.keys),b.findKey=function(e,t,i){t=y(t,i);for(var n,o=b.keys(e),s=0,a=o.length;s<a;s++)if(n=o[s],t(e[n],n,e))return n},b.pick=function(e,t,i){var n,o,s={},a=e;if(null==a)return s;b.isFunction(t)?(o=b.allKeys(a),n=w(t,i)):(o=$(arguments,!1,!1,1),n=function(e,t,i){return t in i},a=Object(a));for(var r=0,l=o.length;r<l;r++){var d=o[r],c=a[d];n(c,d,a)&&(s[d]=c)}return s},b.omit=function(e,t,i){if(b.isFunction(t))t=b.negate(t);else{var n=b.map($(arguments,!1,!1,1),String);t=function(e,t){return!b.contains(n,t)}}return b.pick(e,t,i)},b.defaults=k(b.allKeys,!0),b.create=function(e,t){var i=C(e);return t&&b.extendOwn(i,t),i},b.clone=function(e){return b.isObject(e)?b.isArray(e)?e.slice():b.extend({},e):e},b.tap=function(e,t){return t(e),e},b.isMatch=function(e,t){var i=b.keys(t),n=i.length;if(null==e)return!n;for(var o=Object(e),s=0;s<n;s++){var a=i[s];if(t[a]!==o[a]||!(a in o))return!1}return!0};var M=function(e,t,i,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof b&&(e=e._wrapped),t instanceof b&&(t=t._wrapped);var o=h.call(e);if(o!==h.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var s="[object Array]"===o;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,r=t.constructor;if(a!==r&&!(b.isFunction(a)&&a instanceof a&&b.isFunction(r)&&r instanceof r)&&"constructor"in e&&"constructor"in t)return!1}i=i||[],n=n||[];for(var l=i.length;l--;)if(i[l]===e)return n[l]===t;if(i.push(e),n.push(t),s){if((l=e.length)!==t.length)return!1;for(;l--;)if(!M(e[l],t[l],i,n))return!1}else{var d,c=b.keys(e);if(l=c.length,b.keys(t).length!==l)return!1;for(;l--;)if(d=c[l],!b.has(t,d)||!M(e[d],t[d],i,n))return!1}return i.pop(),n.pop(),!0};b.isEqual=function(e,t){return M(e,t)},b.isEmpty=function(e){return null==e||(T(e)&&(b.isArray(e)||b.isString(e)||b.isArguments(e))?0===e.length:0===b.keys(e).length)},b.isElement=function(e){return!(!e||1!==e.nodeType)},b.isArray=p||function(e){return"[object Array]"===h.call(e)},b.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){b["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),b.isArguments(arguments)||(b.isArguments=function(e){return b.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(e){return"function"==typeof e||!1}),b.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},b.isNaN=function(e){return b.isNumber(e)&&e!==+e},b.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===h.call(e)},b.isNull=function(e){return null===e},b.isUndefined=function(e){return void 0===e},b.has=function(e,t){return null!=e&&u.call(e,t)},b.noConflict=function(){return o._=s,this},b.identity=function(e){return e},b.constant=function(e){return function(){return e}},b.noop=function(){},b.property=x,b.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},b.matcher=b.matches=function(e){return e=b.extendOwn({},e),function(t){return b.isMatch(t,e)}},b.times=function(e,t,i){var n=Array(Math.max(0,e));t=w(t,i,1);for(var o=0;o<e;o++)n[o]=t(o);return n},b.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},b.now=Date.now||function(){return(new Date).getTime()};var z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},O=b.invert(z),A=function(e){var t=function(t){return e[t]},i="(?:"+b.keys(e).join("|")+")",n=RegExp(i),o=RegExp(i,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(o,t):e}};b.escape=A(z),b.unescape=A(O),b.result=function(e,t,i){var n=null==e?void 0:e[t];return void 0===n&&(n=i),b.isFunction(n)?n.call(e):n};var P=0;b.uniqueId=function(e){var t=++P+"";return e?e+t:t},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\u2028|\u2029/g,H=function(e){return"\\"+R[e]};b.template=function(e,t,i){!t&&i&&(t=i),t=b.defaults({},t,b.templateSettings);var n=RegExp([(t.escape||L).source,(t.interpolate||L).source,(t.evaluate||L).source].join("|")+"|$","g"),o=0,s="__p+='";e.replace(n,function(t,i,n,a,r){return s+=e.slice(o,r).replace(j,H),o=r+t.length,i?s+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(s+="';\n"+a+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var a=new Function(t.variable||"obj","_",s)}catch(e){throw e.source=s,e}var r=function(e){return a.call(this,e,b)},l=t.variable||"obj";return r.source="function("+l+"){\n"+s+"}",r},b.chain=function(e){var t=b(e);return t._chain=!0,t};var N=function(e,t){return e._chain?b(t).chain():t};b.mixin=function(e){b.each(b.functions(e),function(t){var i=b[t]=e[t];b.prototype[t]=function(){var e=[this._wrapped];return d.apply(e,arguments),N(this,i.apply(b,e))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];b.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!==e&&"splice"!==e||0!==i.length||delete i[0],N(this,i)}}),b.each(["concat","join","slice"],function(e){var t=a[e];b.prototype[e]=function(){return N(this,t.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return b})}.call(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){function t(e){for(var t=e.css("visibility");"inherit"===t;)e=e.parent(),t=e.css("visibility");return"hidden"!==t}return e.ui.focusable=function(i,n){var o,s,a,r,l,d=i.nodeName.toLowerCase();return"area"===d?(o=i.parentNode,s=o.name,!(!i.href||!s||"map"!==o.nodeName.toLowerCase())&&(a=e("img[usemap='#"+s+"']"),a.length>0&&a.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(d)?(r=!i.disabled)&&(l=e(i).closest("fieldset")[0])&&(r=!l.disabled):r="a"===d?i.href||n:n,r&&e(i).is(":visible")&&t(e(i)))},e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}}),e.ui.focusable}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):e(this[0].form)}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.escapeSelector=function(){var e=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(t){return t.replace(e,"\\$1")}}()}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version","./escape-selector"],e):e(jQuery)}(function(e){return e.fn.labels=function(){var t,i,n,o,s;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(o=this.eq(0).parents("label"),n=this.attr("id"),n&&(t=this.eq(0).parents().last(),s=t.add(t.length?t.siblings():this.siblings()),i="label[for='"+e.ui.escapeSelector(n)+"']",o=o.add(s.find(i).addBack(i))),this.pushStack(o))}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){"1.7"===e.fn.jquery.substring(0,3)&&(e.each(["Width","Height"],function(t,i){function n(t,i,n,s){return e.each(o,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var o="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return t===undefined?a["inner"+i].call(this):this.each(function(){e(this).css(s,n(this,t)+"px")})},e.fn["outer"+i]=function(t,o){return"number"!=typeof t?a["outer"+i].call(this,t):this.each(function(){e(this).css(s,n(this,t,!0,o)+"px")})}}),e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.plugin={add:function(t,i,n){var o,s=e.ui[t].prototype;for(o in n)s.plugins[o]=s.plugins[o]||[],s.plugins[o].push([i,n[o]])},call:function(e,t,i,n){var o,s=e.plugins[t];if(s&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<s.length;o++)e.options[s[o][0]]&&s[o][1].apply(e.element,i)}}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(i){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.scrollParent=function(t){var i=this.css("position"),n="absolute"===i,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var t=e(this);return(!n||"static"!==t.css("position"))&&o.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&s.length?s:e(this[0].ownerDocument||document)}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version","./focusable"],e):e(jQuery)}(function(e){return e.extend(e.expr[":"],{tabbable:function(t){var i=e.attr(t,"tabindex"),n=null!=i;return(!n||i>=0)&&e.ui.focusable(t,n)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){var t=0,i=Array.prototype.slice;return e.cleanData=function(t){return function(i){var n,o,s;for(s=0;null!=(o=i[s]);s++)try{n=e._data(o,"events"),n&&n.remove&&e(o).triggerHandler("remove")}catch(e){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var o,s,a,r={},l=t.split(".")[0];t=t.split(".")[1];var d=l+"-"+t;return n||(n=i,i=e.Widget),e.isArray(n)&&(n=e.extend.apply(null,[{}].concat(n))),e.expr[":"][d.toLowerCase()]=function(t){return!!e.data(t,d)},e[l]=e[l]||{},o=e[l][t],s=e[l][t]=function(e,t){if(!this._createWidget)return new s(e,t);arguments.length&&this._createWidget(e,t)},e.extend(s,o,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,n){if(!e.isFunction(n))return void(r[t]=n);r[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function o(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,s=this._superApply;return this._super=e,this._superApply=o,t=n.apply(this,arguments),this._super=i,this._superApply=s,t}}()}),s.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||t:t},r,{constructor:s,namespace:l,widgetName:t,
widgetFullName:d}),o?(e.each(o._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete o._childConstructors):i._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var n,o,s=i.call(arguments,1),a=0,r=s.length;a<r;a++)for(n in s[a])o=s[a][n],s[a].hasOwnProperty(n)&&o!==undefined&&(e.isPlainObject(o)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],o):e.widget.extend({},o):t[n]=o);return t},e.widget.bridge=function(t,n){var o=n.prototype.widgetFullName||t;e.fn[t]=function(s){var a="string"==typeof s,r=i.call(arguments,1),l=this;return a?this.length||"instance"!==s?this.each(function(){var i,n=e.data(this,o);return"instance"===s?(l=n,!1):n?e.isFunction(n[s])&&"_"!==s.charAt(0)?(i=n[s].apply(n,r),i!==n&&i!==undefined?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+s+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+s+"'")}):l=undefined:(r.length&&(s=e.widget.extend.apply(null,[s].concat(r))),this.each(function(){var t=e.data(this,o);t?(t.option(s||{}),t._init&&t._init()):e.data(this,o,new n(s,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,i){t._removeClass(i,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,o,s,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},n=t.split("."),t=n.shift(),n.length){for(o=a[t]=e.widget.extend({},this.options[t]),s=0;s<n.length-1;s++)o[n[s]]=o[n[s]]||{},o=o[n[s]];if(t=n.pop(),1===arguments.length)return o[t]===undefined?null:o[t];o[t]=i}else{if(1===arguments.length)return this.options[t]===undefined?null:this.options[t];a[t]=i}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,n,o;for(i in t)o=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&o&&o.length&&(n=e(o.get()),this._removeClass(o,i),n.addClass(this._classes({element:n,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function i(i,s){var a,r;for(r=0;r<i.length;r++)a=o.classesElementLookup[i[r]]||e(),a=e(t.add?e.unique(a.get().concat(t.element.get())):a.not(t.element).get()),o.classesElementLookup[i[r]]=a,n.push(i[r]),s&&t.classes[i[r]]&&n.push(t.classes[i[r]])}var n=[],o=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&i(t.keys.match(/\S+/g)||[],!0),t.extra&&i(t.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,function(n,o){-1!==e.inArray(t.target,o)&&(i.classesElementLookup[n]=e(o.not(t.target).get()))})},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,n){n="boolean"==typeof n?n:i;var o="string"==typeof e||null===e,s={extra:o?t:i,keys:o?e:t,element:o?this.element:e,add:n};return s.element.toggleClass(this._classes(s),n),this},_on:function(t,i,n){var o,s=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,function(n,a){function r(){if(t||!0!==s.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?s[a]:a).apply(s,arguments)}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),d=l[1]+s.eventNamespace,c=l[2];c?o.on(d,c,r):i.on(d,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,n){var o,s,a=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(o in s)o in i||(i[o]=s[o]);return this.element.trigger(i,n),!(e.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,o,s){"string"==typeof o&&(o={effect:o});var a,r=o?!0===o||"number"==typeof o?i:o.effect||i:t;o=o||{},"number"==typeof o&&(o={duration:o}),a=!e.isEmptyObject(o),o.complete=s,o.delay&&n.delay(o.delay),a&&e.effects&&e.effects.effect[r]?n[t](o):r!==t&&n[r]?n[r](o.duration,o.easing,s):n.queue(function(i){e(this)[t](),s&&s.call(n[0]),i()})}}),e.widget}),function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return function(){function t(e,t,i){return[parseFloat(e[0])*(h.test(e[0])?t/100:1),parseFloat(e[1])*(h.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function n(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var o,s=Math.max,a=Math.abs,r=/left|center|right/,l=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,h=/%$/,u=e.fn.position;e.position={scrollbarWidth:function(){if(o!==undefined)return o;var t,i,n=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=n.children()[0];return e("body").append(n),t=s.offsetWidth,n.css("overflow","scroll"),i=s.offsetWidth,t===i&&(i=n[0].clientWidth),n.remove(),o=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),o="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),o=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:o,offset:n||o?{left:0,top:0}:e(t).offset(),scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},e.fn.position=function(o){if(!o||!o.of)return u.apply(this,arguments);o=e.extend({},o);var h,p,f,m,g,v,b=e(o.of),w=e.position.getWithinInfo(o.within),y=e.position.getScrollInfo(w),k=(o.collision||"flip").split(" "),C={};return v=n(b),b[0].preventDefault&&(o.at="left top"),p=v.width,f=v.height,m=v.offset,g=e.extend({},m),e.each(["my","at"],function(){var e,t,i=(o[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",e=d.exec(i[0]),t=d.exec(i[1]),C[this]=[e?e[0]:0,t?t[0]:0],o[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===o.at[0]?g.left+=p:"center"===o.at[0]&&(g.left+=p/2),"bottom"===o.at[1]?g.top+=f:"center"===o.at[1]&&(g.top+=f/2),h=t(C.at,p,f),g.left+=h[0],g.top+=h[1],this.each(function(){var n,r,l=e(this),d=l.outerWidth(),c=l.outerHeight(),u=i(this,"marginLeft"),v=i(this,"marginTop"),x=d+u+i(this,"marginRight")+y.width,S=c+v+i(this,"marginBottom")+y.height,F=e.extend({},g),T=t(C.my,l.outerWidth(),l.outerHeight());"right"===o.my[0]?F.left-=d:"center"===o.my[0]&&(F.left-=d/2),"bottom"===o.my[1]?F.top-=c:"center"===o.my[1]&&(F.top-=c/2),F.left+=T[0],F.top+=T[1],n={marginLeft:u,marginTop:v},e.each(["left","top"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](F,{targetWidth:p,targetHeight:f,elemWidth:d,elemHeight:c,collisionPosition:n,collisionWidth:x,collisionHeight:S,offset:[h[0]+T[0],h[1]+T[1]],my:o.my,at:o.at,within:w,elem:l})}),o.using&&(r=function(e){var t=m.left-F.left,i=t+p-d,n=m.top-F.top,r=n+f-c,h={target:{element:b,left:m.left,top:m.top,width:p,height:f},element:{element:l,left:F.left,top:F.top,width:d,height:c},horizontal:i<0?"left":t>0?"right":"center",vertical:r<0?"top":n>0?"bottom":"middle"};p<d&&a(t+i)<p&&(h.horizontal="center"),f<c&&a(n+r)<f&&(h.vertical="middle"),s(a(t),a(i))>s(a(n),a(r))?h.important="horizontal":h.important="vertical",o.using.call(this,e,h)}),l.offset(e.extend(F,{using:r}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollLeft:n.offset.left,a=n.width,r=e.left-t.collisionPosition.marginLeft,l=o-r,d=r+t.collisionWidth-a-o;t.collisionWidth>a?l>0&&d<=0?(i=e.left+l+t.collisionWidth-a-o,e.left+=l-i):e.left=d>0&&l<=0?o:l>d?o+a-t.collisionWidth:o:l>0?e.left+=l:d>0?e.left-=d:e.left=s(e.left-r,e.left)},top:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollTop:n.offset.top,a=t.within.height,r=e.top-t.collisionPosition.marginTop,l=o-r,d=r+t.collisionHeight-a-o;t.collisionHeight>a?l>0&&d<=0?(i=e.top+l+t.collisionHeight-a-o,e.top+=l-i):e.top=d>0&&l<=0?o:l>d?o+a-t.collisionHeight:o:l>0?e.top+=l:d>0?e.top-=d:e.top=s(e.top-r,e.top)}},flip:{left:function(e,t){var i,n,o=t.within,s=o.offset.left+o.scrollLeft,r=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,d=e.left-t.collisionPosition.marginLeft,c=d-l,h=d+t.collisionWidth-r-l,u="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];c<0?((i=e.left+u+p+f+t.collisionWidth-r-s)<0||i<a(c))&&(e.left+=u+p+f):h>0&&((n=e.left-t.collisionPosition.marginLeft+u+p+f-l)>0||a(n)<h)&&(e.left+=u+p+f)},top:function(e,t){var i,n,o=t.within,s=o.offset.top+o.scrollTop,r=o.height,l=o.isWindow?o.scrollTop:o.offset.top,d=e.top-t.collisionPosition.marginTop,c=d-l,h=d+t.collisionHeight-r-l,u="top"===t.my[1],p=u?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];c<0?((n=e.top+p+f+m+t.collisionHeight-r-s)<0||n<a(c))&&(e.top+=p+f+m):h>0&&((i=e.top-t.collisionPosition.marginTop+p+f+m-l)>0||a(i)<h)&&(e.top+=p+f+m)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position}),function(e){"function"==typeof define&&define.amd?define(["jquery","../ie","../version","../widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,o=1===i.which,s=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(o&&!s&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=!1!==this._mouseStart(i),!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,i.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./mouse","../keycode","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.slider",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,o=this.element.find(".ui-slider-handle"),s=[];for(i=n.values&&n.values.length||1,o.length>i&&(o.slice(i).remove(),o=o.slice(0,i)),t=o.length;t<i;t++)s.push("<span tabindex='0'></span>");this.handles=o.add(e(s.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=e("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var i,n,o,s,a,r,l,d=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-d.values(t));(o>i||o===i&&(t===d._lastChangedValue||d.values(t)===c.min))&&(o=i,s=e(this),a=t)}),!1!==this._start(t,a)&&(this._mouseSliding=!0,this._handleIndex=a,this._addClass(s,null,"ui-state-active"),s.trigger("focus"),r=s.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-r.left-s.width()/2,top:t.pageY-r.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,o,s;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/t,n>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),o=this._valueMax()-this._valueMin(),s=this._valueMin()+n*o,this._trimAlignValue(s)},_uiHash:function(e,t,i){var n={handle:this.handles[e],handleIndex:e,value:t!==undefined?t:this.value()};return this._hasMultipleValues()&&(n.value=t!==undefined?t:this.values(e),n.values=i||this.values()),n},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,i){var n,o=this.value(),s=this.values();this._hasMultipleValues()&&(n=this.values(t?0:1),o=this.values(t),2===this.options.values.length&&!0===this.options.range&&(i=0===t?Math.min(n,i):Math.max(n,i)),s[t]=i),i!==o&&!1!==this._trigger("slide",e,this._uiHash(t,i,s))&&(this._hasMultipleValues()?this.values(t,i):this.value(i))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var n,o,s;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();for(n=this.options.values,o=arguments[0],s=0;s<n.length;s+=1)n[s]=this._trimAlignValue(o[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,i){var n,o=0;switch("range"===t&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(o=this.options.values.length),this._super(t,i),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=o-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step;e=Math.round((e-t)/i)*i+t,e>this.options.max&&(e-=i),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,i,n,o,s,a=this.options.range,r=this.options,l=this,d=!this._animateOff&&r.animate,c={};this._hasMultipleValues()?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[d?"animate":"css"](c,r.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[d?"animate":"css"]({left:i+"%"},r.animate),1===n&&l.range[d?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===n&&l.range.stop(1,1)[d?"animate":"css"]({bottom:i+"%"},r.animate),1===n&&l.range[d?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(n=this.value(),o=this._valueMin(),s=this._valueMax(),i=s!==o?(n-o)/(s-o)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[d?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[d?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[d?"animate":"css"]({width:100-i+"%"},r.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[d?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[d?"animate":"css"]({height:100-i+"%"},r.animate))},_handleEvents:{keydown:function(t){var i,n,o,s=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(e(t.target),null,"ui-state-active"),!1===this._start(t,s)))return}switch(o=this.options.step,i=n=this._hasMultipleValues()?this.values(s):this.value(),t.keyCode){case e.ui.keyCode.HOME:n=this._valueMin();break;case e.ui.keyCode.END:n=this._valueMax();break;case e.ui.keyCode.PAGE_UP:n=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax())return;n=this._trimAlignValue(i+o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin())return;n=this._trimAlignValue(i-o)}this._slide(t,s,n)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),this._removeClass(e(t.target),null,"ui-state-active"))}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};t=function(){function t(t,n){var o,s=this;s.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(t),appendDots:e(t),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,i){return e('<button type="button" />').text(i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},s.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},e.extend(s,s.initials),s.activeBreakpoint=null,s.animType=null,s.animProp=null,s.breakpoints=[],s.breakpointSettings=[],s.cssTransitions=!1,s.focussed=!1,s.interrupted=!1,s.hidden="hidden",s.paused=!0,s.positionProp=null,s.respondTo=null,s.rowCount=1,s.shouldClick=!0,s.$slider=e(t),s.$slidesCache=null,s.transformType=null,s.transitionType=null,s.visibilityChange="visibilitychange",s.windowWidth=0,s.windowTimer=null,o=e(t).data("slick")||{},s.options=e.extend({},s.defaults,n,o),s.currentSlide=s.options.initialSlide,s.originalSettings=s.options,"undefined"!=typeof document.mozHidden?(s.hidden="mozHidden",s.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(s.hidden="webkitHidden",s.visibilityChange="webkitvisibilitychange"),s.autoPlay=e.proxy(s.autoPlay,s),s.autoPlayClear=e.proxy(s.autoPlayClear,s),s.autoPlayIterator=e.proxy(s.autoPlayIterator,s),s.changeSlide=e.proxy(s.changeSlide,s),s.clickHandler=e.proxy(s.clickHandler,s),s.selectHandler=e.proxy(s.selectHandler,s),s.setPosition=e.proxy(s.setPosition,s),s.swipeHandler=e.proxy(s.swipeHandler,s),s.dragHandler=e.proxy(s.dragHandler,s),s.keyHandler=e.proxy(s.keyHandler,s),s.instanceUid=i++,s.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,s.registerBreakpoints(),s.init(!0)}var i=0;return t}(),t.prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},t.prototype.addSlide=t.prototype.slickAdd=function(t,i,n){var o=this;if("boolean"==typeof i)n=i,i=null;else if(i<0||i>=o.slideCount)return!1;o.unload(),"number"==typeof i?0===i&&0===o.$slides.length?e(t).appendTo(o.$slideTrack):n?e(t).insertBefore(o.$slides.eq(i)):e(t).insertAfter(o.$slides.eq(i)):!0===n?e(t).prependTo(o.$slideTrack):e(t).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slides.each(function(t,i){e(i).attr("data-slick-index",t)}),o.$slidesCache=o.$slides,o.reinit()},t.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},t.prototype.animateSlide=function(t,i){var n={},o=this;o.animateHeight(),!0===o.options.rtl&&!1===o.options.vertical&&(t=-t),!1===o.transformsEnabled?!1===o.options.vertical?o.$slideTrack.animate({left:t},o.options.speed,o.options.easing,i):o.$slideTrack.animate({top:t},o.options.speed,o.options.easing,i):!1===o.cssTransitions?(!0===o.options.rtl&&(o.currentLeft=-o.currentLeft),e({animStart:o.currentLeft}).animate({animStart:t},{duration:o.options.speed,easing:o.options.easing,step:function(e){e=Math.ceil(e),!1===o.options.vertical?(n[o.animType]="translate("+e+"px, 0px)",o.$slideTrack.css(n)):(n[o.animType]="translate(0px,"+e+"px)",o.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(o.applyTransition(),t=Math.ceil(t),!1===o.options.vertical?n[o.animType]="translate3d("+t+"px, 0px, 0px)":n[o.animType]="translate3d(0px,"+t+"px, 0px)",o.$slideTrack.css(n),i&&setTimeout(function(){o.disableTransition(),i.call()},o.options.speed))},t.prototype.getNavTarget=function(){var t=this,i=t.options.asNavFor;return i&&null!==i&&(i=e(i).not(t.$slider)),i},t.prototype.asNavFor=function(t){var i=this,n=i.getNavTarget();null!==n&&"object"==typeof n&&n.each(function(){var i=e(this).slick("getSlick");i.unslicked||i.slideHandler(t,!0)})},t.prototype.applyTransition=function(e){var t=this,i={};!1===t.options.fade?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.autoPlay=function(){var e=this;e.autoPlayClear(),e.slideCount>e.options.slidesToShow&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(!1===e.options.infinite&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1==0&&(e.direction=1))),e.slideHandler(t))},t.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&(t.$prevArrow=e(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=e(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),
t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},t.prototype.buildDots=function(){var t,i,n=this;if(!0===n.options.dots&&n.slideCount>n.options.slidesToShow){for(n.$slider.addClass("slick-dotted"),i=e("<ul />").addClass(n.options.dotsClass),t=0;t<=n.getDotCount();t+=1)i.append(e("<li />").append(n.options.customPaging.call(this,n,t)));n.$dots=i.appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){e(i).attr("data-slick-index",t).data("originalStyling",e(i).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),!0!==t.options.centerMode&&!0!==t.options.swipeToSlide||(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),!0===t.options.draggable&&t.$list.addClass("draggable")},t.prototype.buildRows=function(){var e,t,i,n,o,s,a,r=this;if(n=document.createDocumentFragment(),s=r.$slider.children(),r.options.rows>0){for(a=r.options.slidesPerRow*r.options.rows,o=Math.ceil(s.length/a),e=0;e<o;e++){var l=document.createElement("div");for(t=0;t<r.options.rows;t++){var d=document.createElement("div");for(i=0;i<r.options.slidesPerRow;i++){var c=e*a+(t*r.options.slidesPerRow+i);s.get(c)&&d.appendChild(s.get(c))}l.appendChild(d)}n.appendChild(l)}r.$slider.empty().append(n),r.$slider.children().children().children().css({width:100/r.options.slidesPerRow+"%",display:"inline-block"})}},t.prototype.checkResponsive=function(t,i){var n,o,s,a=this,r=!1,l=a.$slider.width(),d=window.innerWidth||e(window).width();if("window"===a.respondTo?s=d:"slider"===a.respondTo?s=l:"min"===a.respondTo&&(s=Math.min(d,l)),a.options.responsive&&a.options.responsive.length&&null!==a.options.responsive){o=null;for(n in a.breakpoints)a.breakpoints.hasOwnProperty(n)&&(!1===a.originalSettings.mobileFirst?s<a.breakpoints[n]&&(o=a.breakpoints[n]):s>a.breakpoints[n]&&(o=a.breakpoints[n]));null!==o?null!==a.activeBreakpoint?(o!==a.activeBreakpoint||i)&&(a.activeBreakpoint=o,"unslick"===a.breakpointSettings[o]?a.unslick(o):(a.options=e.extend({},a.originalSettings,a.breakpointSettings[o]),!0===t&&(a.currentSlide=a.options.initialSlide),a.refresh(t)),r=o):(a.activeBreakpoint=o,"unslick"===a.breakpointSettings[o]?a.unslick(o):(a.options=e.extend({},a.originalSettings,a.breakpointSettings[o]),!0===t&&(a.currentSlide=a.options.initialSlide),a.refresh(t)),r=o):null!==a.activeBreakpoint&&(a.activeBreakpoint=null,a.options=a.originalSettings,!0===t&&(a.currentSlide=a.options.initialSlide),a.refresh(t),r=o),t||!1===r||a.$slider.trigger("breakpoint",[a,r])}},t.prototype.changeSlide=function(t,i){var n,o,s,a=this,r=e(t.currentTarget);switch(r.is("a")&&t.preventDefault(),r.is("li")||(r=r.closest("li")),s=a.slideCount%a.options.slidesToScroll!=0,n=s?0:(a.slideCount-a.currentSlide)%a.options.slidesToScroll,t.data.message){case"previous":o=0===n?a.options.slidesToScroll:a.options.slidesToShow-n,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide-o,!1,i);break;case"next":o=0===n?a.options.slidesToScroll:n,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide+o,!1,i);break;case"index":var l=0===t.data.index?0:t.data.index||r.index()*a.options.slidesToScroll;a.slideHandler(a.checkNavigable(l),!1,i),r.children().trigger("focus");break;default:return}},t.prototype.checkNavigable=function(e){var t,i,n=this;if(t=n.getNavigableIndexes(),i=0,e>t[t.length-1])e=t[t.length-1];else for(var o in t){if(e<t[o]){e=i;break}i=t[o]}return e},t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(e("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",e.proxy(t.interrupt,t,!0)).off("mouseleave.slick",e.proxy(t.interrupt,t,!1)),!0===t.options.accessibility&&t.$dots.off("keydown.slick",t.keyHandler)),t.$slider.off("focus.slick blur.slick"),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow&&t.$prevArrow.off("keydown.slick",t.keyHandler),t.$nextArrow&&t.$nextArrow.off("keydown.slick",t.keyHandler))),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),e(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),!0===t.options.accessibility&&t.$list.off("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().off("click.slick",t.selectHandler),e(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),e(window).off("resize.slick.slick-"+t.instanceUid,t.resize),e("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),e(window).off("load.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.off("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.cleanUpRows=function(){var e,t=this;t.options.rows>0&&(e=t.$slides.children().children(),e.removeAttr("style"),t.$slider.empty().append(e))},t.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(t){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),e(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){e(this).attr("style",e(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.$slider.removeClass("slick-dotted"),i.unslicked=!0,t||i.$slider.trigger("destroy",[i])},t.prototype.disableTransition=function(e){var t=this,i={};i[t.transitionType]="",!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.fadeSlide=function(e,t){var i=this;!1===i.cssTransitions?(i.$slides.eq(e).css({zIndex:i.options.zIndex}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},t.prototype.fadeSlideOut=function(e){var t=this;!1===t.cssTransitions?t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(e),t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2}))},t.prototype.filterSlides=t.prototype.slickFilter=function(e){var t=this;null!==e&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.focusHandler=function(){var t=this;t.$slider.off("focus.slick blur.slick").on("focus.slick","*",function(){var i=e(this);setTimeout(function(){t.options.pauseOnFocus&&i.is(":focus")&&(t.focussed=!0,t.autoPlay())},0)}).on("blur.slick","*",function(){e(this);t.options.pauseOnFocus&&(t.focussed=!1,t.autoPlay())})},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){return this.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,i=0,n=0;if(!0===e.options.infinite)if(e.slideCount<=e.options.slidesToShow)++n;else for(;t<e.slideCount;)++n,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(!0===e.options.centerMode)n=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++n,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else n=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return n-1},t.prototype.getLeft=function(e){var t,i,n,o,s=this,a=0;return s.slideOffset=0,i=s.$slides.first().outerHeight(!0),!0===s.options.infinite?(s.slideCount>s.options.slidesToShow&&(s.slideOffset=s.slideWidth*s.options.slidesToShow*-1,o=-1,!0===s.options.vertical&&!0===s.options.centerMode&&(2===s.options.slidesToShow?o=-1.5:1===s.options.slidesToShow&&(o=-2)),a=i*s.options.slidesToShow*o),s.slideCount%s.options.slidesToScroll!=0&&e+s.options.slidesToScroll>s.slideCount&&s.slideCount>s.options.slidesToShow&&(e>s.slideCount?(s.slideOffset=(s.options.slidesToShow-(e-s.slideCount))*s.slideWidth*-1,a=(s.options.slidesToShow-(e-s.slideCount))*i*-1):(s.slideOffset=s.slideCount%s.options.slidesToScroll*s.slideWidth*-1,a=s.slideCount%s.options.slidesToScroll*i*-1))):e+s.options.slidesToShow>s.slideCount&&(s.slideOffset=(e+s.options.slidesToShow-s.slideCount)*s.slideWidth,a=(e+s.options.slidesToShow-s.slideCount)*i),s.slideCount<=s.options.slidesToShow&&(s.slideOffset=0,a=0),!0===s.options.centerMode&&s.slideCount<=s.options.slidesToShow?s.slideOffset=s.slideWidth*Math.floor(s.options.slidesToShow)/2-s.slideWidth*s.slideCount/2:!0===s.options.centerMode&&!0===s.options.infinite?s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)-s.slideWidth:!0===s.options.centerMode&&(s.slideOffset=0,s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)),t=!1===s.options.vertical?e*s.slideWidth*-1+s.slideOffset:e*i*-1+a,!0===s.options.variableWidth&&(n=s.slideCount<=s.options.slidesToShow||!1===s.options.infinite?s.$slideTrack.children(".slick-slide").eq(e):s.$slideTrack.children(".slick-slide").eq(e+s.options.slidesToShow),t=!0===s.options.rtl?n[0]?-1*(s.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,!0===s.options.centerMode&&(n=s.slideCount<=s.options.slidesToShow||!1===s.options.infinite?s.$slideTrack.children(".slick-slide").eq(e):s.$slideTrack.children(".slick-slide").eq(e+s.options.slidesToShow+1),t=!0===s.options.rtl?n[0]?-1*(s.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,t+=(s.$list.width()-n.outerWidth())/2)),t},t.prototype.getOption=t.prototype.slickGetOption=function(e){return this.options[e]},t.prototype.getNavigableIndexes=function(){var e,t=this,i=0,n=0,o=[];for(!1===t.options.infinite?e=t.slideCount:(i=-1*t.options.slidesToScroll,n=-1*t.options.slidesToScroll,e=2*t.slideCount);i<e;)o.push(i),i=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return o},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t,i,n,o=this;return n=!0===o.options.centerMode?Math.floor(o.$list.width()/2):0,i=-1*o.swipeLeft+n,!0===o.options.swipeToSlide?(o.$slideTrack.find(".slick-slide").each(function(n,s){var a,r,l;if(a=e(s).outerWidth(),r=s.offsetLeft,!0!==o.options.centerMode&&(r+=a/2),l=r+a,i<l)return t=s,!1}),Math.abs(e(t).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},t.prototype.init=function(t){var i=this;e(i.$slider).hasClass("slick-initialized")||(e(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots(),i.checkResponsive(!0),i.focusHandler()),t&&i.$slider.trigger("init",[i]),!0===i.options.accessibility&&i.initADA(),i.options.autoplay&&(i.paused=!1,i.autoPlay())},t.prototype.initADA=function(){var t=this,i=Math.ceil(t.slideCount/t.options.slidesToShow),n=t.getNavigableIndexes().filter(function(e){return e>=0&&e<t.slideCount});t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==t.$dots&&(t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i){var o=n.indexOf(i);if(e(this).attr({role:"tabpanel",id:"slick-slide"+t.instanceUid+i,tabindex:-1}),-1!==o){var s="slick-slide-control"+t.instanceUid+o;e("#"+s).length&&e(this).attr({"aria-describedby":s})}}),t.$dots.attr("role","tablist").find("li").each(function(o){var s=n[o];e(this).attr({role:"presentation"}),e(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+t.instanceUid+o,"aria-controls":"slick-slide"+t.instanceUid+s,"aria-label":o+1+" of "+i,"aria-selected":null,tabindex:"-1"})}).eq(t.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var o=t.currentSlide,s=o+t.options.slidesToShow;o<s;o++)t.options.focusOnChange?t.$slides.eq(o).attr({tabindex:"0"}):t.$slides.eq(o).removeAttr("tabindex");t.activateADA()},t.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow.on("keydown.slick",e.keyHandler),e.$nextArrow.on("keydown.slick",e.keyHandler)))},t.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&(e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.accessibility&&t.$dots.on("keydown.slick",t.keyHandler)),!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("mouseenter.slick",e.proxy(t.interrupt,t,!0)).on("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.initSlideEvents=function(){var t=this;t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.on("mouseleave.slick",e.proxy(t.interrupt,t,!1)))},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),e(document).on(t.visibilityChange,e.proxy(t.visibility,t)),!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,e.proxy(t.orientationChange,t)),e(window).on("resize.slick.slick-"+t.instanceUid,e.proxy(t.resize,t)),e("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(t.setPosition)},t.prototype.initUI=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show()},t.prototype.keyHandler=function(e){var t=this;e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&!0===t.options.accessibility?t.changeSlide({data:{message:!0===t.options.rtl?"next":"previous"}}):39===e.keyCode&&!0===t.options.accessibility&&t.changeSlide({data:{message:!0===t.options.rtl?"previous":"next"}}))},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each(function(){var t=e(this),i=e(this).attr("data-lazy"),n=e(this).attr("data-srcset"),o=e(this).attr("data-sizes")||a.$slider.attr("data-sizes"),s=document.createElement("img");s.onload=function(){t.animate({opacity:0},100,function(){n&&(t.attr("srcset",n),o&&t.attr("sizes",o)),t.attr("src",i).animate({opacity:1},200,function(){t.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),a.$slider.trigger("lazyLoaded",[a,t,i])})},s.onerror=function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),a.$slider.trigger("lazyLoadError",[a,t,i])},s.src=i})}var i,n,o,s,a=this;if(!0===a.options.centerMode?!0===a.options.infinite?(o=a.currentSlide+(a.options.slidesToShow/2+1),s=o+a.options.slidesToShow+2):(o=Math.max(0,a.currentSlide-(a.options.slidesToShow/2+1)),s=a.options.slidesToShow/2+1+2+a.currentSlide):(o=a.options.infinite?a.options.slidesToShow+a.currentSlide:a.currentSlide,s=Math.ceil(o+a.options.slidesToShow),!0===a.options.fade&&(o>0&&o--,s<=a.slideCount&&s++)),i=a.$slider.find(".slick-slide").slice(o,s),"anticipated"===a.options.lazyLoad)for(var r=o-1,l=s,d=a.$slider.find(".slick-slide"),c=0;c<a.options.slidesToScroll;c++)r<0&&(r=a.slideCount-1),i=i.add(d.eq(r)),i=i.add(d.eq(l)),r--,l++;t(i),a.slideCount<=a.options.slidesToShow?(n=a.$slider.find(".slick-slide"),t(n)):a.currentSlide>=a.slideCount-a.options.slidesToShow?(n=a.$slider.find(".slick-cloned").slice(0,a.options.slidesToShow),t(n)):0===a.currentSlide&&(n=a.$slider.find(".slick-cloned").slice(-1*a.options.slidesToShow),t(n))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},t.prototype.orientationChange=function(){var e=this;e.checkResponsive(),e.setPosition()},t.prototype.pause=t.prototype.slickPause=function(){var e=this;e.autoPlayClear(),e.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var e=this;e.autoPlay(),e.options.autoplay=!0,e.paused=!1,e.focussed=!1,e.interrupted=!1},t.prototype.postSlide=function(t){var i=this;if(!i.unslicked&&(i.$slider.trigger("afterChange",[i,t]),i.animating=!1,i.slideCount>i.options.slidesToShow&&i.setPosition(),i.swipeLeft=null,i.options.autoplay&&i.autoPlay(),!0===i.options.accessibility&&(i.initADA(),i.options.focusOnChange))){e(i.$slides.get(i.currentSlide)).attr("tabindex",0).focus()}},t.prototype.prev=t.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.progressiveLazyLoad=function(t){t=t||1;var i,n,o,s,a,r=this,l=e("img[data-lazy]",r.$slider);l.length?(i=l.first(),n=i.attr("data-lazy"),o=i.attr("data-srcset"),s=i.attr("data-sizes")||r.$slider.attr("data-sizes"),a=document.createElement("img"),a.onload=function(){o&&(i.attr("srcset",o),s&&i.attr("sizes",s)),i.attr("src",n).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===r.options.adaptiveHeight&&r.setPosition(),r.$slider.trigger("lazyLoaded",[r,i,n]),r.progressiveLazyLoad()},a.onerror=function(){t<3?setTimeout(function(){r.progressiveLazyLoad(t+1)},500):(i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,i,n]),r.progressiveLazyLoad())},a.src=n):r.$slider.trigger("allImagesLoaded",[r])},t.prototype.refresh=function(t){var i,n,o=this;n=o.slideCount-o.options.slidesToShow,!o.options.infinite&&o.currentSlide>n&&(o.currentSlide=n),o.slideCount<=o.options.slidesToShow&&(o.currentSlide=0),i=o.currentSlide,o.destroy(!0),e.extend(o,o.initials,{currentSlide:i}),o.init(),t||o.changeSlide({data:{message:"index",index:i}},!1)},t.prototype.registerBreakpoints=function(){var t,i,n,o=this,s=o.options.responsive||null;if("array"===e.type(s)&&s.length){o.respondTo=o.options.respondTo||"window";for(t in s)if(n=o.breakpoints.length-1,s.hasOwnProperty(t)){for(i=s[t].breakpoint;n>=0;)o.breakpoints[n]&&o.breakpoints[n]===i&&o.breakpoints.splice(n,1),n--;o.breakpoints.push(i),o.breakpointSettings[i]=s[t].settings}o.breakpoints.sort(function(e,t){return o.options.mobileFirst?e-t:t-e})}},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),!0===t.options.focusOnSelect&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},t.prototype.resize=function(){var t=this;e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},t.prototype.removeSlide=t.prototype.slickRemove=function(e,t,i){var n=this;if("boolean"==typeof e?(t=e,e=!0===t?0:n.slideCount-1):e=!0===t?--e:e,n.slideCount<1||e<0||e>n.slideCount-1)return!1;n.unload(),!0===i?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit()},t.prototype.setCSS=function(e){var t,i,n=this,o={};!0===n.options.rtl&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",i="top"==n.positionProp?Math.ceil(e)+"px":"0px",o[n.positionProp]=e,!1===n.transformsEnabled?n.$slideTrack.css(o):(o={},!1===n.cssTransitions?(o[n.animType]="translate("+t+", "+i+")",n.$slideTrack.css(o)):(o[n.animType]="translate3d("+t+", "+i+", 0px)",n.$slideTrack.css(o)))},t.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):!0===e.options.variableWidth?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},t.prototype.setFade=function(){var t,i=this;i.$slides.each(function(n,o){t=i.slideWidth*n*-1,!0===i.options.rtl?e(o).css({position:"relative",right:t,top:0,zIndex:i.options.zIndex-2,opacity:0}):e(o).css({position:"relative",left:t,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setOption=t.prototype.slickSetOption=function(){var t,i,n,o,s,a=this,r=!1;if("object"===e.type(arguments[0])?(n=arguments[0],r=arguments[1],s="multiple"):"string"===e.type(arguments[0])&&(n=arguments[0],o=arguments[1],r=arguments[2],"responsive"===arguments[0]&&"array"===e.type(arguments[1])?s="responsive":"undefined"!=typeof arguments[1]&&(s="single")),"single"===s)a.options[n]=o;else if("multiple"===s)e.each(n,function(e,t){a.options[e]=t});else if("responsive"===s)for(i in o)if("array"!==e.type(a.options.responsive))a.options.responsive=[o[i]];else{for(t=a.options.responsive.length-1;t>=0;)a.options.responsive[t].breakpoint===o[i].breakpoint&&a.options.responsive.splice(t,1),t--;a.options.responsive.push(o[i])}r&&(a.unload(),a.reinit())},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),!1===e.options.fade?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),t.WebkitTransition===undefined&&t.MozTransition===undefined&&t.msTransition===undefined||!0===e.options.useCSS&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),t.OTransform!==undefined&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",t.perspectiveProperty===undefined&&t.webkitPerspective===undefined&&(e.animType=!1)),t.MozTransform!==undefined&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",t.perspectiveProperty===undefined&&t.MozPerspective===undefined&&(e.animType=!1)),t.webkitTransform!==undefined&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",t.perspectiveProperty===undefined&&t.webkitPerspective===undefined&&(e.animType=!1)),t.msTransform!==undefined&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",t.msTransform===undefined&&(e.animType=!1)),t.transform!==undefined&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&!1!==e.animType},t.prototype.setSlideClasses=function(e){var t,i,n,o,s=this;if(i=s.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),s.$slides.eq(e).addClass("slick-current"),!0===s.options.centerMode){var a=s.options.slidesToShow%2==0?1:0;t=Math.floor(s.options.slidesToShow/2),!0===s.options.infinite&&(e>=t&&e<=s.slideCount-1-t?s.$slides.slice(e-t+a,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(n=s.options.slidesToShow+e,i.slice(n-t+1+a,n+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?i.eq(i.length-1-s.options.slidesToShow).addClass("slick-center"):e===s.slideCount-1&&i.eq(s.options.slidesToShow).addClass("slick-center")),s.$slides.eq(e).addClass("slick-center")}else e>=0&&e<=s.slideCount-s.options.slidesToShow?s.$slides.slice(e,e+s.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=s.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(o=s.slideCount%s.options.slidesToShow,n=!0===s.options.infinite?s.options.slidesToShow+e:e,s.options.slidesToShow==s.options.slidesToScroll&&s.slideCount-e<s.options.slidesToShow?i.slice(n-(s.options.slidesToShow-o),n+o).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+s.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==s.options.lazyLoad&&"anticipated"!==s.options.lazyLoad||s.lazyLoad()},t.prototype.setupInfinite=function(){var t,i,n,o=this;if(!0===o.options.fade&&(o.options.centerMode=!1),!0===o.options.infinite&&!1===o.options.fade&&(i=null,o.slideCount>o.options.slidesToShow)){for(n=!0===o.options.centerMode?o.options.slidesToShow+1:o.options.slidesToShow,t=o.slideCount;t>o.slideCount-n;t-=1)i=t-1,e(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");for(t=0;t<n+o.slideCount;t+=1)i=t,e(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.interrupt=function(e){var t=this;e||t.autoPlay(),t.interrupted=e},t.prototype.selectHandler=function(t){var i=this,n=e(t.target).is(".slick-slide")?e(t.target):e(t.target).parents(".slick-slide"),o=parseInt(n.attr("data-slick-index"));if(o||(o=0),i.slideCount<=i.options.slidesToShow)return void i.slideHandler(o,!1,!0);i.slideHandler(o)},t.prototype.slideHandler=function(e,t,i){var n,o,s,a,r,l=null,d=this;if(t=t||!1,!(!0===d.animating&&!0===d.options.waitForAnimate||!0===d.options.fade&&d.currentSlide===e)){if(!1===t&&d.asNavFor(e),n=e,l=d.getLeft(n),a=d.getLeft(d.currentSlide),d.currentLeft=null===d.swipeLeft?a:d.swipeLeft,!1===d.options.infinite&&!1===d.options.centerMode&&(e<0||e>d.getDotCount()*d.options.slidesToScroll))return void(!1===d.options.fade&&(n=d.currentSlide,!0!==i&&d.slideCount>d.options.slidesToShow?d.animateSlide(a,function(){d.postSlide(n)}):d.postSlide(n)));if(!1===d.options.infinite&&!0===d.options.centerMode&&(e<0||e>d.slideCount-d.options.slidesToScroll))return void(!1===d.options.fade&&(n=d.currentSlide,!0!==i&&d.slideCount>d.options.slidesToShow?d.animateSlide(a,function(){d.postSlide(n)}):d.postSlide(n)));if(d.options.autoplay&&clearInterval(d.autoPlayTimer),o=n<0?d.slideCount%d.options.slidesToScroll!=0?d.slideCount-d.slideCount%d.options.slidesToScroll:d.slideCount+n:n>=d.slideCount?d.slideCount%d.options.slidesToScroll!=0?0:n-d.slideCount:n,d.animating=!0,d.$slider.trigger("beforeChange",[d,d.currentSlide,o]),s=d.currentSlide,d.currentSlide=o,d.setSlideClasses(d.currentSlide),d.options.asNavFor&&(r=d.getNavTarget(),r=r.slick("getSlick"),r.slideCount<=r.options.slidesToShow&&r.setSlideClasses(d.currentSlide)),d.updateDots(),d.updateArrows(),!0===d.options.fade)return!0!==i?(d.fadeSlideOut(s),d.fadeSlide(o,function(){d.postSlide(o)})):d.postSlide(o),void d.animateHeight();!0!==i&&d.slideCount>d.options.slidesToShow?d.animateSlide(l,function(){d.postSlide(o)}):d.postSlide(o)}},t.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,i,n,o=this;return e=o.touchObject.startX-o.touchObject.curX,t=o.touchObject.startY-o.touchObject.curY,i=Math.atan2(t,e),n=Math.round(180*i/Math.PI),n<0&&(n=360-Math.abs(n)),n<=45&&n>=0?!1===o.options.rtl?"left":"right":n<=360&&n>=315?!1===o.options.rtl?"left":"right":n>=135&&n<=225?!1===o.options.rtl?"right":"left":!0===o.options.verticalSwiping?n>=35&&n<=135?"down":"up":"vertical"},t.prototype.swipeEnd=function(){var e,t,i=this;if(i.dragging=!1,i.swiping=!1,i.scrolling)return i.scrolling=!1,!1;if(i.interrupted=!1,i.shouldClick=!(i.touchObject.swipeLength>10),i.touchObject.curX===undefined)return!1;if(!0===i.touchObject.edgeHit&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe){switch(t=i.swipeDirection()){case"left":case"down":e=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.currentDirection=0;break;case"right":case"up":e=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.currentDirection=1}"vertical"!=t&&(i.slideHandler(e),i.touchObject={},i.$slider.trigger("swipe",[i,t]))}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},t.prototype.swipeHandler=function(e){var t=this
;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&e.originalEvent.touches!==undefined?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,i,n,o,s,a,r=this;return s=e.originalEvent!==undefined?e.originalEvent.touches:null,!(!r.dragging||r.scrolling||s&&1!==s.length)&&(t=r.getLeft(r.currentSlide),r.touchObject.curX=s!==undefined?s[0].pageX:e.clientX,r.touchObject.curY=s!==undefined?s[0].pageY:e.clientY,r.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(r.touchObject.curX-r.touchObject.startX,2))),a=Math.round(Math.sqrt(Math.pow(r.touchObject.curY-r.touchObject.startY,2))),!r.options.verticalSwiping&&!r.swiping&&a>4?(r.scrolling=!0,!1):(!0===r.options.verticalSwiping&&(r.touchObject.swipeLength=a),i=r.swipeDirection(),e.originalEvent!==undefined&&r.touchObject.swipeLength>4&&(r.swiping=!0,e.preventDefault()),o=(!1===r.options.rtl?1:-1)*(r.touchObject.curX>r.touchObject.startX?1:-1),!0===r.options.verticalSwiping&&(o=r.touchObject.curY>r.touchObject.startY?1:-1),n=r.touchObject.swipeLength,r.touchObject.edgeHit=!1,!1===r.options.infinite&&(0===r.currentSlide&&"right"===i||r.currentSlide>=r.getDotCount()&&"left"===i)&&(n=r.touchObject.swipeLength*r.options.edgeFriction,r.touchObject.edgeHit=!0),!1===r.options.vertical?r.swipeLeft=t+n*o:r.swipeLeft=t+n*(r.$list.height()/r.listWidth)*o,!0===r.options.verticalSwiping&&(r.swipeLeft=t+n*o),!0!==r.options.fade&&!1!==r.options.touchMove&&(!0===r.animating?(r.swipeLeft=null,!1):void r.setCSS(r.swipeLeft))))},t.prototype.swipeStart=function(e){var t,i=this;if(i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return i.touchObject={},!1;e.originalEvent!==undefined&&e.originalEvent.touches!==undefined&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=t!==undefined?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=t!==undefined?t.pageY:e.clientY,i.dragging=!0},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},t.prototype.unslick=function(e){var t=this;t.$slider.trigger("unslick",[t,e]),t.destroy()},t.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode?(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").end(),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active"))},t.prototype.visibility=function(){var e=this;e.options.autoplay&&(document[e.hidden]?e.interrupted=!0:e.interrupted=!1)},e.fn.slick=function(){var e,i,n=this,o=arguments[0],s=Array.prototype.slice.call(arguments,1),a=n.length;for(e=0;e<a;e++)if("object"==typeof o||void 0===o?n[e].slick=new t(n[e],o):i=n[e].slick[o].apply(n[e].slick,s),void 0!==i)return i;return n}}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";return function(e,t,i,n){var o={features:null,bind:function(e,t,i,n){var o=(n?"remove":"add")+"EventListener";t=t.split(" ");for(var s=0;s<t.length;s++)t[s]&&e[o](t[s],i,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var i=document.createElement(t||"div");return e&&(i.className=e),i},getScrollY:function(){var e=window.pageYOffset;return e!==undefined?e:document.documentElement.scrollTop},unbind:function(e,t,i){o.bind(e,t,i,!0)},removeClass:function(e,t){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){o.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var i=e.firstChild;i;){if(o.hasClass(i,t))return i;i=i.nextSibling}},arraySearch:function(e,t,i){for(var n=e.length;n--;)if(e[n][i]===t)return n;return-1},extend:function(e,t,i){for(var n in t)if(t.hasOwnProperty(n)){if(i&&e.hasOwnProperty(n))continue;e[n]=t[n]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(o.features)return o.features;var e=o.createEl(),t=e.style,i="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!n.pointerEvent){var s=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);a&&a.length>0&&(a=parseInt(a[1],10))>=1&&a<8&&(n.isOldIOSPhone=!0)}var r=s.match(/Android\s([0-9\.]*)/),l=r?r[1]:0;l=parseFloat(l),l>=1&&(l<4.4&&(n.isOldAndroid=!0),n.androidVersion=l),n.isMobileOpera=/opera mini|opera mobi/i.test(s)}for(var d,c,h=["transform","perspective","animationName"],u=["","webkit","Moz","ms","O"],p=0;p<4;p++){i=u[p];for(var f=0;f<3;f++)d=h[f],c=i+(i?d.charAt(0).toUpperCase()+d.slice(1):d),!n[d]&&c in t&&(n[d]=c);i&&!n.raf&&(i=i.toLowerCase(),n.raf=window[i+"RequestAnimationFrame"],n.raf&&(n.caf=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]))}if(!n.raf){var m=0;n.raf=function(e){var t=(new Date).getTime(),i=Math.max(0,16-(t-m)),n=window.setTimeout(function(){e(t+i)},i);return m=t+i,n},n.caf=function(e){clearTimeout(e)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.features=n,n}};o.detectFeatures(),o.features.oldIE&&(o.bind=function(e,t,i,n){t=t.split(" ");for(var o,s=(n?"detach":"attach")+"Event",a=function(){i.handleEvent.call(i)},r=0;r<t.length;r++)if(o=t[r])if("object"==typeof i&&i.handleEvent){if(n){if(!i["oldIE"+o])return!1}else i["oldIE"+o]=a;e[s]("on"+o,i["oldIE"+o])}else e[s]("on"+o,i)});var s=this,a=25,r=3,l={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};o.extend(l,n);var d,c,h,u,p,f,m,g,v,b,w,y,k,C,x,S,F,T,D,$,I,E,_,M,z,O,A,P,L,R,j,H,N,U,B,W,V,Y,q,X,J,G,K,Z,Q,ee,te,ie,ne,oe,se,ae,re,le,de,ce,he,ue=function(){return{x:0,y:0}},pe=ue(),fe=ue(),me=ue(),ge={},ve=0,be={},we=ue(),ye=0,ke=!0,Ce=[],xe={},Se=!1,Fe=function(e,t){o.extend(s,t.publicMethods),Ce.push(e)},Te=function(e){var t=ei();return e>t-1?e-t:e<0?t+e:e},De={},$e=function(e,t){return De[e]||(De[e]=[]),De[e].push(t)},Ie=function(e){var t=De[e];if(t){var i=Array.prototype.slice.call(arguments);i.shift();for(var n=0;n<t.length;n++)t[n].apply(s,i)}},Ee=function(){return(new Date).getTime()},_e=function(e){de=e,s.bg.style.opacity=e*l.bgOpacity},Me=function(e,t,i,n,o){(!Se||o&&o!==s.currItem)&&(n/=o?o.fitRatio:s.currItem.fitRatio),e[E]=y+t+"px, "+i+"px"+k+" scale("+n+")"},ze=function(e){oe&&(e&&(b>s.currItem.fitRatio?Se||(ui(s.currItem,!1,!0),Se=!0):Se&&(ui(s.currItem),Se=!1)),Me(oe,me.x,me.y,b))},Oe=function(e){e.container&&Me(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Ae=function(e,t){t[E]=y+e+"px, 0px"+k},Pe=function(e,t){if(!l.loop&&t){var i=u+(we.x*ve-e)/we.x,n=Math.round(e-wt.x);(i<0&&n>0||i>=ei()-1&&n<0)&&(e=wt.x+n*l.mainScrollEndFriction)}wt.x=e,Ae(e,p)},Le=function(e,t){var i=yt[e]-be[e];return fe[e]+pe[e]+i-i*(t/w)},Re=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},je=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},He=null,Ne=function(){He&&(o.unbind(document,"mousemove",Ne),o.addClass(e,"pswp--has_mouse"),l.mouseUsed=!0,Ie("mouseUsed")),He=setTimeout(function(){He=null},100)},Ue=function(){o.bind(document,"keydown",s),j.transform&&o.bind(s.scrollWrap,"click",s),l.mouseUsed||o.bind(document,"mousemove",Ne),o.bind(window,"resize scroll orientationchange",s),Ie("bindEvents")},Be=function(){o.unbind(window,"resize scroll orientationchange",s),o.unbind(window,"scroll",v.scroll),o.unbind(document,"keydown",s),o.unbind(document,"mousemove",Ne),j.transform&&o.unbind(s.scrollWrap,"click",s),q&&o.unbind(window,m,s),clearTimeout(H),Ie("unbindEvents")},We=function(e,t){var i=li(s.currItem,ge,e);return t&&(ne=i),i},Ve=function(e){return e||(e=s.currItem),e.initialZoomLevel},Ye=function(e){return e||(e=s.currItem),e.w>0?l.maxSpreadZoom:1},qe=function(e,t,i,n){return n===s.currItem.initialZoomLevel?(i[e]=s.currItem.initialPosition[e],!0):(i[e]=Le(e,n),i[e]>t.min[e]?(i[e]=t.min[e],!0):i[e]<t.max[e]&&(i[e]=t.max[e],!0))},Xe=function(){if(E){var t=j.perspective&&!M;return y="translate"+(t?"3d(":"("),void(k=j.perspective?", 0px)":")")}E="left",o.addClass(e,"pswp--ie"),Ae=function(e,t){t.left=e+"px"},Oe=function(e){var t=e.fitRatio>1?1:e.fitRatio,i=e.container.style,n=t*e.w,o=t*e.h;i.width=n+"px",i.height=o+"px",i.left=e.initialPosition.x+"px",i.top=e.initialPosition.y+"px"},ze=function(){if(oe){var e=oe,t=s.currItem,i=t.fitRatio>1?1:t.fitRatio,n=i*t.w,o=i*t.h;e.width=n+"px",e.height=o+"px",e.left=me.x+"px",e.top=me.y+"px"}}},Je=function(e){var t="";l.escKey&&27===e.keyCode?t="close":l.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,s[t]()))},Ge=function(e){e&&(G||J||se||V)&&(e.preventDefault(),e.stopPropagation())},Ke=function(){s.setScrollOffset(0,o.getScrollY())},Ze={},Qe=0,et=function(e){Ze[e]&&(Ze[e].raf&&O(Ze[e].raf),Qe--,delete Ze[e])},tt=function(e){Ze[e]&&et(e),Ze[e]||(Qe++,Ze[e]={})},it=function(){for(var e in Ze)Ze.hasOwnProperty(e)&&et(e)},nt=function(e,t,i,n,o,s,a){var r,l=Ee();tt(e);var d=function(){if(Ze[e]){if((r=Ee()-l)>=n)return et(e),s(i),void(a&&a());s((i-t)*o(r/n)+t),Ze[e].raf=z(d)}};d()},ot={shout:Ie,listen:$e,viewportSize:ge,options:l,isMainScrollAnimating:function(){return se},getZoomLevel:function(){return b},getCurrentIndex:function(){return u},isDragging:function(){return q},isZooming:function(){return ee},setScrollOffset:function(e,t){be.x=e,R=be.y=t,Ie("updateScrollOffset",be)},applyZoomPan:function(e,t,i,n){me.x=t,me.y=i,b=e,ze(n)},init:function(){if(!d&&!c){var i;s.framework=o,s.template=e,s.bg=o.getChildByClass(e,"pswp__bg"),A=e.className,d=!0,j=o.detectFeatures(),z=j.raf,O=j.caf,E=j.transform,L=j.oldIE,s.scrollWrap=o.getChildByClass(e,"pswp__scroll-wrap"),s.container=o.getChildByClass(s.scrollWrap,"pswp__container"),p=s.container.style,s.itemHolders=S=[{el:s.container.children[0],wrap:0,index:-1},{el:s.container.children[1],wrap:0,index:-1},{el:s.container.children[2],wrap:0,index:-1}],S[0].el.style.display=S[2].el.style.display="none",Xe(),v={resize:s.updateSize,orientationchange:function(){clearTimeout(H),H=setTimeout(function(){ge.x!==s.scrollWrap.clientWidth&&s.updateSize()},500)},scroll:Ke,keydown:Je,click:Ge};var n=j.isOldIOSPhone||j.isOldAndroid||j.isMobileOpera;for(j.animationName&&j.transform&&!n||(l.showAnimationDuration=l.hideAnimationDuration=0),i=0;i<Ce.length;i++)s["init"+Ce[i]]();if(t){(s.ui=new t(s,o)).init()}Ie("firstUpdate"),u=u||l.index||0,(isNaN(u)||u<0||u>=ei())&&(u=0),s.currItem=Qt(u),(j.isOldIOSPhone||j.isOldAndroid)&&(ke=!1),e.setAttribute("aria-hidden","false"),l.modal&&(ke?e.style.position="fixed":(e.style.position="absolute",e.style.top=o.getScrollY()+"px")),R===undefined&&(Ie("initialLayout"),R=P=o.getScrollY());var a="pswp--open ";for(l.mainClass&&(a+=l.mainClass+" "),l.showHideOpacity&&(a+="pswp--animate_opacity "),a+=M?"pswp--touch":"pswp--notouch",a+=j.animationName?" pswp--css_animation":"",a+=j.svg?" pswp--svg":"",o.addClass(e,a),s.updateSize(),f=-1,ye=null,i=0;i<r;i++)Ae((i+f)*we.x,S[i].el.style);L||o.bind(s.scrollWrap,g,s),$e("initialZoomInEnd",function(){s.setContent(S[0],u-1),s.setContent(S[2],u+1),S[0].el.style.display=S[2].el.style.display="block",l.focus&&e.focus(),Ue()}),s.setContent(S[1],u),s.updateCurrItem(),Ie("afterInit"),ke||(C=setInterval(function(){Qe||q||ee||b!==s.currItem.initialZoomLevel||s.updateSize()},1e3)),o.addClass(e,"pswp--visible")}},close:function(){d&&(d=!1,c=!0,Ie("close"),Be(),ii(s.currItem,null,!0,s.destroy))},destroy:function(){Ie("destroy"),Jt&&clearTimeout(Jt),e.setAttribute("aria-hidden","true"),e.className=A,C&&clearInterval(C),o.unbind(s.scrollWrap,g,s),o.unbind(window,"scroll",s),Ft(),it(),De=null},panTo:function(e,t,i){i||(e>ne.min.x?e=ne.min.x:e<ne.max.x&&(e=ne.max.x),t>ne.min.y?t=ne.min.y:t<ne.max.y&&(t=ne.max.y)),me.x=e,me.y=t,ze()},handleEvent:function(e){e=e||window.event,v[e.type]&&v[e.type](e)},goTo:function(e){e=Te(e);var t=e-u;ye=t,u=e,s.currItem=Qt(u),ve-=t,Pe(we.x*ve),it(),se=!1,s.updateCurrItem()},next:function(){s.goTo(u+1)},prev:function(){s.goTo(u-1)},updateCurrZoomItem:function(e){if(e&&Ie("beforeChange",0),S[1].el.children.length){var t=S[1].el.children[0];oe=o.hasClass(t,"pswp__zoom-wrap")?t.style:null}else oe=null;ne=s.currItem.bounds,w=b=s.currItem.initialZoomLevel,me.x=ne.center.x,me.y=ne.center.y,e&&Ie("afterChange")},invalidateCurrItems:function(){x=!0;for(var e=0;e<r;e++)S[e].item&&(S[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==ye){var t,i=Math.abs(ye);if(!(e&&i<2)){s.currItem=Qt(u),Se=!1,Ie("beforeChange",ye),i>=r&&(f+=ye+(ye>0?-r:r),i=r);for(var n=0;n<i;n++)ye>0?(t=S.shift(),S[r-1]=t,f++,Ae((f+2)*we.x,t.el.style),s.setContent(t,u-i+n+1+1)):(t=S.pop(),S.unshift(t),f--,Ae(f*we.x,t.el.style),s.setContent(t,u+i-n-1-1));if(oe&&1===Math.abs(ye)){var o=Qt(F);o.initialZoomLevel!==b&&(li(o,ge),ui(o),Oe(o))}ye=0,s.updateCurrZoomItem(),F=u,Ie("afterChange")}}},updateSize:function(t){if(!ke&&l.modal){var i=o.getScrollY();if(R!==i&&(e.style.top=i+"px",R=i),!t&&xe.x===window.innerWidth&&xe.y===window.innerHeight)return;xe.x=window.innerWidth,xe.y=window.innerHeight,e.style.height=xe.y+"px"}if(ge.x=s.scrollWrap.clientWidth,ge.y=s.scrollWrap.clientHeight,Ke(),we.x=ge.x+Math.round(ge.x*l.spacing),we.y=ge.y,Pe(we.x*ve),Ie("beforeResize"),f!==undefined){for(var n,a,d,c=0;c<r;c++)n=S[c],Ae((c+f)*we.x,n.el.style),d=u+c-1,l.loop&&ei()>2&&(d=Te(d)),a=Qt(d),a&&(x||a.needsUpdate||!a.bounds)?(s.cleanSlide(a),s.setContent(n,d),1===c&&(s.currItem=a,s.updateCurrZoomItem(!0)),a.needsUpdate=!1):-1===n.index&&d>=0&&s.setContent(n,d),a&&a.container&&(li(a,ge),ui(a),Oe(a));x=!1}w=b=s.currItem.initialZoomLevel,ne=s.currItem.bounds,ne&&(me.x=ne.center.x,me.y=ne.center.y,ze(!0)),Ie("resize")},zoomTo:function(e,t,i,n,s){t&&(w=b,yt.x=Math.abs(t.x)-me.x,yt.y=Math.abs(t.y)-me.y,Re(fe,me));var a=We(e,!1),r={};qe("x",a,r,e),qe("y",a,r,e);var l=b,d={x:me.x,y:me.y};je(r);var c=function(t){1===t?(b=e,me.x=r.x,me.y=r.y):(b=(e-l)*t+l,me.x=(r.x-d.x)*t+d.x,me.y=(r.y-d.y)*t+d.y),s&&s(t),ze(1===t)};i?nt("customZoomTo",0,1,i,n||o.easing.sine.inOut,c):c(1)}},st=30,at=10,rt={},lt={},dt={},ct={},ht={},ut=[],pt={},ft=[],mt={},gt=0,vt=ue(),bt=0,wt=ue(),yt=ue(),kt=ue(),Ct=function(e,t){return e.x===t.x&&e.y===t.y},xt=function(e,t){return Math.abs(e.x-t.x)<a&&Math.abs(e.y-t.y)<a},St=function(e,t){return mt.x=Math.abs(e.x-t.x),mt.y=Math.abs(e.y-t.y),Math.sqrt(mt.x*mt.x+mt.y*mt.y)},Ft=function(){K&&(O(K),K=null)},Tt=function(){q&&(K=z(Tt),Ut())},Dt=function(){return!("fit"===l.scaleMode&&b===s.currItem.initialZoomLevel)},$t=function(e,t){return!(!e||e===document)&&(!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:$t(e.parentNode,t)))},It={},Et=function(e,t){return It.prevent=!$t(e.target,l.isClickableElement),Ie("preventDragEvent",e,t,It),It.prevent},_t=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Mt=function(e,t,i){i.x=.5*(e.x+t.x),i.y=.5*(e.y+t.y)},zt=function(e,t,i){if(e-U>50){var n=ft.length>2?ft.shift():{};n.x=t,n.y=i,ft.push(n),U=e}},Ot=function(){var e=me.y-s.currItem.initialPosition.y;return 1-Math.abs(e/(ge.y/2))},At={},Pt={},Lt=[],Rt=function(e){for(;Lt.length>0;)Lt.pop();return _?(he=0,ut.forEach(function(e){0===he?Lt[0]=e:1===he&&(Lt[1]=e),he++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(Lt[0]=_t(e.touches[0],At),e.touches.length>1&&(Lt[1]=_t(e.touches[1],Pt))):(At.x=e.pageX,At.y=e.pageY,At.id="",Lt[0]=At),Lt},jt=function(e,t){var i,n,o,a,r=me[e]+t[e],d=t[e]>0,c=wt.x+t.x,h=wt.x-pt.x;if(i=r>ne.min[e]||r<ne.max[e]?l.panEndFriction:1,r=me[e]+t[e]*i,(l.allowPanToNext||b===s.currItem.initialZoomLevel)&&(oe?"h"!==ae||"x"!==e||J||(d?(r>ne.min[e]&&(i=l.panEndFriction,ne.min[e]-r,n=ne.min[e]-fe[e]),(n<=0||h<0)&&ei()>1?(a=c,h<0&&c>pt.x&&(a=pt.x)):ne.min.x!==ne.max.x&&(o=r)):(r<ne.max[e]&&(i=l.panEndFriction,r-ne.max[e],n=fe[e]-ne.max[e]),(n<=0||h>0)&&ei()>1?(a=c,h>0&&c<pt.x&&(a=pt.x)):ne.min.x!==ne.max.x&&(o=r))):a=c,"x"===e))return a!==undefined&&(Pe(a,!0),Z=a!==pt.x),ne.min.x!==ne.max.x&&(o!==undefined?me.x=o:Z||(me.x+=t.x*i)),a!==undefined;se||Z||b>s.currItem.fitRatio&&(me[e]+=t[e]*i)},Ht=function(e){if(!("mousedown"===e.type&&e.button>0)){if(Zt)return void e.preventDefault();if(!Y||"mousedown"!==e.type){if(Et(e,!0)&&e.preventDefault(),Ie("pointerDown"),_){var t=o.arraySearch(ut,e.pointerId,"id");t<0&&(t=ut.length),ut[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var i=Rt(e),n=i.length;Q=null,it(),q&&1!==n||(q=re=!0,o.bind(window,m,s),W=ce=le=V=Z=G=X=J=!1,ae=null,Ie("firstTouchStart",i),Re(fe,me),pe.x=pe.y=0,Re(ct,i[0]),Re(ht,ct),pt.x=we.x*ve,ft=[{x:ct.x,y:ct.y}],U=N=Ee(),We(b,!0),Ft(),Tt()),!ee&&n>1&&!se&&!Z&&(w=b,J=!1,ee=X=!0,pe.y=pe.x=0,Re(fe,me),Re(rt,i[0]),Re(lt,i[1]),Mt(rt,lt,kt),yt.x=Math.abs(kt.x)-me.x,yt.y=Math.abs(kt.y)-me.y,te=ie=St(rt,lt))}}},Nt=function(e){if(e.preventDefault(),_){var t=o.arraySearch(ut,e.pointerId,"id");if(t>-1){var i=ut[t];i.x=e.pageX,i.y=e.pageY}}if(q){var n=Rt(e);if(ae||G||ee)Q=n;else if(wt.x!==we.x*ve)ae="h";else{var s=Math.abs(n[0].x-ct.x)-Math.abs(n[0].y-ct.y);Math.abs(s)>=at&&(ae=s>0?"h":"v",Q=n)}}},Ut=function(){if(Q){var e=Q.length;if(0!==e)if(Re(rt,Q[0]),dt.x=rt.x-ct.x,dt.y=rt.y-ct.y,ee&&e>1){if(ct.x=rt.x,ct.y=rt.y,!dt.x&&!dt.y&&Ct(Q[1],lt))return;Re(lt,Q[1]),J||(J=!0,Ie("zoomGestureStarted"));var t=St(rt,lt),i=qt(t);i>s.currItem.initialZoomLevel+s.currItem.initialZoomLevel/15&&(ce=!0);var n=1,o=Ve(),a=Ye();if(i<o)if(l.pinchToClose&&!ce&&w<=s.currItem.initialZoomLevel){var r=o-i,d=1-r/(o/1.2);_e(d),Ie("onPinchClose",d),le=!0}else n=(o-i)/o,n>1&&(n=1),i=o-n*(o/3);else i>a&&(n=(i-a)/(6*o),n>1&&(n=1),i=a+n*o);n<0&&(n=0),te=t,Mt(rt,lt,vt),pe.x+=vt.x-kt.x,pe.y+=vt.y-kt.y,Re(kt,vt),me.x=Le("x",i),me.y=Le("y",i),W=i>b,b=i,ze()}else{if(!ae)return;if(re&&(re=!1,Math.abs(dt.x)>=at&&(dt.x-=Q[0].x-ht.x),Math.abs(dt.y)>=at&&(dt.y-=Q[0].y-ht.y)),ct.x=rt.x,ct.y=rt.y,0===dt.x&&0===dt.y)return;if("v"===ae&&l.closeOnVerticalDrag&&!Dt()){pe.y+=dt.y,me.y+=dt.y;var c=Ot();return V=!0,Ie("onVerticalDrag",c),_e(c),void ze()}zt(Ee(),rt.x,rt.y),G=!0,ne=s.currItem.bounds;var h=jt("x",dt);h||(jt("y",dt),je(me),ze())}}},Bt=function(e){if(j.isOldAndroid){if(Y&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(Y),Y=setTimeout(function(){Y=0},600))}Ie("pointerUp"),Et(e,!1)&&e.preventDefault();var t;if(_){var i=o.arraySearch(ut,e.pointerId,"id");if(i>-1)if(t=ut.splice(i,1)[0],navigator.pointerEnabled)t.type=e.pointerType||"mouse";else{var n={4:"mouse",2:"touch",3:"pen"};t.type=n[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}}var a,r=Rt(e),d=r.length;if("mouseup"===e.type&&(d=0),2===d)return Q=null,!0;1===d&&Re(ht,r[0]),0!==d||ae||se||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Ie("touchRelease",e,t));var c=-1;if(0===d&&(q=!1,o.unbind(window,m,s),Ft(),ee?c=0:-1!==bt&&(c=Ee()-bt)),bt=1===d?Ee():-1,a=-1!==c&&c<150?"zoom":"swipe",ee&&d<2&&(ee=!1,1===d&&(a="zoomPointerUp"),Ie("zoomGestureEnded")),Q=null,G||J||se||V)if(it(),B||(B=Wt()),B.calculateSwipeSpeed("x"),V){var h=Ot();if(h<l.verticalDragRange)s.close();else{var u=me.y,p=de;nt("verticalDrag",0,1,300,o.easing.cubic.out,function(e){me.y=(s.currItem.initialPosition.y-u)*e+u,_e((1-p)*e+p),ze()}),Ie("onVerticalDrag",1)}}else{if((Z||se)&&0===d){var f=Yt(a,B);if(f)return;a="zoomPointerUp"}if(!se)return"swipe"!==a?void Xt():void(!Z&&b>s.currItem.fitRatio&&Vt(B))}},Wt=function(){var e,t,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(n){ft.length>1?(e=Ee()-U+50,t=ft[ft.length-2][n]):(e=Ee()-N,t=ht[n]),i.lastFlickOffset[n]=ct[n]-t,i.lastFlickDist[n]=Math.abs(i.lastFlickOffset[n]),i.lastFlickDist[n]>20?i.lastFlickSpeed[n]=i.lastFlickOffset[n]/e:i.lastFlickSpeed[n]=0,Math.abs(i.lastFlickSpeed[n])<.1&&(i.lastFlickSpeed[n]=0),i.slowDownRatio[n]=.95,i.slowDownRatioReverse[n]=1-i.slowDownRatio[n],i.speedDecelerationRatio[n]=1},calculateOverBoundsAnimOffset:function(e,t){i.backAnimStarted[e]||(me[e]>ne.min[e]?i.backAnimDestination[e]=ne.min[e]:me[e]<ne.max[e]&&(i.backAnimDestination[e]=ne.max[e]),i.backAnimDestination[e]!==undefined&&(i.slowDownRatio[e]=.7,i.slowDownRatioReverse[e]=1-i.slowDownRatio[e],i.speedDecelerationRatioAbs[e]<.05&&(i.lastFlickSpeed[e]=0,i.backAnimStarted[e]=!0,nt("bounceZoomPan"+e,me[e],i.backAnimDestination[e],t||300,o.easing.sine.out,function(t){me[e]=t,ze()}))))},calculateAnimOffset:function(e){i.backAnimStarted[e]||(i.speedDecelerationRatio[e]=i.speedDecelerationRatio[e]*(i.slowDownRatio[e]+i.slowDownRatioReverse[e]-i.slowDownRatioReverse[e]*i.timeDiff/10),i.speedDecelerationRatioAbs[e]=Math.abs(i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]),i.distanceOffset[e]=i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]*i.timeDiff,me[e]+=i.distanceOffset[e])},panAnimLoop:function(){if(Ze.zoomPan&&(Ze.zoomPan.raf=z(i.panAnimLoop),i.now=Ee(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),ze(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05&&i.speedDecelerationRatioAbs.y<.05))return me.x=Math.round(me.x),me.y=Math.round(me.y),ze(),void et("zoomPan")}};return i},Vt=function(e){if(e.calculateSwipeSpeed("y"),ne=s.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;tt("zoomPan"),e.lastNow=Ee(),e.panAnimLoop()},Yt=function(e,t){var i;se||(gt=u);var n;if("swipe"===e){var a=ct.x-ht.x,r=t.lastFlickDist.x<10;a>st&&(r||t.lastFlickOffset.x>20)?n=-1:a<-st&&(r||t.lastFlickOffset.x<-20)&&(n=1)}var d;n&&(u+=n,u<0?(u=l.loop?ei()-1:0,d=!0):u>=ei()&&(u=l.loop?0:ei()-1,d=!0),d&&!l.loop||(ye+=n,ve-=n,i=!0));var c,h=we.x*ve,p=Math.abs(h-wt.x);return i||h>wt.x==t.lastFlickSpeed.x>0?(c=Math.abs(t.lastFlickSpeed.x)>0?p/Math.abs(t.lastFlickSpeed.x):333,c=Math.min(c,400),c=Math.max(c,250)):c=333,gt===u&&(i=!1),se=!0,Ie("mainScrollAnimStart"),nt("mainScroll",wt.x,h,c,o.easing.cubic.out,Pe,function(){it(),se=!1,gt=-1,(i||gt!==u)&&s.updateCurrItem(),Ie("mainScrollAnimComplete")}),i&&s.updateCurrItem(!0),i},qt=function(e){return 1/ie*e*w},Xt=function(){var e=b,t=Ve(),i=Ye();b<t?e=t:b>i&&(e=i);var n,a=1,r=de;return le&&!W&&!ce&&b<t?(s.close(),!0):(le&&(n=function(e){_e((a-r)*e+r)}),s.zoomTo(e,0,200,o.easing.cubic.out,n),!0)};Fe("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,i,n,o){T=e+t,D=e+i,$=e+n,I=o?e+o:""};_=j.pointerEvent,_&&j.touch&&(j.touch=!1),_?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):j.touch?(e("touch","start","move","end","cancel"),M=!0):e("mouse","down","move","up"),m=D+" "+$+" "+I,g=T,_&&!M&&(M=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),s.likelyTouchDevice=M,v[T]=Ht,v[D]=Nt,v[$]=Bt,I&&(v[I]=v[$]),j.touch&&(g+=" mousedown",m+=" mousemove mouseup",v.mousedown=v[T],v.mousemove=v[D],v.mouseup=v[$]),M||(l.allowPanToNext=!1)}}});var Jt,Gt,Kt,Zt,Qt,ei,ti,ii=function(t,i,n,a){Jt&&clearTimeout(Jt),Zt=!0,Kt=!0;var r;t.initialLayout?(r=t.initialLayout,t.initialLayout=null):r=l.getThumbBoundsFn&&l.getThumbBoundsFn(u);var d=n?l.hideAnimationDuration:l.showAnimationDuration,c=function(){et("initialZoom"),n?(s.template.removeAttribute("style"),s.bg.removeAttribute("style")):(_e(1),i&&(i.style.display="block"),o.addClass(e,"pswp--animated-in"),Ie("initialZoom"+(n?"OutEnd":"InEnd"))),a&&a(),Zt=!1};if(!d||!r||r.x===undefined)return Ie("initialZoom"+(n?"Out":"In")),b=t.initialZoomLevel,Re(me,t.initialPosition),ze(),e.style.opacity=n?0:1,_e(1),void(d?setTimeout(function(){c()},d):c());!function(){var i=h,a=!s.currItem.src||s.currItem.loadError||l.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),n||(b=r.w/t.w,me.x=r.x,me.y=r.y-P,s[a?"template":"bg"].style.opacity=.001,ze()),tt("initialZoom"),n&&!i&&o.removeClass(e,"pswp--animated-in"),a&&(n?o[(i?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){o.addClass(e,"pswp--animate_opacity")},30)),Jt=setTimeout(function(){if(Ie("initialZoom"+(n?"Out":"In")),n){var s=r.w/t.w,l={x:me.x,y:me.y},h=b,u=de,p=function(t){1===t?(b=s,me.x=r.x,me.y=r.y-R):(b=(s-h)*t+h,me.x=(r.x-l.x)*t+l.x,me.y=(r.y-R-l.y)*t+l.y),ze(),a?e.style.opacity=1-t:_e(u-t*u)};i?nt("initialZoom",0,1,d,o.easing.cubic.out,p,c):(p(1),Jt=setTimeout(c,d+20))}else b=t.initialZoomLevel,Re(me,t.initialPosition),ze(),_e(1),a?e.style.opacity=1:_e(1),Jt=setTimeout(c,d+20)},n?25:90)}()},ni={},oi=[],si={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Gt.length}},ai=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},ri=function(e,t,i){var n=e.bounds;n.center.x=Math.round((ni.x-t)/2),n.center.y=Math.round((ni.y-i)/2)+e.vGap.top,n.max.x=t>ni.x?Math.round(ni.x-t):n.center.x,n.max.y=i>ni.y?Math.round(ni.y-i)+e.vGap.top:n.center.y,n.min.x=t>ni.x?0:n.center.x,n.min.y=i>ni.y?e.vGap.top:n.center.y},li=function(e,t,i){if(e.src&&!e.loadError){var n=!i;if(n&&(e.vGap||(e.vGap={top:0,bottom:0}),Ie("parseVerticalMargin",e)),ni.x=t.x,ni.y=t.y-e.vGap.top-e.vGap.bottom,n){var o=ni.x/e.w,s=ni.y/e.h;e.fitRatio=o<s?o:s;var a=l.scaleMode;"orig"===a?i=1:"fit"===a&&(i=e.fitRatio),i>1&&(i=1),e.initialZoomLevel=i,e.bounds||(e.bounds=ai())}if(!i)return;return ri(e,e.w*i,e.h*i),n&&i===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=ai(),e.initialPosition=e.bounds.center,e.bounds},di=function(e,t,i,n,o,a){t.loadError||n&&(t.imageAppended=!0,ui(t,n,t===s.currItem&&Se),i.appendChild(n),a&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},ci=function(e){e.loading=!0,e.loaded=!1;var t=e.img=o.createEl("pswp__img","img"),i=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=i,t.onerror=function(){e.loadError=!0,i()},t.src=e.src,t},hi=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=l.errorMsg.replace("%url%",e.src),!0},ui=function(e,t,i){if(e.src){t||(t=e.container.lastChild);var n=i?e.w:Math.round(e.w*e.fitRatio),o=i?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=n+"px",e.placeholder.style.height=o+"px"),t.style.width=n+"px",t.style.height=o+"px"}},pi=function(){if(oi.length){for(var e,t=0;t<oi.length;t++)e=oi[t],e.holder.index===e.index&&di(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);oi=[]}};Fe("Controller",{publicMethods:{lazyLoadItem:function(e){e=Te(e);var t=Qt(e);t&&(!t.loaded&&!t.loading||x)&&(Ie("gettingData",e,t),t.src&&ci(t))},initController:function(){o.extend(l,si,!0),s.items=Gt=i,Qt=s.getItemAt,ei=l.getNumItemsFn,ti=l.loop,ei()<3&&(l.loop=!1),$e("beforeChange",function(e){var t,i=l.preload,n=null===e||e>=0,o=Math.min(i[0],ei()),a=Math.min(i[1],ei());for(t=1;t<=(n?a:o);t++)s.lazyLoadItem(u+t);for(t=1;t<=(n?o:a);t++)s.lazyLoadItem(u-t)}),$e("initialLayout",function(){s.currItem.initialLayout=l.getThumbBoundsFn&&l.getThumbBoundsFn(u)}),$e("mainScrollAnimComplete",pi),$e("initialZoomInEnd",pi),$e("destroy",function(){for(var e,t=0;t<Gt.length;t++)e=Gt[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);oi=null})},getItemAt:function(e){return e>=0&&(Gt[e]!==undefined&&Gt[e])},allowProgressiveImg:function(){return l.forceProgressiveLoading||!M||l.mouseUsed||screen.width>1200},setContent:function(e,t){l.loop&&(t=Te(t));var i=s.getItemAt(e.index);i&&(i.container=null);var n,a=s.getItemAt(t);if(!a)return void(e.el.innerHTML="");Ie("gettingData",t,a),e.index=t,e.item=a;var r=a.container=o.createEl("pswp__zoom-wrap");if(!a.src&&a.html&&(a.html.tagName?r.appendChild(a.html):r.innerHTML=a.html),hi(a),li(a,ge),!a.src||a.loadError||a.loaded)a.src&&!a.loadError&&(n=o.createEl("pswp__img","img"),n.style.opacity=1,n.src=a.src,ui(a,n),di(t,a,r,n,!0));else{if(a.loadComplete=function(i){if(d){if(e&&e.index===t){if(hi(i,!0))return i.loadComplete=i.img=null,li(i,ge),Oe(i),void(e.index===u&&s.updateCurrZoomItem());i.imageAppended?!Zt&&i.placeholder&&(i.placeholder.style.display="none",i.placeholder=null):j.transform&&(se||Zt)?oi.push({item:i,baseDiv:r,img:i.img,index:t,holder:e,clearPlaceholder:!0}):di(t,i,r,i.img,se||Zt,!0)}i.loadComplete=null,i.img=null,Ie("imageLoadComplete",t,i)}},o.features.transform){var c="pswp__img pswp__img--placeholder";c+=a.msrc?"":" pswp__img--placeholder--blank";var h=o.createEl(c,a.msrc?"img":"");a.msrc&&(h.src=a.msrc),ui(a,h),r.appendChild(h),a.placeholder=h}a.loading||ci(a),s.allowProgressiveImg()&&(!Kt&&j.transform?oi.push({item:a,baseDiv:r,img:a.img,index:t,holder:e}):di(t,a,r,a.img,!0,!0))}Kt||t!==u?Oe(a):(oe=r.style,ii(a,n||a.img)),e.el.innerHTML="",e.el.appendChild(r)},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var fi,mi={},gi=function(e,t,i){var n=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:i||"touch"};n.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(n)};Fe("Tap",{publicMethods:{initTap:function(){$e("firstTouchStart",s.onTapStart),$e("touchRelease",s.onTapRelease),$e("destroy",function(){mi={},fi=null})},onTapStart:function(e){e.length>1&&(clearTimeout(fi),fi=null)},onTapRelease:function(e,t){if(t&&!G&&!X&&!Qe){var i=t;if(fi&&(clearTimeout(fi),fi=null,xt(i,mi)))return void Ie("doubleTap",i);if("mouse"===t.type)return void gi(e,t,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||o.hasClass(e.target,"pswp__single-tap"))return void gi(e,t)
;Re(mi,i),fi=setTimeout(function(){gi(e,t),fi=null},300)}}}});var vi;Fe("DesktopZoom",{publicMethods:{initDesktopZoom:function(){L||(M?$e("mouseUsed",function(){s.setupDesktopZoom()}):s.setupDesktopZoom(!0))},setupDesktopZoom:function(t){vi={};var i="wheel mousewheel DOMMouseScroll";$e("bindEvents",function(){o.bind(e,i,s.handleMouseWheel)}),$e("unbindEvents",function(){vi&&o.unbind(e,i,s.handleMouseWheel)}),s.mouseZoomedIn=!1;var n,a=function(){s.mouseZoomedIn&&(o.removeClass(e,"pswp--zoomed-in"),s.mouseZoomedIn=!1),b<1?o.addClass(e,"pswp--zoom-allowed"):o.removeClass(e,"pswp--zoom-allowed"),r()},r=function(){n&&(o.removeClass(e,"pswp--dragging"),n=!1)};$e("resize",a),$e("afterChange",a),$e("pointerDown",function(){s.mouseZoomedIn&&(n=!0,o.addClass(e,"pswp--dragging"))}),$e("pointerUp",r),t||a()},handleMouseWheel:function(e){if(b<=s.currItem.fitRatio)return l.modal&&(!l.closeOnScroll||Qe||q?e.preventDefault():E&&Math.abs(e.deltaY)>2&&(h=!0,s.close())),!0;if(e.stopPropagation(),vi.x=0,"deltaX"in e)1===e.deltaMode?(vi.x=18*e.deltaX,vi.y=18*e.deltaY):(vi.x=e.deltaX,vi.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(vi.x=-.16*e.wheelDeltaX),e.wheelDeltaY?vi.y=-.16*e.wheelDeltaY:vi.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;vi.y=e.detail}We(b,!0);var t=me.x-vi.x,i=me.y-vi.y;(l.modal||t<=ne.min.x&&t>=ne.max.x&&i<=ne.min.y&&i>=ne.max.y)&&e.preventDefault(),s.panTo(t,i)},toggleDesktopZoom:function(t){t=t||{x:ge.x/2+be.x,y:ge.y/2+be.y};var i=l.getDoubleTapZoom(!0,s.currItem),n=b===i;s.mouseZoomedIn=!n,s.zoomTo(n?s.currItem.initialZoomLevel:i,t,333),o[(n?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var bi,wi,yi,ki,Ci,xi,Si,Fi,Ti,Di,$i,Ii,Ei={history:!0,galleryUID:1},_i=function(){return $i.hash.substring(1)},Mi=function(){bi&&clearTimeout(bi),yi&&clearTimeout(yi)},zi=function(){var e=_i(),t={};if(e.length<5)return t;var i,n=e.split("&");for(i=0;i<n.length;i++)if(n[i]){var o=n[i].split("=");o.length<2||(t[o[0]]=o[1])}if(l.galleryPIDs){var s=t.pid;for(t.pid=0,i=0;i<Gt.length;i++)if(Gt[i].pid===s){t.pid=i;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},Oi=function(){if(yi&&clearTimeout(yi),Qe||q)return void(yi=setTimeout(Oi,500));ki?clearTimeout(wi):ki=!0;var e=u+1,t=Qt(u);t.hasOwnProperty("pid")&&(e=t.pid);var i=Si+"&gid="+l.galleryUID+"&pid="+e;Fi||-1===$i.hash.indexOf(i)&&(Di=!0);var n=$i.href.split("#")[0]+"#"+i;Ii?"#"+i!==window.location.hash&&history[Fi?"replaceState":"pushState"]("",document.title,n):Fi?$i.replace(n):$i.hash=i,Fi=!0,wi=setTimeout(function(){ki=!1},60)};Fe("History",{publicMethods:{initHistory:function(){if(o.extend(l,Ei,!0),l.history){$i=window.location,Di=!1,Ti=!1,Fi=!1,Si=_i(),Ii="pushState"in history,Si.indexOf("gid=")>-1&&(Si=Si.split("&gid=")[0],Si=Si.split("?gid=")[0]),$e("afterChange",s.updateURL),$e("unbindEvents",function(){o.unbind(window,"hashchange",s.onHashChange)});var e=function(){xi=!0,Ti||(Di?history.back():Si?$i.hash=Si:Ii?history.pushState("",document.title,$i.pathname+$i.search):$i.hash=""),Mi()};$e("unbindEvents",function(){h&&e()}),$e("destroy",function(){xi||e()}),$e("firstUpdate",function(){u=zi().pid});var t=Si.indexOf("pid=");t>-1&&(Si=Si.substring(0,t),"&"===Si.slice(-1)&&(Si=Si.slice(0,-1))),setTimeout(function(){d&&o.bind(window,"hashchange",s.onHashChange)},40)}},onHashChange:function(){if(_i()===Si)return Ti=!0,void s.close();ki||(Ci=!0,s.goTo(zi().pid),Ci=!1)},updateURL:function(){Mi(),Ci||(Fi?bi=setTimeout(Oi,800):Oi())}}}),o.extend(s,ot)}}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(e,t){var i,n,o,s,a,r,l,d,c,h,u,p,f,m,g,v,b,w,y,k=this,C=!1,x=!0,S=!0,F={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},T=function(e){if(v)return!0;e=e||window.event,g.timeToIdle&&g.mouseUsed&&!c&&P();for(var i,n,o=e.target||e.srcElement,s=o.getAttribute("class")||"",a=0;a<W.length;a++)i=W[a],i.onTap&&s.indexOf("pswp__"+i.name)>-1&&(i.onTap(),n=!0);if(n){e.stopPropagation&&e.stopPropagation(),v=!0;var r=t.features.isOldAndroid?600:30;b=setTimeout(function(){v=!1},r)}},D=function(){return!e.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth},$=function(e,i,n){t[(n?"add":"remove")+"Class"](e,"pswp__"+i)},I=function(){var e=1===g.getNumItemsFn();e!==m&&($(n,"ui--one-slide",e),m=e)},E=function(){$(l,"share-modal--hidden",S)},_=function(){return S=!S,S?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){S&&E()},300)):(E(),setTimeout(function(){S||t.addClass(l,"pswp__share-modal--fade-in")},30)),S||z(),!1},M=function(t){t=t||window.event;var i=t.target||t.srcElement;return e.shout("shareLinkClick",t,i),!!i.href&&(!!i.hasAttribute("download")||(window.open(i.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),S||_(),!1))},z=function(){for(var e,t,i,n,o,s="",a=0;a<g.shareButtons.length;a++)e=g.shareButtons[a],i=g.getImageURLForShare(e),n=g.getPageURLForShare(e),o=g.getTextForShare(e),t=e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(i)).replace("{{raw_image_url}}",i).replace("{{text}}",encodeURIComponent(o)),s+='<a href="'+t+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",g.parseShareButtonOut&&(s=g.parseShareButtonOut(e,s));l.children[0].innerHTML=s,l.children[0].onclick=M},O=function(e){for(var i=0;i<g.closeElClasses.length;i++)if(t.hasClass(e,"pswp__"+g.closeElClasses[i]))return!0},A=0,P=function(){clearTimeout(y),A=0,c&&k.setIdle(!1)},L=function(e){e=e||window.event;var t=e.relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(y),y=setTimeout(function(){k.setIdle(!0)},g.timeToIdleOutside))},R=function(){g.fullscreenEl&&!t.features.isOldAndroid&&(i||(i=k.getFullscreenAPI()),i?(t.bind(document,i.eventK,k.updateFullscreen),k.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs"))},j=function(){g.preloaderEl&&(H(!0),h("beforeChange",function(){clearTimeout(f),f=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&H(!1):H(!0)},g.loadingIndicatorDelay)}),h("imageLoadComplete",function(t,i){e.currItem===i&&H(!0)}))},H=function(e){p!==e&&($(u,"preloader--active",!e),p=e)},N=function(e){var i=e.vGap;if(D()){var a=g.barsSize;if(g.captionEl&&"auto"===a.bottom)if(s||(s=t.createEl("pswp__caption pswp__caption--fake"),s.appendChild(t.createEl("pswp__caption__center")),n.insertBefore(s,o),t.addClass(n,"pswp__ui--fit")),g.addCaptionHTMLFn(e,s,!0)){var r=s.clientHeight;i.bottom=parseInt(r,10)||44}else i.bottom=a.top;else i.bottom="auto"===a.bottom?0:a.bottom;i.top=a.top}else i.top=i.bottom=0},U=function(){g.timeToIdle&&h("mouseUsed",function(){t.bind(document,"mousemove",P),t.bind(document,"mouseout",L),w=setInterval(function(){2===++A&&k.setIdle(!0)},g.timeToIdle/2)})},B=function(){h("onVerticalDrag",function(e){x&&e<.95?k.hideControls():!x&&e>=.95&&k.showControls()});var e;h("onPinchClose",function(t){x&&t<.9?(k.hideControls(),e=!0):e&&!x&&t>.9&&k.showControls()}),h("zoomGestureEnded",function(){(e=!1)&&!x&&k.showControls()})},W=[{name:"caption",option:"captionEl",onInit:function(e){o=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){_()}},{name:"button--share",option:"shareEl",onInit:function(e){r=e},onTap:function(){_()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){a=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){i.isFullscreen()?i.exit():i.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){u=e}}],V=function(){var e,i,o,s=function(n){if(n)for(var s=n.length,a=0;a<s;a++){e=n[a],i=e.className;for(var r=0;r<W.length;r++)o=W[r],i.indexOf("pswp__"+o.name)>-1&&(g[o.option]?(t.removeClass(e,"pswp__element--disabled"),o.onInit&&o.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};s(n.children);var a=t.getChildByClass(n,"pswp__top-bar");a&&s(a.children)};k.init=function(){t.extend(e.options,F,!0),g=e.options,n=t.getChildByClass(e.scrollWrap,"pswp__ui"),h=e.listen,B(),h("beforeChange",k.update),h("doubleTap",function(t){var i=e.currItem.initialZoomLevel;e.getZoomLevel()!==i?e.zoomTo(i,t,333):e.zoomTo(g.getDoubleTapZoom(!1,e.currItem),t,333)}),h("preventDragEvent",function(e,t,i){var n=e.target||e.srcElement;n&&n.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(n.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(n.tagName))&&(i.prevent=!1)}),h("bindEvents",function(){t.bind(n,"pswpTap click",T),t.bind(e.scrollWrap,"pswpTap",k.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",k.onMouseOver)}),h("unbindEvents",function(){S||_(),w&&clearInterval(w),t.unbind(document,"mouseout",L),t.unbind(document,"mousemove",P),t.unbind(n,"pswpTap click",T),t.unbind(e.scrollWrap,"pswpTap",k.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",k.onMouseOver),i&&(t.unbind(document,i.eventK,k.updateFullscreen),i.isFullscreen()&&(g.hideAnimationDuration=0,i.exit()),i=null)}),h("destroy",function(){g.captionEl&&(s&&n.removeChild(s),t.removeClass(o,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(n,"pswp__ui--over-close"),t.addClass(n,"pswp__ui--hidden"),k.setIdle(!1)}),g.showAnimationDuration||t.removeClass(n,"pswp__ui--hidden"),h("initialZoomIn",function(){g.showAnimationDuration&&t.removeClass(n,"pswp__ui--hidden")}),h("initialZoomOut",function(){t.addClass(n,"pswp__ui--hidden")}),h("parseVerticalMargin",N),V(),g.shareEl&&r&&l&&(S=!0),I(),U(),R(),j()},k.setIdle=function(e){c=e,$(n,"ui--idle",e)},k.update=function(){x&&e.currItem?(k.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(e.currItem,o),$(o,"caption--empty",!e.currItem.title)),C=!0):C=!1,S||_(),I()},k.updateFullscreen=function(n){n&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(i.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},k.updateIndexIndicator=function(){g.counterEl&&(a.innerHTML=e.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},k.onGlobalTap=function(i){i=i||window.event;var n=i.target||i.srcElement;if(!v)if(i.detail&&"mouse"===i.detail.pointerType){if(O(n))return void e.close();t.hasClass(n,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?g.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(i.detail.releasePoint))}else if(g.tapToToggleControls&&(x?k.hideControls():k.showControls()),g.tapToClose&&(t.hasClass(n,"pswp__img")||O(n)))return void e.close()},k.onMouseOver=function(e){e=e||window.event;var t=e.target||e.srcElement;$(n,"ui--over-close",O(t))},k.hideControls=function(){t.addClass(n,"pswp__ui--hidden"),x=!1},k.showControls=function(){x=!0,C||k.update(),t.removeClass(n,"pswp__ui--hidden")},k.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},k.getFullscreenAPI=function(){var t,i=document.documentElement,n="fullscreenchange";return i.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:i.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:i.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:i.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){if(d=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return e.template[this.enterK]();e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return g.closeOnScroll=d,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}}),function(){"use strict";window.Youpijob||(window.Youpijob={}),window.Youpijob.Root=function(){this.initialize()},$.extend(Youpijob.Root.prototype,{initialize:function(){this.fixBind(),this.definejQueryReverse(),this.fixDropdownClick(),this.initModalLogin(),this.fixModalInputFocusIos11()},initModalLogin:function(){$("#modalLogin").modal()},fixBind:function(){Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},o=function(){return i.apply(this instanceof n&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,o.prototype=new n,o})},definejQueryReverse:function(){jQuery.fn.reverse=[].reverse},fixDropdownClick:function(){$(".dropdown-toggle").click(function(e){e.preventDefault(),setTimeout($.proxy(function(){"ontouchstart"in document.documentElement&&$(this).siblings(".dropdown-backdrop").off().remove()},this),0)})},fixModalInputFocusIos11:function(){var e=navigator.userAgent,t=/iPad|iPhone|iPod/.test(e),i=/OS 11_0|OS 11_0_1|OS 11_0_2|OS 11_0_3|OS 11_1|OS 11_1_1|OS 11_1_2|OS 11_2|OS 11_2_1|OS 11_2_2|OS 11_2_5|OS 11_2_6/.test(e);t&&i&&$("body").addClass("iosBugFixCaret")}})}(),$(document).on("ready page:load",function(){new Youpijob.Root}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e,t){function i(){return new Date(Date.UTC.apply(Date,arguments))}function n(){var e=new Date;return i(e.getFullYear(),e.getMonth(),e.getDate())}function o(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function s(e){return function(){return this[e].apply(this,arguments)}}function a(e){return e&&!isNaN(e.getTime())}function r(t,i){function n(e,t){return t.toLowerCase()}var o,s=e(t).data(),a={},r=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in s)i.test(l)&&(o=l.replace(r,n),a[o]=s[l]);return a}function l(t){var i={};if(g[t]||(t=t.split("-")[0],g[t])){var n=g[t];return e.each(m,function(e,t){t in n&&(i[t]=n[t])}),i}}var d=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),i=0,n=this.length;n>i;i++)if(this[i].valueOf()===t)return i;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new d;return e.replace(this),e}};return function(){var i=[];return i.push.apply(i,arguments),e.extend(i,t),i}}(),c=function(t,i){e(t).data("datepicker",this),this._process_options(i),this.dates=new d,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(v.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_resolveViewName:function(e,i){return 0===e||"days"===e||"month"===e?0:1===e||"months"===e||"year"===e?1:2===e||"years"===e||"decade"===e?2:3===e||"decades"===e||"century"===e?3:4===e||"centuries"===e||"millennium"===e?4:i!==t&&i},_process_options:function(o){this._o=e.extend({},this._o,o);var s=this.o=e.extend({},this._o),a=s.language;g[a]||(a=a.split("-")[0],g[a]||(a=f.language)),s.language=a,s.startView=this._resolveViewName(s.startView,0),s.minViewMode=this._resolveViewName(s.minViewMode,0),s.maxViewMode=this._resolveViewName(s.maxViewMode,4),s.startView=Math.min(s.startView,s.maxViewMode),s.startView=Math.max(s.startView,s.minViewMode),!0!==s.multidate&&(s.multidate=Number(s.multidate)||!1,!1!==s.multidate&&(s.multidate=Math.max(0,s.multidate))),s.multidateSeparator=String(s.multidateSeparator),s.weekStart%=7,s.weekEnd=(s.weekStart+6)%7;var r=v.parseFormat(s.format);if(s.startDate!==-1/0&&(s.startDate?s.startDate instanceof Date?s.startDate=this._local_to_utc(this._zero_time(s.startDate)):s.startDate=v.parseDate(s.startDate,r,s.language,s.assumeNearbyYear):s.startDate=-1/0),s.endDate!==1/0&&(s.endDate?s.endDate instanceof Date?s.endDate=this._local_to_utc(this._zero_time(s.endDate)):s.endDate=v.parseDate(s.endDate,r,s.language,s.assumeNearbyYear):s.endDate=1/0),s.daysOfWeekDisabled=s.daysOfWeekDisabled||[],e.isArray(s.daysOfWeekDisabled)||(s.daysOfWeekDisabled=s.daysOfWeekDisabled.split(/[,\s]*/)),s.daysOfWeekDisabled=e.map(s.daysOfWeekDisabled,function(e){return parseInt(e,10)}),s.daysOfWeekHighlighted=s.daysOfWeekHighlighted||[],e.isArray(s.daysOfWeekHighlighted)||(s.daysOfWeekHighlighted=s.daysOfWeekHighlighted.split(/[,\s]*/)),s.daysOfWeekHighlighted=e.map(s.daysOfWeekHighlighted,function(e){return parseInt(e,10)}),s.datesDisabled=s.datesDisabled||[],!e.isArray(s.datesDisabled)){var l=[];l.push(v.parseDate(s.datesDisabled,r,s.language,s.assumeNearbyYear)),s.datesDisabled=l}s.datesDisabled=e.map(s.datesDisabled,function(e){return v.parseDate(e,r,s.language,s.assumeNearbyYear)});var d=String(s.orientation).toLowerCase().split(/\s+/g),c=s.orientation.toLowerCase();if(d=e.grep(d,function(e){return/^auto|left|right|top|bottom$/.test(e)}),s.orientation={x:"auto",y:"auto"},c&&"auto"!==c)if(1===d.length)switch(d[0]){case"top":case"bottom":s.orientation.y=d[0];break;case"left":case"right":s.orientation.x=d[0]}else c=e.grep(d,function(e){return/^left|right$/.test(e)}),s.orientation.x=c[0]||"auto",c=e.grep(d,function(e){return/^top|bottom$/.test(e)}),s.orientation.y=c[0]||"auto";if(s.defaultViewDate){var h=s.defaultViewDate.year||(new Date).getFullYear(),u=s.defaultViewDate.month||0,p=s.defaultViewDate.day||1;s.defaultViewDate=i(h,u,p)}else s.defaultViewDate=n();s.showOnFocus=s.showOnFocus===t||s.showOnFocus,s.zIndexOffset=s.zIndexOffset!==t?s.zIndexOffset:10},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var i,n,o,s=0;s<e.length;s++)i=e[s][0],2===e[s].length?(n=t,o=e[s][1]):3===e[s].length&&(n=e[s][1],o=e[s][2]),i.on(o,n)},_unapplyEvents:function(e){for(var i,n,o,s=0;s<e.length;s++)i=e[s][0],2===e[s].length?(o=t,n=e[s][1]):3===e[s].length&&(o=e[s][1],n=e[s][2]),i.off(n,o)},_buildEvents:function(){var t={keyup:e.proxy(function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:e.proxy(this.keydown,this),paste:e.proxy(this.paste,this)};!0===this.o.showOnFocus&&(t.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),t],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":e.proxy(function(e){this.update(e.date)},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{mousedown:e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.picker.hasClass("datepicker-inline")||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,i){var n=i||this.dates.get(-1),o=this._utc_to_local(n);this.element.trigger({type:t,date:o,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var i=this.dates.get(e);return v.formatDate(i,t,this.o.language)},this)})},show:function(){return this.element.attr("readonly")&&!1===this.o.enableOnReadonly?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this)},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var i;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==e.inArray("text/plain",t.originalEvent.clipboardData.types))i=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i),this.update(),t.preventDefault()},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return void 0!==e?new Date(e):null},clearDates:function(){var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input")),e&&e.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:s("setDates"),setUTCDate:s("setUTCDates"),setValue:function(){var e=this.getFormattedDate();return this.isInput?this.element.val(e):this.component&&this.element.find("input").val(e),this},getFormattedDate:function(i){i===t&&(i=this.o.format);var n=this.o.language;return e.map(this.dates,function(e){return v.formatDate(e,i,n)}).join(this.o.multidateSeparator)},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(e){return this._process_options({daysOfWeekHighlighted:e}),this.update(),this},setDatesDisabled:function(e){this._process_options({datesDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),i=this.picker.outerHeight(),n=10,o=e(this.o.container),s=o.width(),a="body"===this.o.container?e(document).scrollTop():o.scrollTop(),r=o.offset(),l=[];this.element.parents().each(function(){var t=e(this).css("z-index");"auto"!==t&&0!==t&&l.push(parseInt(t))});var d=Math.max.apply(Math,l)+this.o.zIndexOffset,c=this.component?this.component.parent().offset():this.element.offset(),h=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=c.left-r.left,f=c.top-r.top;"body"!==this.o.container&&(f+=a),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=t-u)):c.left<0?(this.picker.addClass("datepicker-orient-left"),p-=c.left-n):p+t>s?(this.picker.addClass("datepicker-orient-right"),p+=u-t):this.picker.addClass("datepicker-orient-left");var m,g=this.o.orientation.y;if("auto"===g&&(m=-a+f-i,g=0>m?"bottom":"top"),this.picker.addClass("datepicker-orient-"+g),"top"===g?f-=i+parseInt(this.picker.css("padding-top")):f+=h,this.o.rtl){var v=s-(p+u);this.picker.css({top:f,right:v,zIndex:d})}else this.picker.css({top:f,left:p,zIndex:d});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),i=[],n=!1;return arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),i.push(t)},this)),n=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=e.map(i,e.proxy(function(e){return v.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),i=e.grep(i,e.proxy(function(e){return!this.dateWithinRange(e)||!e},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,n?this.setValue():i.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var e=this.o.weekStart,t="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(e,t){return parseInt(t)+1}),t+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)t+='<th class="dow">'+g[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+g[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var i=[],n=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),s=new Date;return t.getUTCFullYear()<n||t.getUTCFullYear()===n&&t.getUTCMonth()<o?i.push("old"):(t.getUTCFullYear()>n||t.getUTCFullYear()===n&&t.getUTCMonth()>o)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===s.getFullYear()&&t.getUTCMonth()===s.getMonth()&&t.getUTCDate()===s.getDate()&&i.push("today"),-1!==this.dates.contains(t)&&i.push("active"),(!this.dateWithinRange(t)||this.dateIsDisabled(t))&&i.push("disabled"),-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&i.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),-1!==e.inArray(t.valueOf(),this.range)&&i.push("selected"),t.valueOf()===this.range[0]&&i.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},_fill_yearsView:function(i,n,o,s,a,r,l,d){var c,h,u,p,f,m,g,v,b,w,y;for(c="",h=this.picker.find(i),u=parseInt(a/o,10)*o,f=parseInt(r/s,10)*s,m=parseInt(l/s,10)*s,p=e.map(this.dates,function(e){return parseInt(e.getUTCFullYear()/s,10)*s}),h.find(".datepicker-switch").text(u+"-"+(u+9*s)),g=u-s,v=-1;11>v;v+=1)b=[n],w=null,-1===v?b.push("old"):10===v&&b.push("new"),-1!==e.inArray(g,p)&&b.push("active"),(f>g||g>m)&&b.push("disabled"),d!==e.noop&&(y=d(new Date(g,0,1)),y===t?y={}:"boolean"==typeof y?y={enabled:y}:"string"==typeof y&&(y={classes:y}),!1===y.enabled&&b.push("disabled"),y.classes&&(b=b.concat(y.classes.split(/\s+/))),y.tooltip&&(w=y.tooltip)),c+='<span class="'+b.join(" ")+'"'+(w?' title="'+w+'"':"")+">"+g+"</span>",g+=s;h.find("td").html(c)},fill:function(){var n,o,s=new Date(this.viewDate),a=s.getUTCFullYear(),r=s.getUTCMonth(),l=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,d=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,h=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=g[this.o.language].today||g.en.today||"",p=g[this.o.language].clear||g.en.clear||"",f=g[this.o.language].titleFormat||g.en.titleFormat;if(!isNaN(a)&&!isNaN(r)){this.picker.find(".datepicker-days thead .datepicker-switch").text(v.formatDate(new i(a,r),f,this.o.language)),this.picker.find("tfoot .today").text(u).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot .clear").text(p).toggle(!1!==this.o.clearBtn),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var m=i(a,r-1,28),b=v.getDaysInMonth(m.getUTCFullYear(),m.getUTCMonth());m.setUTCDate(b),m.setUTCDate(b-(m.getUTCDay()-this.o.weekStart+7)%7);var w=new Date(m);m.getUTCFullYear()<100&&w.setUTCFullYear(m.getUTCFullYear()),w.setUTCDate(w.getUTCDate()+42),w=w.valueOf();for(var y,k=[];m.valueOf()<w;){if(m.getUTCDay()===this.o.weekStart&&(k.push("<tr>"),this.o.calendarWeeks)){var C=new Date(+m+(this.o.weekStart-m.getUTCDay()-7)%7*864e5),x=new Date(Number(C)+(11-C.getUTCDay())%7*864e5),S=new Date(Number(S=i(x.getUTCFullYear(),0,1))+(11-S.getUTCDay())%7*864e5),F=(x-S)/864e5/7+1;k.push('<td class="cw">'+F+"</td>")}y=this.getClassNames(m),y.push("day"),this.o.beforeShowDay!==e.noop&&(o=this.o.beforeShowDay(this._utc_to_local(m)),o===t?o={}:"boolean"==typeof o?o={enabled:o}:"string"==typeof o&&(o={classes:o}),!1===o.enabled&&y.push("disabled"),o.classes&&(y=y.concat(o.classes.split(/\s+/))),o.tooltip&&(n=o.tooltip)),y=e.unique(y),k.push('<td class="'+y.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+m.getUTCDate()+"</td>"),n=null,m.getUTCDay()===this.o.weekEnd&&k.push("</tr>"),m.setUTCDate(m.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(k.join(""));var T=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?"Months":a).end().find("span").removeClass("active");if(e.each(this.dates,function(e,t){
t.getUTCFullYear()===a&&T.eq(t.getUTCMonth()).addClass("active")}),(l>a||a>c)&&T.addClass("disabled"),a===l&&T.slice(0,d).addClass("disabled"),a===c&&T.slice(h+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var D=this;e.each(T,function(t,i){if(!e(i).hasClass("disabled")){var n=new Date(a,t,1);!1===D.o.beforeShowMonth(n)&&e(i).addClass("disabled")}})}this._fill_yearsView(".datepicker-years","year",10,1,a,l,c,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,10,a,l,c,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,100,a,l,c,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){t.preventDefault(),t.stopPropagation();var o,s,a,r=e(t.target).closest("span, td, th");if(1===r.length)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var l=v.modes[this.viewMode].navStep*("prev"===r[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,l),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:case 3:case 4:this.viewDate=this.moveYear(this.viewDate,l),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":this.showMode(-2);var d="linked"===this.o.todayBtn?null:"view";this._setDate(n(),d);break;case"clear":this.clearDates()}break;case"span":if(!r.hasClass("disabled")){if(this.viewDate.setUTCDate(1),r.hasClass("month"))a=1,s=r.parent().find("span").index(r),o=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(s),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(i(o,s,a)),this.showMode()):this.showMode(-1);else{a=1,s=0,o=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(o);var c=r.hasClass("year")?"Year":r.hasClass("decade")?"Decade":"Century";this._trigger("change"+c,this.viewDate);(4===this.o.minViewMode||2===this.o.minViewMode&&r.hasClass("year")||3===this.o.minViewMode&&r.hasClass("decade"))&&this._setDate(i(o,s,a)),this.showMode(-1)}this.fill()}break;case"td":r.hasClass("day")&&!r.hasClass("disabled")&&(a=parseInt(r.text(),10)||1,o=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),r.hasClass("old")?0===s?(s=11,o-=1):s-=1:r.hasClass("new")&&(11===s?(s=0,o+=1):s+=1),this._setDate(i(o,s,a)))}this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):!1===this.o.multidate?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(e,t){var i=new Date(e);return i.setUTCDate(e.getUTCDate()+t),i},moveWeek:function(e,t){return this.moveDay(e,7*t)},moveMonth:function(e,t){if(!a(e))return this.o.defaultViewDate;if(!t)return e;var i,n,o=new Date(e.valueOf()),s=o.getUTCDate(),r=o.getUTCMonth(),l=Math.abs(t);if(t=t>0?1:-1,1===l)n=-1===t?function(){return o.getUTCMonth()===r}:function(){return o.getUTCMonth()!==i},i=r+t,o.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var d=0;l>d;d++)o=this.moveMonth(o,t);i=o.getUTCMonth(),o.setUTCDate(s),n=function(){return i!==o.getUTCMonth()}}for(;n();)o.setUTCDate(--s),o.setUTCMonth(i);return o},moveYear:function(e,t){return this.moveMonth(e,12*t)},moveAvailableDate:function(e,t,i){do{if(e=this[i](e,t),!this.dateWithinRange(e))return!1;i="moveDay"}while(this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function(t){return-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||e.grep(this.o.datesDisabled,function(e){return o(t,e)}).length>0},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible"))return void((40===e.keyCode||27===e.keyCode)&&(this.show(),e.stopPropagation()));var t,i,n=!1,o=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;t=37===e.keyCode||38===e.keyCode?-1:1,e.ctrlKey?(i=this.moveAvailableDate(o,t,"moveYear"))&&this._trigger("changeYear",this.viewDate):e.shiftKey?(i=this.moveAvailableDate(o,t,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===e.keyCode||39===e.keyCode?i=this.moveAvailableDate(o,t,"moveDay"):this.weekOfDateIsDisabled(o)||(i=this.moveAvailableDate(o,t,"moveWeek")),i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),e.preventDefault());break;case 13:if(!this.o.forceParse)break;o=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(o),n=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),e.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(n){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var s;this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+e))),this.picker.children("div").hide().filter(".datepicker-"+v.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var h=function(t,i){e(t).data("datepicker",this),this.element=e(t),this.inputs=e.map(i.inputs,function(e){return e.jquery?e[0]:e}),delete i.inputs,p.call(e(this.inputs),i).on("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};h.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,i){i.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var i=e(t.target).data("datepicker");if(void 0!==i){var n=i.getUTCDate(),o=e.inArray(t.target,this.inputs),s=o-1,a=o+1,r=this.inputs.length;if(-1!==o){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(n)}),n<this.dates[s])for(;s>=0&&n<this.dates[s];)this.pickers[s--].setUTCDate(n);else if(n>this.dates[a])for(;r>a&&n>this.dates[a];)this.pickers[a++].setUTCDate(n);this.updateDates(),delete this.updating}}}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var u=e.fn.datepicker,p=function(i){var n=Array.apply(null,arguments);n.shift();var o;if(this.each(function(){var t=e(this),s=t.data("datepicker"),a="object"==typeof i&&i;if(!s){var d=r(this,"date"),u=e.extend({},f,d,a),p=l(u.language),m=e.extend({},f,p,d,a);t.hasClass("input-daterange")||m.inputs?(e.extend(m,{inputs:m.inputs||t.find("input").toArray()}),s=new h(this,m)):s=new c(this,m),t.data("datepicker",s)}"string"==typeof i&&"function"==typeof s[i]&&(o=s[i].apply(s,n))}),o===t||o instanceof c||o instanceof h)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return o};e.fn.datepicker=p;var f=e.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,beforeShowYear:e.noop,beforeShowDecade:e.noop,beforeShowCentury:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body",immediateUpdates:!1,title:""},m=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=c;var g=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(e){return e%4==0&&e%100!=0||e%400==0},getDaysInMonth:function(e,t){return[31,v.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){if("function"==typeof e.toValue&&"function"==typeof e.toDisplay)return e;var t=e.replace(this.validParts,"\0").split("\0"),i=e.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(o,s,a,r){function l(e,t){return!0===t&&(t=10),100>e&&(e+=2e3)>(new Date).getFullYear()+t&&(e-=100),e}function d(){var e=this.slice(0,b[p].length),t=b[p].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!o)return t;if(o instanceof Date)return o;if("string"==typeof s&&(s=v.parseFormat(s)),s.toValue)return s.toValue(o,s,a);var h,u,p,f,m=/([\-+]\d+)([dmwy])/,b=o.match(/([\-+]\d+)([dmwy])/g),w={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(o)){for(o=new Date,p=0;p<b.length;p++)h=m.exec(b[p]),u=parseInt(h[1]),f=w[h[2]],o=c.prototype[f](o,u);return i(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate())}b=o&&o.match(this.nonpunctuation)||[],o=new Date;var y,k,C={},x=["yyyy","yy","M","MM","m","mm","d","dd"],S={yyyy:function(e,t){return e.setUTCFullYear(r?l(t,r):t)},yy:function(e,t){return e.setUTCFullYear(r?l(t,r):t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};S.M=S.MM=S.mm=S.m,S.dd=S.d,o=n();var F=s.parts.slice();if(b.length!==F.length&&(F=e(F).filter(function(t,i){return-1!==e.inArray(i,x)}).toArray()),b.length===F.length){var T;for(p=0,T=F.length;T>p;p++){if(y=parseInt(b[p],10),h=F[p],isNaN(y))switch(h){case"MM":k=e(g[a].months).filter(d),y=e.inArray(k[0],g[a].months)+1;break;case"M":k=e(g[a].monthsShort).filter(d),y=e.inArray(k[0],g[a].monthsShort)+1}C[h]=y}var D,$;for(p=0;p<x.length;p++)($=x[p])in C&&!isNaN(C[$])&&(D=new Date(o),S[$](D,C[$]),isNaN(D)||(o=D))}return o},formatDate:function(t,i,n){if(!t)return"";if("string"==typeof i&&(i=v.parseFormat(i)),i.toDisplay)return i.toDisplay(t,i,n);var o={d:t.getUTCDate(),D:g[n].daysShort[t.getUTCDay()],DD:g[n].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:g[n].monthsShort[t.getUTCMonth()],MM:g[n].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m,t=[];for(var s=e.extend([],i.separators),a=0,r=i.parts.length;r>=a;a++)s.length&&t.push(s.shift()),t.push(o[i.parts[a]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev"><i class="fa fa-chevron-left"></i></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="fa fa-chevron-right"></i></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class="table">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-decades"><table class="table">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=v,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=u,this},e.fn.datepicker.version="1.6.0-dev",e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=e(this);i.data("datepicker")||(t.preventDefault(),p.call(i,"show"))}),e(function(){p.call(e('[data-provide="datepicker-inline"]'))})}),function(e){var t=function(t,i){this.options=i,this.$elementFilestyle=[],this.$element=e(t)};t.prototype={clear:function(){this.$element.val(""),this.$elementFilestyle.find(":text").val(""),this.$elementFilestyle.find(".badge").remove()},destroy:function(){this.$element.removeAttr("style").removeData("filestyle").val(""),this.$elementFilestyle.remove()},disabled:function(e){if(!0===e)this.options.disabled||(this.$element.attr("disabled","true"),this.$elementFilestyle.find("label").attr("disabled","true"),this.options.disabled=!0);else{if(!1!==e)return this.options.disabled;this.options.disabled&&(this.$element.removeAttr("disabled"),this.$elementFilestyle.find("label").removeAttr("disabled"),this.options.disabled=!1)}},buttonBefore:function(e){if(!0===e)this.options.buttonBefore||(this.options.buttonBefore=!0,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()));else{if(!1!==e)return this.options.buttonBefore;this.options.buttonBefore&&(this.options.buttonBefore=!1,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()))}},icon:function(e){if(!0===e)this.options.icon||(this.options.icon=!0,this.$elementFilestyle.find("label").prepend(this.htmlIcon()));else{if(!1!==e)return this.options.icon;this.options.icon&&(this.options.icon=!1,this.$elementFilestyle.find(".glyphicon").remove())}},input:function(e){if(!0===e)this.options.input||(this.options.input=!0,this.options.buttonBefore?this.$elementFilestyle.append(this.htmlInput()):this.$elementFilestyle.prepend(this.htmlInput()),this.$elementFilestyle.find(".badge").remove(),this.pushNameFiles(),this.$elementFilestyle.find(".group-span-filestyle").addClass("input-group-append"));else{if(!1!==e)return this.options.input;if(this.options.input){this.options.input=!1,this.$elementFilestyle.find(":text").remove();var t=this.pushNameFiles();t.length>0&&this.options.badge&&this.$elementFilestyle.find("label").append(' <span class="badge">'+t.length+"</span>"),this.$elementFilestyle.find(".group-span-filestyle").removeClass("input-group-append")}}},size:function(e){if(e===undefined)return this.options.size;var t=this.$elementFilestyle.find("label"),i=this.$elementFilestyle.find("input");t.removeClass("btn-lg btn-sm"),i.removeClass("form-control-lg form-control-sm"),"nr"!=e&&(t.addClass("btn-"+e),i.addClass("input-"+e))},buttonText:function(e){if(e===undefined)return this.options.buttonText;this.options.buttonText=e,this.$elementFilestyle.find("label span").html(this.options.buttonText)},buttonName:function(e){if(e===undefined)return this.options.buttonName;this.options.buttonName=e,this.$elementFilestyle.find("label").attr({"class":"btn "+this.options.buttonName})},iconName:function(e){if(e===undefined)return this.options.iconName;this.$elementFilestyle.find(".glyphicon").attr({"class":".glyphicon "+this.options.iconName})},htmlIcon:function(){return this.options.icon?'<span class="glyphicon '+this.options.iconName+'"></span> ':""},htmlInput:function(){return this.options.input?'<input type="text" class="form-control '+("nr"==this.options.size?"":"input-"+this.options.size)+'" disabled> ':""},pushNameFiles:function(){var e="",t=[];this.$element[0].files===undefined?t[0]={name:this.$element[0]&&this.$element[0].value}:t=this.$element[0].files;for(var i=0;i<t.length;i++)e+=t[i].name.split("\\").pop()+", ";return""!==e?this.$elementFilestyle.find(":text").val(e.replace(/\, $/g,"")):this.$elementFilestyle.find(":text").val(""),t},constructor:function(){var t=this,i="",n=t.$element.attr("id"),o="";""!==n&&n||(n="filestyle-"+e(".bootstrap-filestyle").length,t.$element.attr({id:n})),o='<span class="group-span-filestyle '+(t.options.input?"input-group-append":"")+'"><label for="'+n+'" class="btn '+t.options.buttonName+" "+("nr"==t.options.size?"":"btn-"+t.options.size)+'" '+(t.options.disabled?'disabled="true"':"")+">"+t.htmlIcon()+t.options.buttonText+"</label></span>",i=t.options.buttonBefore?o+t.htmlInput():t.htmlInput()+o,t.$elementFilestyle=e('<div class="bootstrap-filestyle input-group">'+i+"</div>"),t.$elementFilestyle.find(".group-span-filestyle").attr("tabindex","0").keypress(function(e){if(13===e.keyCode||32===e.charCode)return t.$elementFilestyle.find("label").click(),!1}),t.$element.css({position:"absolute",clip:"rect(0px 0px 0px 0px)"}).attr("tabindex","-1").after(t.$elementFilestyle),t.options.disabled&&t.$element.attr("disabled","true"),t.$element.change(function(){var e=t.pushNameFiles();0==t.options.input&&t.options.badge?0==t.$elementFilestyle.find(".badge").length?t.$elementFilestyle.find("label").append(' <span class="badge">'+e.length+"</span>"):0==e.length?t.$elementFilestyle.find(".badge").remove():t.$elementFilestyle.find(".badge").html(e.length):t.$elementFilestyle.find(".badge").remove()}),window.navigator.userAgent.search(/firefox/i)>-1&&t.$elementFilestyle.find("label").click(function(){return t.$element.click(),!1})}};var i=e.fn.filestyle;e.fn.filestyle=function(i,n){var o="",s=this.each(function(){if("file"===e(this).attr("type")){var s=e(this),a=s.data("filestyle"),r=e.extend({},e.fn.filestyle.defaults,i,"object"==typeof i&&i);a||(s.data("filestyle",a=new t(this,r)),a.constructor()),"string"==typeof i&&(o=a[i](n))}});return typeof o!==undefined?o:s},e.fn.filestyle.defaults={buttonText:"Choose file",iconName:"glyphicon-folder-open",buttonName:"btn-light",size:"nr",input:!0,badge:!0,icon:!0,buttonBefore:!1,disabled:!1},e.fn.filestyle.noConflict=function(){return e.fn.filestyle=i,this},e(function(){e(".filestyle").each(function(){var t=e(this),i={input:"false"!==t.attr("data-input"),icon:"false"!==t.attr("data-icon"),buttonBefore:"true"===t.attr("data-buttonBefore"),disabled:"true"===t.attr("data-disabled"),size:t.attr("data-size"),buttonText:t.attr("data-buttonText"),buttonName:t.attr("data-buttonName"),iconName:t.attr("data-iconName"),badge:"false"!==t.attr("data-badge")};t.filestyle(i)})})}(window.jQuery),function(e,t){void 0===e&&void 0!==window&&(e=window),"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(e){"use strict";function t(e){var t,i=[],n=e&&e.options;if(e.multiple)for(var o=0,s=n.length;o<s;o++)(t=n[o]).selected&&i.push(t.value||t.text);else i=e.value;return i}function i(e,t,i,n){for(var s=["content","subtext","tokens"],a=!1,r=0;r<s.length;r++){var l=s[r],d=e[l];if(d&&(d=d.toString(),"content"===l&&(d=d.replace(/<[^>]+>/g,"")),n&&(d=o(d)),d=d.toUpperCase(),a="contains"===i?0<=d.indexOf(t):d.startsWith(t)))break}return a}function n(e){return parseInt(e,10)||0}function o(t){return e.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){t=t?t.replace(this.re,this.ch):""}),t}function s(t){var i,n=arguments,o=t;if([].shift.apply(n),!S.success){try{S.full=(e.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(t){S.full=I.BootstrapVersion.split(" ")[0].split(".")}S.major=S.full[0],S.success=!0,"4"===S.major&&(F.DIVIDER="dropdown-divider",F.SHOW="show",F.BUTTONCLASS="btn-light",I.DEFAULTS.style=F.BUTTONCLASS="btn-light",F.POPOVERHEADER="popover-header")}var s=this.each(function(){var t=e(this);if(t.is("select")){var s=t.data("selectpicker"),a="object"==typeof o&&o;if(s){if(a)for(var r in a)a.hasOwnProperty(r)&&(s.options[r]=a[r])}else{var l=e.extend({},I.DEFAULTS,e.fn.selectpicker.defaults||{},t.data(),a);l.template=e.extend({},I.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},t.data().template,a.template),t.data("selectpicker",s=new I(this,l))}"string"==typeof o&&(i=s[o]instanceof Function?s[o].apply(s,n):s.options[o])}});return void 0!==i?i:s}var a,r,l,d=document.createElement("_");if(d.classList.toggle("c3",!1),d.classList.contains("c3")){var c=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:c.call(this,e)}}String.prototype.startsWith||(a=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),r={}.toString,l=function(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==r.call(e))throw new TypeError;var i=t.length,n=String(e),o=n.length,s=1<arguments.length?arguments[1]:void 0,a=s?Number(s):0;a!=a&&(a=0);var l=Math.min(Math.max(a,0),i);if(i<o+l)return!1;for(var d=-1;++d<o;)if(t.charCodeAt(l+d)!=n.charCodeAt(d))return!1;return!0},a?a(String.prototype,"startsWith",{value:l,configurable:!0,writable:!0}):String.prototype.startsWith=l),Object.keys||(Object.keys=function(e,t,i){for(t in i=[],e)i.hasOwnProperty.call(e,t)&&i.push(t);return i});var h={useDefault:!1,_set:e.valHooks.select.set};e.valHooks.select.set=function(t,i){return i&&!h.useDefault&&e(t).data("selected",!0),h._set.apply(this,arguments)};var u=null,p=function(){try{return new Event("change"),!0}catch(e){return!1}}();e.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent?(p?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t)):i.fireEvent?((t=document.createEventObject()).eventType=e,i.fireEvent("on"+e,t)):this.trigger(e)};var f=function(e){var t=function(t){return e[t]},i="(?:"+Object.keys(e).join("|")+")",n=RegExp(i),o=RegExp(i,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(o,t):e}},m=f({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),g=f({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"}),v={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},b=27,w=13,y=32,k=9,C=38,x=40,S={success:!1,major:"3"};try{S.full=(e.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),S.major=S.full[0],S.success=!0}catch(a){console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",a)}var F={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title"},T={MENU:"."+F.MENU};"4"===S.major&&(F.DIVIDER="dropdown-divider",F.SHOW="show",F.BUTTONCLASS="btn-light",F.POPOVERHEADER="popover-header");var D=new RegExp(C+"|"+x),$=new RegExp("^"+k+"$|"+b),I=(new RegExp(w+"|"+y),function(t,i){var n=this;h.useDefault||(e.valHooks.select.set=h._set,h.useDefault=!0),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.options=i,this.selectpicker={main:{map:{newIndex:{},originalIndex:{}}},current:{map:{}},search:{map:{}},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){n.selectpicker.keydown.keyHistory=""},800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title"));var o=this.options.windowPadding;"number"==typeof o&&(this.options.windowPadding=[o,o,o,o]),this.val=I.prototype.val,this.render=I.prototype.render,this.refresh=I.prototype.refresh,this.setStyle=I.prototype.setStyle,this.selectAll=I.prototype.selectAll,this.deselectAll=I.prototype.deselectAll,this.destroy=I.prototype.destroy,this.remove=I.prototype.remove,this.show=I.prototype.show,this.hide=I.prototype.hide,this.init()});I.VERSION="1.13.2",I.BootstrapVersion=S.major,I.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:F.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1},"4"===S.major&&(I.DEFAULTS.style="btn-light",I.DEFAULTS.iconBase="",I.DEFAULTS.tickIcon="bs-ok-default"),I.prototype={constructor:I,init:function(){var e=this,t=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createDropdown(),this.createLi(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(T.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu.addClass(F.MENURIGHT),void 0!==t&&this.$button.attr("data-id",t),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide.bs.select",function(){if(e.isVirtual()){var t=e.$menuInner[0],i=t.firstChild.cloneNode(!1);t.replaceChild(i,t.firstChild),t.scrollTop=0}}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!1),e.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!0),e.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown.bs.select",t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){e.$button.addClass("bs-invalid"),e.$element.on({"shown.bs.select":function(){e.$element.val(e.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&e.$button.removeClass("bs-invalid"),e.$element.off("rendered.bs.select")}}),e.$button.on("blur.bs.select",function(){e.$element.focus().blur(),e.$button.off("blur.bs.select")})}),setTimeout(function(){e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",i=this.autofocus?" autofocus":"",n=this.options.header?'<div class="'+F.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",o=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+m(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"",s=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+F.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+F.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>":"",a=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+F.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>":"",r='<div class="dropdown bootstrap-select'+t+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+i+' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===S.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+F.MENU+" "+("4"===S.major?"":F.SHOW)+'" role="combobox">'+n+o+s+'<div class="inner '+F.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="'+F.MENU+" inner "+("4"===S.major?F.SHOW:"")+'"></ul></div>'+a+"</div></div>";return e(r)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],i=!0;"divider"===t.type?(i=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(i=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(t,i){function n(e,i){var n,l,d,c,h,u,p,f,m,g=o.selectpicker.current.elements.length,v=[],b=void 0,w=!0,y=o.isVirtual();o.selectpicker.view.scrollTop=e,!0===y&&o.sizeInfo.hasScrollBar&&o.$menu[0].offsetWidth>o.sizeInfo.totalMenuWidth&&(o.sizeInfo.menuWidth=o.$menu[0].offsetWidth,o.sizeInfo.totalMenuWidth=o.sizeInfo.menuWidth+o.sizeInfo.scrollBarWidth,o.$menu.css("min-width",o.sizeInfo.menuWidth)),n=Math.ceil(o.sizeInfo.menuInnerHeight/o.sizeInfo.liHeight*1.5),l=Math.round(g/n)||1;for(var k=0;k<l;k++){var C=(k+1)*n;if(k===l-1&&(C=g),v[k]=[k*n+(k?1:0),C],!g)break;void 0===b&&e<=o.selectpicker.current.data[C-1].position-o.sizeInfo.menuInnerHeight&&(b=k)}if(void 0===b&&(b=0),h=[o.selectpicker.view.position0,o.selectpicker.view.position1],d=Math.max(0,b-1),
c=Math.min(l-1,b+1),o.selectpicker.view.position0=Math.max(0,v[d][0])||0,o.selectpicker.view.position1=Math.min(g,v[c][1])||0,u=h[0]!==o.selectpicker.view.position0||h[1]!==o.selectpicker.view.position1,void 0!==o.activeIndex&&(a=o.selectpicker.current.elements[o.selectpicker.current.map.newIndex[o.prevActiveIndex]],r=o.selectpicker.current.elements[o.selectpicker.current.map.newIndex[o.activeIndex]],s=o.selectpicker.current.elements[o.selectpicker.current.map.newIndex[o.selectedIndex]],i&&(o.activeIndex!==o.selectedIndex&&(r.classList.remove("active"),r.firstChild&&r.firstChild.classList.remove("active")),o.activeIndex=void 0),o.activeIndex&&o.activeIndex!==o.selectedIndex&&s&&s.length&&(s.classList.remove("active"),s.firstChild&&s.firstChild.classList.remove("active"))),void 0!==o.prevActiveIndex&&o.prevActiveIndex!==o.activeIndex&&o.prevActiveIndex!==o.selectedIndex&&a&&a.length&&(a.classList.remove("active"),a.firstChild&&a.firstChild.classList.remove("active")),(i||u)&&(p=o.selectpicker.view.visibleElements?o.selectpicker.view.visibleElements.slice():[],o.selectpicker.view.visibleElements=o.selectpicker.current.elements.slice(o.selectpicker.view.position0,o.selectpicker.view.position1),o.setOptionStatus(),(t||!1===y&&i)&&(f=p,m=o.selectpicker.view.visibleElements,w=!(f.length===m.length&&f.every(function(e,t){return e===m[t]}))),(i||!0===y)&&w)){var x,S,F=o.$menuInner[0],T=document.createDocumentFragment(),D=F.firstChild.cloneNode(!1),$=!0===y?o.selectpicker.view.visibleElements:o.selectpicker.current.elements;F.replaceChild(D,F.firstChild),k=0;for(var I=$.length;k<I;k++)T.appendChild($[k]);!0===y&&(x=0===o.selectpicker.view.position0?0:o.selectpicker.current.data[o.selectpicker.view.position0-1].position,S=o.selectpicker.view.position1>g-1?0:o.selectpicker.current.data[g-1].position-o.selectpicker.current.data[o.selectpicker.view.position1-1].position,F.firstChild.style.marginTop=x+"px",F.firstChild.style.marginBottom=S+"px"),F.firstChild.appendChild(T)}if(o.prevActiveIndex=o.activeIndex,o.options.liveSearch){if(t&&i){var E,_=0;o.selectpicker.view.canHighlight[_]||(_=1+o.selectpicker.view.canHighlight.slice(1).indexOf(!0)),E=o.selectpicker.view.visibleElements[_],o.selectpicker.view.currentActive&&(o.selectpicker.view.currentActive.classList.remove("active"),o.selectpicker.view.currentActive.firstChild&&o.selectpicker.view.currentActive.firstChild.classList.remove("active")),E&&(E.classList.add("active"),E.firstChild&&E.firstChild.classList.add("active")),o.activeIndex=o.selectpicker.current.map.originalIndex[_]}}else o.$menuInner.focus()}i=i||0;var o=this;this.selectpicker.current=t?this.selectpicker.search:this.selectpicker.main;var s,a,r=[];this.setPositionData(),n(i,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){o.noScroll||n(this.scrollTop,t),o.noScroll=!1}),e(window).off("resize.createView").on("resize.createView",function(){n(o.$menuInner[0].scrollTop)})},createLi:function(){var t,i=this,n=[],o=0,s=0,a=[],r=0,l=0,d=-1;this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option"));var c={span:document.createElement("span"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode("\xc2 ")},h=c.span.cloneNode(!1),u=document.createDocumentFragment();h.className=i.options.iconBase+" "+i.options.tickIcon+" check-mark",c.a.appendChild(h),c.a.setAttribute("role","option"),c.subtext.className="text-muted",c.text=c.span.cloneNode(!1),c.text.className="text";var p=function(e,t,i,n){var o=c.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?o.appendChild(e):o.innerHTML=e),void 0!==i&&""!==i&&(o.className=i),null!=n&&o.classList.add("optgroup-"+n),o},f=function(e,t,i){var n=c.a.cloneNode(!0);return e&&(11===e.nodeType?n.appendChild(e):n.insertAdjacentHTML("beforeend",e)),void 0!==t&""!==t&&(n.className=t),"4"===S.major&&n.classList.add("dropdown-item"),i&&n.setAttribute("style",i),n},g=function(e){var t,n,o=c.text.cloneNode(!1);if(e.optionContent)o.innerHTML=e.optionContent;else{if(o.textContent=e.text,e.optionIcon){var s=c.whitespace.cloneNode(!1);(n=c.span.cloneNode(!1)).className=i.options.iconBase+" "+e.optionIcon,u.appendChild(n),u.appendChild(s)}e.optionSubtext&&((t=c.subtext.cloneNode(!1)).innerHTML=e.optionSubtext,o.appendChild(t))}return u.appendChild(o),u};if(this.options.title&&!this.multiple){d--;var v=this.$element[0],b=!1,w=!this.selectpicker.view.titleOption.parentNode;w&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",b=void 0===e(v.options[v.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")),(w||0!==this.selectpicker.view.titleOption.index)&&v.insertBefore(this.selectpicker.view.titleOption,v.firstChild),b&&(v.selectedIndex=0)}var y=this.$element.find("option");y.each(function(h){var v=e(this);if(d++,!v.hasClass("bs-title-option")){var b,w,k=v.data(),C=this.className||"",x=m(this.style.cssText),S=k.content,T=this.textContent,D=k.tokens,$=k.subtext,I=k.icon,E=v.parent(),_=E[0],M="OPTGROUP"===_.tagName,z=M&&_.disabled,O=this.disabled||z,A=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName,P=E.data();if(!0===k.hidden||i.options.hideDisabled&&(O&&!M||z))b=k.prevHiddenIndex,v.next().data("prevHiddenIndex",void 0!==b?b:h),d--,A||void 0!==b&&(W=y[b].previousElementSibling)&&"OPTGROUP"===W.tagName&&!W.disabled&&(A=!0),A&&"divider"!==a[a.length-1].type&&(d++,n.push(p(!1,0,F.DIVIDER,r+"div")),a.push({type:"divider",optID:r}));else{if(M&&!0!==k.divider){if(i.options.hideDisabled&&O){if(void 0===P.allOptionsDisabled){var L=E.children();E.data("allOptionsDisabled",L.filter(":disabled").length===L.length)}if(E.data("allOptionsDisabled"))return void d--}var R=" "+_.className||"";if(!this.previousElementSibling){r+=1;var j=_.label,H=m(j),N=P.subtext,U=P.icon;0!==h&&0<n.length&&(d++,n.push(p(!1,0,F.DIVIDER,r+"div")),a.push({type:"divider",optID:r})),d++;var B=function(e){var t,n,o=c.text.cloneNode(!1);if(o.innerHTML=e.labelEscaped,e.labelIcon){var s=c.whitespace.cloneNode(!1);(n=c.span.cloneNode(!1)).className=i.options.iconBase+" "+e.labelIcon,u.appendChild(n),u.appendChild(s)}return e.labelSubtext&&((t=c.subtext.cloneNode(!1)).textContent=e.labelSubtext,o.appendChild(t)),u.appendChild(o),u}({labelEscaped:H,labelSubtext:N,labelIcon:U});n.push(p(B,0,"dropdown-header"+R,r)),a.push({content:H,subtext:N,type:"optgroup-label",optID:r}),l=d-1}if(i.options.hideDisabled&&O||!0===k.hidden)return void d--;w=g({text:T,optionContent:S,optionSubtext:$,optionIcon:I}),n.push(p(f(w,"opt "+C+R,x),0,"",r)),a.push({content:S||T,subtext:$,tokens:D,type:"option",optID:r,headerIndex:l,lastIndex:l+_.childElementCount,originalIndex:h,data:k}),o++}else if(!0===k.divider)n.push(p(!1,0,F.DIVIDER)),a.push({type:"divider",originalIndex:h,data:k});else{var W;!A&&i.options.hideDisabled&&void 0!==(b=k.prevHiddenIndex)&&(W=y[b].previousElementSibling)&&"OPTGROUP"===W.tagName&&!W.disabled&&(A=!0),A&&"divider"!==a[a.length-1].type&&(d++,n.push(p(!1,0,F.DIVIDER,r+"div")),a.push({type:"divider",optID:r})),w=g({text:T,optionContent:S,optionSubtext:$,optionIcon:I}),n.push(p(f(w,C,x))),a.push({content:S||T,subtext:$,tokens:D,type:"option",originalIndex:h,data:k}),o++}i.selectpicker.main.map.newIndex[h]=d,i.selectpicker.main.map.originalIndex[d]=h;var V=a[a.length-1];V.disabled=O;var Y=0;V.content&&(Y+=V.content.length),V.subtext&&(Y+=V.subtext.length),I&&(Y+=1),s<Y&&(s=Y,t=n[n.length-1])}}}),this.selectpicker.main.elements=n,this.selectpicker.main.data=a,this.selectpicker.current=this.selectpicker.main,this.selectpicker.view.widestOption=t,this.selectpicker.view.availableOptionsCount=o},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){var e=this,t=this.$element.find("option"),i=[],n=[];this.togglePlaceholder(),this.tabIndex();for(var o=0,s=this.selectpicker.main.elements.length;o<s;o++){var a=t[this.selectpicker.main.map.originalIndex[o]];if(a&&a.selected&&(i.push(a),n.length<100&&"count"!==e.options.selectedTextFormat||1===i.length)){if(e.options.hideDisabled&&(a.disabled||"OPTGROUP"===a.parentNode.tagName&&a.parentNode.disabled))return;var r,l,d=this.selectpicker.main.data[o].data,c=d.icon&&e.options.showIcon?'<i class="'+e.options.iconBase+" "+d.icon+'"></i> ':"";r=e.options.showSubtext&&d.subtext&&!e.multiple?' <small class="text-muted">'+d.subtext+"</small>":"",l=a.title?a.title:d.content&&e.options.showContent?d.content.toString():c+a.innerHTML.trim()+r,n.push(l)}}var h=this.multiple?n.join(this.options.multipleSeparator):n[0];if(50<i.length&&(h+="..."),this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")){var u=this.options.selectedTextFormat.split(">");if(1<u.length&&i.length>u[1]||1===u.length&&2<=i.length){var p=this.selectpicker.view.availableOptionsCount;h=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(i.length,p):this.options.countSelectedText).replace("{0}",i.length.toString()).replace("{1}",p.toString())}}null==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(h=this.options.title),h||(h=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button[0].title=g(h.replace(/<[^>]*>?/g,"").trim()),this.$button.find(".filter-option-inner-inner")[0].innerHTML=h,this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=e||this.options.style;"add"==t?this.$button.addClass(i):"remove"==t?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(t){if(t||!1!==this.options.size&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var i=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div"),a=document.createElement("ul"),r=document.createElement("li"),l=document.createElement("li"),d=document.createElement("li"),c=document.createElement("a"),h=document.createElement("span"),u=this.options.header&&0<this.$menu.find("."+F.POPOVERHEADER).length?this.$menu.find("."+F.POPOVERHEADER)[0].cloneNode(!0):null,p=this.options.liveSearch?document.createElement("div"):null,f=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,m=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,h.className="text",c.className="dropdown-item "+this.$element.find("option")[0].className,i.className=this.$menu[0].parentNode.className+" "+F.SHOW,i.style.width=this.sizeInfo.selectWidth+"px","auto"===this.options.width&&(o.style.minWidth=0),o.className=F.MENU+" "+F.SHOW,s.className="inner "+F.SHOW,a.className=F.MENU+" inner "+("4"===S.major?F.SHOW:""),r.className=F.DIVIDER,l.className="dropdown-header",h.appendChild(document.createTextNode("Inner text")),c.appendChild(h),d.appendChild(c),l.appendChild(h.cloneNode(!0)),this.selectpicker.view.widestOption&&a.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),a.appendChild(d),a.appendChild(r),a.appendChild(l),u&&o.appendChild(u),p){var g=document.createElement("input");p.className="bs-searchbox",g.className="form-control",p.appendChild(g),o.appendChild(p)}f&&o.appendChild(f),s.appendChild(a),o.appendChild(s),m&&o.appendChild(m),i.appendChild(o),document.body.appendChild(i);var v,b=c.offsetHeight,w=l?l.offsetHeight:0,y=u?u.offsetHeight:0,k=p?p.offsetHeight:0,C=f?f.offsetHeight:0,x=m?m.offsetHeight:0,T=e(r).outerHeight(!0),D=!!window.getComputedStyle&&window.getComputedStyle(o),$=o.offsetWidth,I=D?null:e(o),E={vert:n(D?D.paddingTop:I.css("paddingTop"))+n(D?D.paddingBottom:I.css("paddingBottom"))+n(D?D.borderTopWidth:I.css("borderTopWidth"))+n(D?D.borderBottomWidth:I.css("borderBottomWidth")),horiz:n(D?D.paddingLeft:I.css("paddingLeft"))+n(D?D.paddingRight:I.css("paddingRight"))+n(D?D.borderLeftWidth:I.css("borderLeftWidth"))+n(D?D.borderRightWidth:I.css("borderRightWidth"))},_={vert:E.vert+n(D?D.marginTop:I.css("marginTop"))+n(D?D.marginBottom:I.css("marginBottom"))+2,horiz:E.horiz+n(D?D.marginLeft:I.css("marginLeft"))+n(D?D.marginRight:I.css("marginRight"))+2};s.style.overflowY="scroll",v=o.offsetWidth-$,document.body.removeChild(i),this.sizeInfo.liHeight=b,this.sizeInfo.dropdownHeaderHeight=w,this.sizeInfo.headerHeight=y,this.sizeInfo.searchHeight=k,this.sizeInfo.actionsHeight=C,this.sizeInfo.doneButtonHeight=x,this.sizeInfo.dividerHeight=T,this.sizeInfo.menuPadding=E,this.sizeInfo.menuExtras=_,this.sizeInfo.menuWidth=$,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=v,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var t,i=e(window),n=this.$newElement.offset(),o=e(this.options.container);this.options.container&&!o.is("body")?((t=o.offset()).top+=parseInt(o.css("borderTopWidth")),t.left+=parseInt(o.css("borderLeftWidth"))):t={top:0,left:0};var s=this.options.windowPadding;this.sizeInfo.selectOffsetTop=n.top-t.top-i.scrollTop(),this.sizeInfo.selectOffsetBot=i.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-t.top-s[2],this.sizeInfo.selectOffsetLeft=n.left-t.left-i.scrollLeft(),this.sizeInfo.selectOffsetRight=i.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-t.left-s[1],this.sizeInfo.selectOffsetTop-=s[0],this.sizeInfo.selectOffsetLeft-=s[3]},setMenuSize:function(){this.getSelectPosition();var e,t,i,n,o,s,a,r=this.sizeInfo.selectWidth,l=this.sizeInfo.liHeight,d=this.sizeInfo.headerHeight,c=this.sizeInfo.searchHeight,h=this.sizeInfo.actionsHeight,u=this.sizeInfo.doneButtonHeight,p=this.sizeInfo.dividerHeight,f=this.sizeInfo.menuPadding,m=0;if(this.options.dropupAuto&&(a=l*this.selectpicker.current.elements.length+f.vert,this.$newElement.toggleClass(F.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&a+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),"auto"===this.options.size)n=3<this.selectpicker.current.elements.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,t=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,i=n+d+c+h+u,s=Math.max(n-f.vert,0),this.$newElement.hasClass(F.DROPUP)&&(t=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),e=(o=t)-d-c-h-u-f.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var g=0;g<this.options.size;g++)"divider"===this.selectpicker.current.data[g].type&&m++;e=(t=l*this.options.size+m*p+f.vert)-f.vert,o=t+d+c+h+u,i=s=""}"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(F.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.$menu[0].offsetWidth-r),this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":i+"px"}),this.$menuInner.css({"max-height":e+"px","overflow-y":"auto","min-height":s+"px"}),this.sizeInfo.menuInnerHeight=e,this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(t){if(this.liHeight(t),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var i,n=this,o=e(window),s=0;this.setMenuSize(),"auto"===this.options.size?(this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return n.setMenuSize()}),o.off("resize.setMenuSize scroll.setMenuSize").on("resize.setMenuSize scroll.setMenuSize",function(){return n.setMenuSize()})):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&(this.$searchbox.off("input.setMenuSize propertychange.setMenuSize"),o.off("resize.setMenuSize scroll.setMenuSize")),t?s=this.$menuInner[0].scrollTop:n.multiple||"number"==typeof(i=n.selectpicker.main.map.newIndex[n.$element[0].selectedIndex])&&!1!==n.options.size&&(s=(s=n.sizeInfo.liHeight*i)-n.sizeInfo.menuInnerHeight/2+n.sizeInfo.liHeight/2),n.createView(!1,s)}},setWidth:function(){var e=this;"auto"===this.options.width?requestAnimationFrame(function(){e.$menu.css("min-width","0"),e.liHeight(),e.setMenuSize();var t=e.$newElement.clone().appendTo("body"),i=t.css("width","auto").children("button").outerWidth();t.remove(),e.sizeInfo.selectWidth=Math.max(e.sizeInfo.totalMenuWidth,i),e.$newElement.css("width",e.sizeInfo.selectWidth+"px")}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=e('<div class="bs-container" />');var t,i,n,o=this,s=e(this.options.container),a=function(a){var r={},l=o.options.display||e.fn.dropdown.Constructor.Default.display;o.$bsContainer.addClass(a.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(F.DROPUP,a.hasClass(F.DROPUP)),t=a.offset(),s.is("body")?i={top:0,left:0}:((i=s.offset()).top+=parseInt(s.css("borderTopWidth"))-s.scrollTop(),i.left+=parseInt(s.css("borderLeftWidth"))-s.scrollLeft()),n=a.hasClass(F.DROPUP)?0:a[0].offsetHeight,(S.major<4||"static"===l)&&(r.top=t.top-i.top+n,r.left=t.left-i.left),r.width=a[0].offsetWidth,o.$bsContainer.css(r)};this.$button.on("click.bs.dropdown.data-api",function(){o.isDisabled()||(a(o.$newElement),o.$bsContainer.appendTo(o.options.container).toggleClass(F.SHOW,!o.$button.hasClass(F.SHOW)).append(o.$menu))}),e(window).on("resize scroll",function(){a(o.$newElement)}),this.$element.on("hide.bs.select",function(){o.$menu.data("height",o.$menu.height()),o.$bsContainer.detach()})},setOptionStatus:function(){var e=this,t=this.$element.find("option");if(e.noScroll=!1,e.selectpicker.view.visibleElements&&e.selectpicker.view.visibleElements.length)for(var i=0;i<e.selectpicker.view.visibleElements.length;i++){var n=e.selectpicker.current.map.originalIndex[i+e.selectpicker.view.position0],o=t[n];if(o){var s=this.selectpicker.main.map.newIndex[n],a=this.selectpicker.main.elements[s];e.setDisabled(n,o.disabled||"OPTGROUP"===o.parentNode.tagName&&o.parentNode.disabled,s,a),e.setSelected(n,o.selected,s,a)}}},setSelected:function(e,t,i,n){var o,s,a,r=void 0!==this.activeIndex,l=this.activeIndex===e||t&&!this.multiple&&!r;i||(i=this.selectpicker.main.map.newIndex[e]),n||(n=this.selectpicker.main.elements[i]),a=n.firstChild,t&&(this.selectedIndex=e),n.classList.toggle("selected",t),n.classList.toggle("active",l),l&&(this.selectpicker.view.currentActive=n,this.activeIndex=e),a&&(a.classList.toggle("selected",t),a.classList.toggle("active",l),a.setAttribute("aria-selected",t)),l||!r&&t&&void 0!==this.prevActiveIndex&&(o=this.selectpicker.main.map.newIndex[this.prevActiveIndex],(s=this.selectpicker.main.elements[o]).classList.toggle("selected",t),s.classList.remove("active"),s.firstChild&&(s.firstChild.classList.toggle("selected",t),s.firstChild.classList.remove("active")))},setDisabled:function(e,t,i,n){var o;i||(i=this.selectpicker.main.map.newIndex[e]),n||(n=this.selectpicker.main.elements[i]),o=n.firstChild,n.classList.toggle(F.DISABLED,t),o&&("4"===S.major&&o.classList.toggle(F.DISABLED,t),o.setAttribute("aria-disabled",t),t?o.setAttribute("tabindex",-1):o.setAttribute("tabindex",0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement.addClass(F.DISABLED),this.$button.addClass(F.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass(F.DISABLED)&&(this.$newElement.removeClass(F.DISABLED),this.$button.removeClass(F.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!e.isDisabled()})},togglePlaceholder:function(){var e=this.$element[0],t=e.selectedIndex,i=-1===t;i||e.options[t].value||(i=!0),this.$button.toggleClass("bs-placeholder",i)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){function i(){o.options.liveSearch?o.$searchbox.focus():o.$menuInner.focus()}function n(){o.dropdown&&o.dropdown._popper&&o.dropdown._popper.state.isCreated?i():requestAnimationFrame(n)}var o=this,s=e(document);s.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&s.data("spaceSelect")&&(e.preventDefault(),s.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){3<S.major&&!o.dropdown&&(o.dropdown=o.$button.data("bs.dropdown"),o.dropdown._menu=o.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){o.$newElement.hasClass(F.SHOW)||o.setSize()}),this.$element.on("shown.bs.select",function(){o.$menuInner[0].scrollTop!==o.selectpicker.view.scrollTop&&(o.$menuInner[0].scrollTop=o.selectpicker.view.scrollTop),3<S.major?requestAnimationFrame(n):i()}),this.$menuInner.on("click","li a",function(i,n){var s=e(this),a=o.isVirtual()?o.selectpicker.view.position0:0,r=o.selectpicker.current.map.originalIndex[s.parent().index()+a],l=t(o.$element[0]),d=o.$element.prop("selectedIndex"),c=!0;if(o.multiple&&1!==o.options.maxOptions&&i.stopPropagation(),i.preventDefault(),!o.isDisabled()&&!s.parent().hasClass(F.DISABLED)){var h=o.$element.find("option"),p=h.eq(r),f=p.prop("selected"),m=p.parent("optgroup"),g=m.find("option"),v=o.options.maxOptions,b=m.data("maxOptions")||!1;if(r===o.activeIndex&&(n=!0),n||(o.prevActiveIndex=o.activeIndex,o.activeIndex=void 0),o.multiple){if(p.prop("selected",!f),o.setSelected(r,!f),s.blur(),!1!==v||!1!==b){var w=v<h.filter(":selected").length,y=b<m.find("option:selected").length;if(v&&w||b&&y)if(v&&1==v){h.prop("selected",!1),p.prop("selected",!0);for(var k=0;k<h.length;k++)o.setSelected(k,!1);o.setSelected(r,!0)}else if(b&&1==b){for(m.find("option:selected").prop("selected",!1),p.prop("selected",!0),k=0;k<g.length;k++){var C=g[k];o.setSelected(h.index(C),!1)}o.setSelected(r,!0)}else{var x="string"==typeof o.options.maxOptionsText?[o.options.maxOptionsText,o.options.maxOptionsText]:o.options.maxOptionsText,S="function"==typeof x?x(v,b):x,T=S[0].replace("{n}",v),D=S[1].replace("{n}",b),$=e('<div class="notify"></div>');S[2]&&(T=T.replace("{var}",S[2][1<v?0:1]),D=D.replace("{var}",S[2][1<b?0:1])),p.prop("selected",!1),o.$menu.append($),v&&w&&($.append(e("<div>"+T+"</div>")),c=!1,o.$element.trigger("maxReached.bs.select")),b&&y&&($.append(e("<div>"+D+"</div>")),c=!1,o.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){o.setSelected(r,!1)},10),$.delay(750).fadeOut(300,function(){e(this).remove()})}}}else h.prop("selected",!1),p.prop("selected",!0),o.setSelected(r,!0);!o.multiple||o.multiple&&1===o.options.maxOptions?o.$button.focus():o.options.liveSearch&&o.$searchbox.focus(),c&&(l!=t(o.$element[0])&&o.multiple||d!=o.$element.prop("selectedIndex")&&!o.multiple)&&(u=[r,p.prop("selected"),l],o.$element.triggerNative("change"))}}),this.$menu.on("click","li."+F.DISABLED+" a, ."+F.POPOVERHEADER+", ."+F.POPOVERHEADER+" :not(.close)",function(t){t.currentTarget==this&&(t.preventDefault(),t.stopPropagation(),o.options.liveSearch&&!e(t.target).hasClass("close")?o.$searchbox.focus():o.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),o.options.liveSearch?o.$searchbox.focus():o.$button.focus()}),this.$menu.on("click","."+F.POPOVERHEADER+" .close",function(){o.$button.click()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(t){o.options.liveSearch?o.$searchbox.focus():o.$button.focus(),t.preventDefault(),t.stopPropagation(),e(this).hasClass("bs-select-all")?o.selectAll():o.deselectAll()}),this.$element.on({change:function(){o.render(),o.$element.trigger("changed.bs.select",u),u=null},focus:function(){o.$button.focus()}})},liveSearchListener:function(){var e=this,t=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){e.$searchbox.val()&&e.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var n=e.$searchbox.val();if(e.selectpicker.search.map.newIndex={},e.selectpicker.search.map.originalIndex={},e.selectpicker.search.elements=[],e.selectpicker.search.data=[],n){var o=[],s=n.toUpperCase(),a={},r=[],l=e._searchStyle(),d=e.options.liveSearchNormalize;e._$lisSelected=e.$menuInner.find(".selected");for(var c=0;c<e.selectpicker.main.data.length;c++){var h=e.selectpicker.main.data[c];a[c]||(a[c]=i(h,s,l,d)),a[c]&&void 0!==h.headerIndex&&-1===r.indexOf(h.headerIndex)&&(0<h.headerIndex&&(a[h.headerIndex-1]=!0,r.push(h.headerIndex-1)),a[h.headerIndex]=!0,r.push(h.headerIndex),a[h.lastIndex+1]=!0),a[c]&&"optgroup-label"!==h.type&&r.push(c)}c=0;for(var u=r.length;c<u;c++){var p=r[c],f=r[c-1],g=(h=e.selectpicker.main.data[p],e.selectpicker.main.data[f]);("divider"!==h.type||"divider"===h.type&&g&&"divider"!==g.type&&u-1!==c)&&(e.selectpicker.search.data.push(h),o.push(e.selectpicker.main.elements[p]),h.hasOwnProperty("originalIndex")&&(e.selectpicker.search.map.newIndex[h.originalIndex]=o.length-1,e.selectpicker.search.map.originalIndex[o.length-1]=h.originalIndex))}e.activeIndex=void 0,e.noScroll=!0,e.$menuInner.scrollTop(0),e.selectpicker.search.elements=o,e.createView(!0),o.length||(t.className="no-results",t.innerHTML=e.options.noneResultsText.replace("{0}",'"'+m(n)+'"'),e.$menuInner[0].firstChild.appendChild(t))}else e.$menuInner.scrollTop(0),e.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){return void 0!==e?(this.$element.val(e).triggerNative("change"),this.$element):this.$element.val()},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0);var i=this.$element.find("option"),n=0,o=0,s=t(this.$element[0]);this.$element.addClass("bs-select-hidden");for(var a=0;a<this.selectpicker.current.elements.length;a++){var r=this.selectpicker.current.data[a],l=i[this.selectpicker.current.map.originalIndex[a]];l&&!l.disabled&&"divider"!==r.type&&(l.selected&&n++,l.selected=e,l.selected&&o++)}this.$element.removeClass("bs-select-hidden"),n!==o&&(this.setOptionStatus(),this.togglePlaceholder(),u=[null,null,s],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(t){var n,o,s,a,r,l=e(this),d=l.hasClass("dropdown-toggle"),c=(d?l.closest(".dropdown"):l.closest(T.MENU)).data("this"),h=c.findLis(),u=!1,p=t.which===k&&!d&&!c.options.selectOnTab,f=D.test(t.which)||p,m=c.$menuInner[0].scrollTop,g=c.isVirtual(),S=!0===g?c.selectpicker.view.position0:0;if(!(o=c.$newElement.hasClass(F.SHOW))&&(f||48<=t.which&&t.which<=57||96<=t.which&&t.which<=105||65<=t.which&&t.which<=90)&&c.$button.trigger("click.bs.dropdown.data-api"),t.which===b&&o&&(t.preventDefault(),c.$button.trigger("click.bs.dropdown.data-api").focus()),f){if(!h.length)return;void 0===(n=!0===g?h.index(h.filter(".active")):c.selectpicker.current.map.newIndex[c.activeIndex])&&(n=-1),-1!==n&&((s=c.selectpicker.current.elements[n+S]).classList.remove("active"),s.firstChild&&s.firstChild.classList.remove("active")),t.which===C?(-1!==n&&n--,n+S<0&&(n+=h.length),c.selectpicker.view.canHighlight[n+S]||-1==(n=c.selectpicker.view.canHighlight.slice(0,n+S).lastIndexOf(!0)-S)&&(n=h.length-1)):(t.which===x||p)&&(++n+S>=c.selectpicker.view.canHighlight.length&&(n=0),c.selectpicker.view.canHighlight[n+S]||(n=n+1+c.selectpicker.view.canHighlight.slice(n+S+1).indexOf(!0))),t.preventDefault();var I=S+n;t.which===C?0===S&&n===h.length-1?(c.$menuInner[0].scrollTop=c.$menuInner[0].scrollHeight,I=c.selectpicker.current.elements.length-1):u=(r=(a=c.selectpicker.current.data[I]).position-a.height)<m:(t.which===x||p)&&(0===n?I=c.$menuInner[0].scrollTop=0:u=m<(r=(a=c.selectpicker.current.data[I]).position-c.sizeInfo.menuInnerHeight)),(s=c.selectpicker.current.elements[I])&&(s.classList.add("active"),s.firstChild&&s.firstChild.classList.add("active")),c.activeIndex=c.selectpicker.current.map.originalIndex[I],c.selectpicker.view.currentActive=s,u&&(c.$menuInner[0].scrollTop=r),c.options.liveSearch?c.$searchbox.focus():l.focus()}else if(!l.is("input")&&!$.test(t.which)||t.which===y&&c.selectpicker.keydown.keyHistory){var E,_,M=[];t.preventDefault(),c.selectpicker.keydown.keyHistory+=v[t.which],c.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(c.selectpicker.keydown.resetKeyHistory.cancel),c.selectpicker.keydown.resetKeyHistory.cancel=c.selectpicker.keydown.resetKeyHistory.start(),_=c.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(_)&&(_=_.charAt(0));for(var z=0;z<c.selectpicker.current.data.length;z++){var O=c.selectpicker.current.data[z];i(O,_,"startsWith",!0)&&c.selectpicker.view.canHighlight[z]&&(O.index=z,M.push(O.originalIndex))}if(M.length){var A=0;h.removeClass("active").find("a").removeClass("active"),1===_.length&&(-1===(A=M.indexOf(c.activeIndex))||A===M.length-1?A=0:A++),E=c.selectpicker.current.map.newIndex[M[A]],0<m-(a=c.selectpicker.current.data[E]).position?(r=a.position-a.height,u=!0):(r=a.position-c.sizeInfo.menuInnerHeight,u=a.position>m+c.sizeInfo.menuInnerHeight),(s=c.selectpicker.current.elements[E]).classList.add("active"),s.firstChild&&s.firstChild.classList.add("active"),c.activeIndex=M[A],s.firstChild.focus(),u&&(c.$menuInner[0].scrollTop=r),l.focus()}}o&&(t.which===y&&!c.selectpicker.keydown.keyHistory||t.which===w||t.which===k&&c.options.selectOnTab)&&(t.which!==y&&t.preventDefault(),c.options.liveSearch&&t.which===y||(c.$menuInner.find(".active a").trigger("click",!0),l.focus(),c.options.liveSearch||(t.preventDefault(),e(document).data("spaceSelect",!0))))},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){var t=e.extend({},this.options,this.$element.data());this.options=t,this.selectpicker.main.map.newIndex={},this.selectpicker.main.map.originalIndex={},this.createLi(),this.checkDisabled(),this.render(),this.setStyle(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var E=e.fn.selectpicker;e.fn.selectpicker=s,e.fn.selectpicker.Constructor=I,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=E,this},e(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.select",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bs-searchbox input',I.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bs-searchbox input',function(e){e.stopPropagation()}),e(window).on("load.bs.select.data-api",function(){e(".selectpicker").each(function(){var t=e(this);s.call(t,t.data())})})}(e)}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(e.$)}(this,function(e){"use strict";function t(e){return"number"==typeof e&&!isNaN(e)}function i(e){return void 0===e}function n(e,i){var n=[];return t(i)&&n.push(i),n.slice.apply(e,n)}
function o(e,t){for(var i=arguments.length,o=Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];return function(){for(var i=arguments.length,s=Array(i),a=0;a<i;a++)s[a]=arguments[a];return e.apply(t,o.concat(n(s)))}}function s(t){var i=[];return e.each(t,function(e){i.push(e)}),i}function a(e){var t=e.match(/^(https?:)\/\/([^:\/?#]+):?(\d*)/i);return t&&(t[1]!==location.protocol||t[2]!==location.hostname||t[3]!==location.port)}function r(e){var t="timestamp="+(new Date).getTime();return e+(-1===e.indexOf("?")?"?":"&")+t}function l(e){return e?' crossOrigin="'+e+'"':""}function d(e,t){if(e.naturalWidth&&!F)return void t(e.naturalWidth,e.naturalHeight);var i=document.createElement("img");i.onload=function(){t(this.width,this.height)},i.src=e.src}function c(e){var i=[],n=e.rotate,o=e.scaleX,s=e.scaleY;return t(n)&&0!==n&&i.push("rotate("+n+"deg)"),t(o)&&1!==o&&i.push("scaleX("+o+")"),t(s)&&1!==s&&i.push("scaleY("+s+")"),i.length?i.join(" "):"none"}function h(e,t){var i=Math.abs(e.degree)%180,n=(i>90?180-i:i)*Math.PI/180,o=Math.sin(n),s=Math.cos(n),a=e.width,r=e.height,l=e.aspectRatio,d=void 0,c=void 0;return t?(d=a/(s+o/l),c=d/l):(d=a*s+r*o,c=a*o+r*s),{width:d,height:c}}function u(i,n){var o=e("<canvas>")[0],s=o.getContext("2d"),a=0,r=0,l=n.naturalWidth,d=n.naturalHeight,c=n.rotate,u=n.scaleX,p=n.scaleY,f=t(u)&&t(p)&&(1!==u||1!==p),m=t(c)&&0!==c,g=m||f,v=l*Math.abs(u||1),b=d*Math.abs(p||1),w=void 0,y=void 0,k=void 0;return f&&(w=v/2,y=b/2),m&&(k=h({width:v,height:b,degree:c}),v=k.width,b=k.height,w=v/2,y=b/2),o.width=v,o.height=b,g&&(a=-l/2,r=-d/2,s.save(),s.translate(w,y)),m&&s.rotate(c*Math.PI/180),f&&s.scale(u,p),s.drawImage(i,Math.floor(a),Math.floor(r),Math.floor(l),Math.floor(d)),g&&s.restore(),o}function p(e,t,i){var n="",o=void 0;for(o=t,i+=t;o<i;o++)n+=T(e.getUint8(o));return n}function f(e){var t=new DataView(e),i=t.byteLength,n=void 0,o=void 0,s=void 0,a=void 0,r=void 0,l=void 0,d=void 0,c=void 0,h=void 0,u=void 0;if(255===t.getUint8(0)&&216===t.getUint8(1))for(h=2;h<i;){if(255===t.getUint8(h)&&225===t.getUint8(h+1)){d=h;break}h++}if(d&&(o=d+4,s=d+10,"Exif"===p(t,o,4)&&(l=t.getUint16(s),((r=18761===l)||19789===l)&&42===t.getUint16(s+2,r)&&(a=t.getUint32(s+4,r))>=8&&(c=s+a))),c)for(i=t.getUint16(c,r),u=0;u<i;u++)if(h=c+12*u+2,274===t.getUint16(h,r)){h+=8,n=t.getUint16(h,r),F&&t.setUint16(h,1,r);break}return n}function m(e){var t=e.replace(C,""),i=atob(t),n=i.length,o=new ArrayBuffer(n),s=new Uint8Array(o),a=void 0;for(a=0;a<n;a++)s[a]=i.charCodeAt(a);return o}function g(e){var t=new Uint8Array(e),i=t.length,n="",o=void 0;for(o=0;o<i;o++)n+=T(t[o]);return"data:image/jpeg;base64,"+btoa(n)}function v(t,i){var n=t.pageX,o=t.pageY,s={endX:n,endY:o};return i?s:e.extend({startX:n,startY:o},s)}function b(t){var i=e.extend({},t),n=[];return e.each(t,function(t,o){delete i[t],e.each(i,function(e,t){var i=Math.abs(o.startX-t.startX),s=Math.abs(o.startY-t.startY),a=Math.abs(o.endX-t.endX),r=Math.abs(o.endY-t.endY),l=Math.sqrt(i*i+s*s),d=Math.sqrt(a*a+r*r),c=(d-l)/l;n.push(c)})}),n.sort(function(e,t){return Math.abs(e)<Math.abs(t)}),n[0]}function w(t){var i=0,n=0,o=0;return e.each(t,function(e,t){var s=t.startX,a=t.startY;i+=s,n+=a,o+=1}),i/=o,n/=o,{pageX:i,pageY:n}}e="default"in e?e["default"]:e;var y={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},k='<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>',C=/^data:([^;]+);base64,/,x=/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i,S="undefined"!=typeof window?window.navigator:null,F=S&&x.test(S.userAgent),T=String.fromCharCode,D={render:function(){var e=this;e.initContainer(),e.initCanvas(),e.initCropBox(),e.renderCanvas(),e.cropped&&e.renderCropBox()},initContainer:function(){var e=this,t=e.options,i=e.$element,n=e.$container,o=e.$cropper,s="cropper-hidden";o.addClass(s),i.removeClass(s),o.css(e.container={width:Math.max(n.width(),Number(t.minContainerWidth)||200),height:Math.max(n.height(),Number(t.minContainerHeight)||100)}),i.addClass(s),o.removeClass(s)},initCanvas:function(){var t=this,i=t.options.viewMode,n=t.container,o=n.width,s=n.height,a=t.image,r=a.naturalWidth,l=a.naturalHeight,d=90===Math.abs(a.rotate),c=d?l:r,h=d?r:l,u=c/h,p=o,f=s;s*u>o?3===i?p=s*u:f=o/u:3===i?f=o/u:p=s*u;var m={naturalWidth:c,naturalHeight:h,aspectRatio:u,width:p,height:f};m.oldLeft=m.left=(o-p)/2,m.oldTop=m.top=(s-f)/2,t.canvas=m,t.limited=1===i||2===i,t.limitCanvas(!0,!0),t.initialImage=e.extend({},a),t.initialCanvas=e.extend({},m)},limitCanvas:function(e,t){var i=this,n=i.options,o=n.viewMode,s=i.container,a=s.width,r=s.height,l=i.canvas,d=l.aspectRatio,c=i.cropBox,h=i.cropped&&c;if(e){var u=Number(n.minCanvasWidth)||0,p=Number(n.minCanvasHeight)||0;o&&(o>1?(u=Math.max(u,a),p=Math.max(p,r),3===o&&(p*d>u?u=p*d:p=u/d)):u?u=Math.max(u,h?c.width:0):p?p=Math.max(p,h?c.height:0):h&&(u=c.width,p=c.height,p*d>u?u=p*d:p=u/d)),u&&p?p*d>u?p=u/d:u=p*d:u?p=u/d:p&&(u=p*d),l.minWidth=u,l.minHeight=p,l.maxWidth=1/0,l.maxHeight=1/0}if(t)if(o){var f=a-l.width,m=r-l.height;l.minLeft=Math.min(0,f),l.minTop=Math.min(0,m),l.maxLeft=Math.max(0,f),l.maxTop=Math.max(0,m),h&&i.limited&&(l.minLeft=Math.min(c.left,c.left+c.width-l.width),l.minTop=Math.min(c.top,c.top+c.height-l.height),l.maxLeft=c.left,l.maxTop=c.top,2===o&&(l.width>=a&&(l.minLeft=Math.min(0,f),l.maxLeft=Math.max(0,f)),l.height>=r&&(l.minTop=Math.min(0,m),l.maxTop=Math.max(0,m))))}else l.minLeft=-l.width,l.minTop=-l.height,l.maxLeft=a,l.maxTop=r},renderCanvas:function(e){var t=this,i=t.canvas,n=t.image,o=n.rotate,s=n.naturalWidth,a=n.naturalHeight,r=void 0,l=void 0;t.rotated&&(t.rotated=!1,l=h({width:n.width,height:n.height,degree:o}),(r=l.width/l.height)!==i.aspectRatio&&(i.left-=(l.width-i.width)/2,i.top-=(l.height-i.height)/2,i.width=l.width,i.height=l.height,i.aspectRatio=r,i.naturalWidth=s,i.naturalHeight=a,o%180&&(l=h({width:s,height:a,degree:o}),i.naturalWidth=l.width,i.naturalHeight=l.height),t.limitCanvas(!0,!1))),(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),t.limitCanvas(!1,!0),i.oldLeft=i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.oldTop=i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),t.$canvas.css({width:i.width,height:i.height,left:i.left,top:i.top}),t.renderImage(),t.cropped&&t.limited&&t.limitCropBox(!0,!0),e&&t.output()},renderImage:function(t){var i=this,n=i.canvas,o=i.image,s=void 0;o.rotate&&(s=h({width:n.width,height:n.height,degree:o.rotate,aspectRatio:o.aspectRatio},!0)),e.extend(o,s?{width:s.width,height:s.height,left:(n.width-s.width)/2,top:(n.height-s.height)/2}:{width:n.width,height:n.height,left:0,top:0}),i.$clone.css({width:o.width,height:o.height,marginLeft:o.left,marginTop:o.top,transform:c(o)}),t&&i.output()},initCropBox:function(){var t=this,i=t.options,n=t.canvas,o=i.aspectRatio,s=Number(i.autoCropArea)||.8,a={width:n.width,height:n.height};o&&(n.height*o>n.width?a.height=a.width/o:a.width=a.height*o),t.cropBox=a,t.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*s),a.height=Math.max(a.minHeight,a.height*s),a.oldLeft=a.left=n.left+(n.width-a.width)/2,a.oldTop=a.top=n.top+(n.height-a.height)/2,t.initialCropBox=e.extend({},a)},limitCropBox:function(e,t){var i=this,n=i.options,o=n.aspectRatio,s=i.container,a=s.width,r=s.height,l=i.canvas,d=i.cropBox,c=i.limited;if(e){var h=Number(n.minCropBoxWidth)||0,u=Number(n.minCropBoxHeight)||0,p=Math.min(a,c?l.width:a),f=Math.min(r,c?l.height:r);h=Math.min(h,a),u=Math.min(u,r),o&&(h&&u?u*o>h?u=h/o:h=u*o:h?u=h/o:u&&(h=u*o),f*o>p?f=p/o:p=f*o),d.minWidth=Math.min(h,p),d.minHeight=Math.min(u,f),d.maxWidth=p,d.maxHeight=f}t&&(c?(d.minLeft=Math.max(0,l.left),d.minTop=Math.max(0,l.top),d.maxLeft=Math.min(a,l.left+l.width)-d.width,d.maxTop=Math.min(r,l.top+l.height)-d.height):(d.minLeft=0,d.minTop=0,d.maxLeft=a-d.width,d.maxTop=r-d.height))},renderCropBox:function(){var e=this,t=e.options,i=e.container,n=i.width,o=i.height,s=e.cropBox;(s.width>s.maxWidth||s.width<s.minWidth)&&(s.left=s.oldLeft),(s.height>s.maxHeight||s.height<s.minHeight)&&(s.top=s.oldTop),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),e.limitCropBox(!1,!0),s.oldLeft=s.left=Math.min(Math.max(s.left,s.minLeft),s.maxLeft),s.oldTop=s.top=Math.min(Math.max(s.top,s.minTop),s.maxTop),t.movable&&t.cropBoxMovable&&e.$face.data("action",s.width===n&&s.height===o?"move":"all"),e.$cropBox.css({width:s.width,height:s.height,left:s.left,top:s.top}),e.cropped&&e.limited&&e.limitCanvas(!0,!0),e.disabled||e.output()},output:function(){var e=this;e.preview(),e.completed&&e.trigger("crop",e.getData())}},$="preview",I={initPreview:function(){var t=this,i=l(t.crossOrigin),n=i?t.crossOriginUrl:t.url,o=void 0;t.$preview=e(t.options.preview),t.$clone2=o=e("<img "+i+' src="'+n+'">'),t.$viewBox.html(o),t.$preview.each(function(t,o){var s=e(o);s.data($,{width:s.width(),height:s.height(),html:s.html()}),s.html("<img "+i+' src="'+n+'" style="display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;">')})},resetPreview:function(){this.$preview.each(function(t,i){var n=e(i),o=n.data($);n.css({width:o.width,height:o.height}).html(o.html).removeData($)})},preview:function(){var t=this,i=t.image,n=t.canvas,o=t.cropBox,s=o.width,a=o.height,r=i.width,l=i.height,d=o.left-n.left-i.left,h=o.top-n.top-i.top;t.cropped&&!t.disabled&&(t.$clone2.css({width:r,height:l,marginLeft:-d,marginTop:-h,transform:c(i)}),t.$preview.each(function(t,n){var o=e(n),u=o.data($),p=u.width,f=u.height,m=p,g=f,v=1;s&&(v=p/s,g=a*v),a&&g>f&&(v=f/a,m=s*v,g=f),o.css({width:m,height:g}).find("img").css({width:r*v,height:l*v,marginLeft:-d*v,marginTop:-h*v,transform:c(i)})}))}},E="undefined"!=typeof window?window.PointerEvent:null,_=E?"pointerdown":"touchstart mousedown",M=E?"pointermove":"touchmove mousemove",z=E?" pointerup pointercancel":"touchend touchcancel mouseup",O="wheel mousewheel DOMMouseScroll",A="dblclick",P="resize",L="cropstart",R="cropmove",j="cropend",H="crop",N="zoom",U={bind:function(){var t=this,i=t.options,n=t.$element,s=t.$cropper;e.isFunction(i.cropstart)&&n.on(L,i.cropstart),e.isFunction(i.cropmove)&&n.on(R,i.cropmove),e.isFunction(i.cropend)&&n.on(j,i.cropend),e.isFunction(i.crop)&&n.on(H,i.crop),e.isFunction(i.zoom)&&n.on(N,i.zoom),s.on(_,o(t.cropStart,this)),i.zoomable&&i.zoomOnWheel&&s.on(O,o(t.wheel,this)),i.toggleDragModeOnDblclick&&s.on(A,o(t.dblclick,this)),e(document).on(M,t.onCropMove=o(t.cropMove,this)).on(z,t.onCropEnd=o(t.cropEnd,this)),i.responsive&&e(window).on(P,t.onResize=o(t.resize,this))},unbind:function(){var t=this,i=t.options,n=t.$element,o=t.$cropper;e.isFunction(i.cropstart)&&n.off(L,i.cropstart),e.isFunction(i.cropmove)&&n.off(R,i.cropmove),e.isFunction(i.cropend)&&n.off(j,i.cropend),e.isFunction(i.crop)&&n.off(H,i.crop),e.isFunction(i.zoom)&&n.off(N,i.zoom),o.off(_,t.cropStart),i.zoomable&&i.zoomOnWheel&&o.off(O,t.wheel),i.toggleDragModeOnDblclick&&o.off(A,t.dblclick),e(document).off(M,t.onCropMove).off(z,t.onCropEnd),i.responsive&&e(window).off(P,t.onResize)}},B=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,W={resize:function(){var t=this,i=t.options.restore,n=t.$container,o=t.container;if(!t.disabled&&o){var s=n.width()/o.width;1===s&&n.height()===o.height||function(){var n=void 0,o=void 0;i&&(n=t.getCanvasData(),o=t.getCropBoxData()),t.render(),i&&(t.setCanvasData(e.each(n,function(e,t){n[e]=t*s})),t.setCropBoxData(e.each(o,function(e,t){o[e]=t*s})))}()}},dblclick:function(){var e=this;e.disabled||e.setDragMode(e.$dragBox.hasClass("cropper-crop")?"move":"crop")},wheel:function(e){var t=this,i=e.originalEvent||e,n=Number(t.options.wheelZoomRatio)||.1;if(!t.disabled&&(e.preventDefault(),!t.wheeling)){t.wheeling=!0,setTimeout(function(){t.wheeling=!1},50);var o=1;i.deltaY?o=i.deltaY>0?1:-1:i.wheelDelta?o=-i.wheelDelta/120:i.detail&&(o=i.detail>0?1:-1),t.zoom(-o*n,e)}},cropStart:function(t){var i=this;if(!i.disabled){var n=i.options,o=i.pointers,a=t.originalEvent,r=void 0;if(a&&a.changedTouches?e.each(a.changedTouches,function(e,t){o[t.identifier]=v(t)}):o[a&&a.pointerId||0]=v(t),r=s(o).length>1&&n.zoomable&&n.zoomOnTouch?"zoom":e(t.target).data("action"),B.test(r)){if(i.trigger("cropstart",{originalEvent:a,action:r}).isDefaultPrevented())return;t.preventDefault(),i.action=r,i.cropping=!1,"crop"===r&&(i.cropping=!0,i.$dragBox.addClass("cropper-modal"))}}},cropMove:function(t){var i=this,n=i.action;if(!i.disabled&&n){var o=i.pointers,s=t.originalEvent;t.preventDefault(),i.trigger("cropmove",{originalEvent:s,action:n}).isDefaultPrevented()||(s&&s.changedTouches?e.each(s.changedTouches,function(t,i){e.extend(o[i.identifier],v(i,!0))}):e.extend(o[s&&s.pointerId||0],v(t,!0)),i.change(t))}},cropEnd:function(t){var i=this,n=i.action;if(!i.disabled&&n){var o=i.pointers,a=t.originalEvent;t.preventDefault(),a&&a.changedTouches?e.each(a.changedTouches,function(e,t){delete o[t.identifier]}):delete o[a&&a.pointerId||0],s(o).length||(i.action=""),i.cropping&&(i.cropping=!1,i.$dragBox.toggleClass("cropper-modal",i.cropped&&i.options.modal)),i.trigger("cropend",{originalEvent:a,action:n})}}},V="e",Y="w",q="s",X="n",J="se",G="sw",K="ne",Z="nw",Q={change:function(t){var i=this,n=i.options,o=i.pointers,a=o[s(o)[0]],r=i.container,l=i.canvas,d=i.cropBox,c=i.action,h=n.aspectRatio,u=d.width,p=d.height,f=d.left,m=d.top,g=f+u,v=m+p,w=0,y=0,k=r.width,C=r.height,x=!0,S=void 0;!h&&t.shiftKey&&(h=u&&p?u/p:1),i.limited&&(w=d.minLeft,y=d.minTop,k=w+Math.min(r.width,l.width,l.left+l.width),C=y+Math.min(r.height,l.height,l.top+l.height));var F={x:a.endX-a.startX,y:a.endY-a.startY};switch(h&&(F.X=F.y*h,F.Y=F.x/h),c){case"all":f+=F.x,m+=F.y;break;case V:if(F.x>=0&&(g>=k||h&&(m<=y||v>=C))){x=!1;break}u+=F.x,h&&(p=u/h,m-=F.Y/2),u<0&&(c=Y,u=0);break;case X:if(F.y<=0&&(m<=y||h&&(f<=w||g>=k))){x=!1;break}p-=F.y,m+=F.y,h&&(u=p*h,f+=F.X/2),p<0&&(c=q,p=0);break;case Y:if(F.x<=0&&(f<=w||h&&(m<=y||v>=C))){x=!1;break}u-=F.x,f+=F.x,h&&(p=u/h,m+=F.Y/2),u<0&&(c=V,u=0);break;case q:if(F.y>=0&&(v>=C||h&&(f<=w||g>=k))){x=!1;break}p+=F.y,h&&(u=p*h,f-=F.X/2),p<0&&(c=X,p=0);break;case K:if(h){if(F.y<=0&&(m<=y||g>=k)){x=!1;break}p-=F.y,m+=F.y,u=p*h}else F.x>=0?g<k?u+=F.x:F.y<=0&&m<=y&&(x=!1):u+=F.x,F.y<=0?m>y&&(p-=F.y,m+=F.y):(p-=F.y,m+=F.y);u<0&&p<0?(c=G,p=0,u=0):u<0?(c=Z,u=0):p<0&&(c=J,p=0);break;case Z:if(h){if(F.y<=0&&(m<=y||f<=w)){x=!1;break}p-=F.y,m+=F.y,u=p*h,f+=F.X}else F.x<=0?f>w?(u-=F.x,f+=F.x):F.y<=0&&m<=y&&(x=!1):(u-=F.x,f+=F.x),F.y<=0?m>y&&(p-=F.y,m+=F.y):(p-=F.y,m+=F.y);u<0&&p<0?(c=J,p=0,u=0):u<0?(c=K,u=0):p<0&&(c=G,p=0);break;case G:if(h){if(F.x<=0&&(f<=w||v>=C)){x=!1;break}u-=F.x,f+=F.x,p=u/h}else F.x<=0?f>w?(u-=F.x,f+=F.x):F.y>=0&&v>=C&&(x=!1):(u-=F.x,f+=F.x),F.y>=0?v<C&&(p+=F.y):p+=F.y;u<0&&p<0?(c=K,p=0,u=0):u<0?(c=J,u=0):p<0&&(c=Z,p=0);break;case J:if(h){if(F.x>=0&&(g>=k||v>=C)){x=!1;break}u+=F.x,p=u/h}else F.x>=0?g<k?u+=F.x:F.y>=0&&v>=C&&(x=!1):u+=F.x,F.y>=0?v<C&&(p+=F.y):p+=F.y;u<0&&p<0?(c=Z,p=0,u=0):u<0?(c=G,u=0):p<0&&(c=K,p=0);break;case"move":i.move(F.x,F.y),x=!1;break;case"zoom":i.zoom(b(o),t.originalEvent),x=!1;break;case"crop":if(!F.x||!F.y){x=!1;break}S=i.$cropper.offset(),f=a.startX-S.left,m=a.startY-S.top,u=d.minWidth,p=d.minHeight,F.x>0?c=F.y>0?J:K:F.x<0&&(f-=u,c=F.y>0?G:Z),F.y<0&&(m-=p),i.cropped||(i.$cropBox.removeClass("cropper-hidden"),i.cropped=!0,i.limited&&i.limitCropBox(!0,!0))}x&&(d.width=u,d.height=p,d.left=f,d.top=m,i.action=c,i.renderCropBox()),e.each(o,function(e,t){t.startX=t.endX,t.startY=t.endY})}},ee=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},te=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),ie=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)},ne={crop:function(){var e=this;e.ready&&!e.disabled&&(e.cropped||(e.cropped=!0,e.limitCropBox(!0,!0),e.options.modal&&e.$dragBox.addClass("cropper-modal"),e.$cropBox.removeClass("cropper-hidden")),e.setCropBoxData(e.initialCropBox))},reset:function(){var t=this;t.ready&&!t.disabled&&(t.image=e.extend({},t.initialImage),t.canvas=e.extend({},t.initialCanvas),t.cropBox=e.extend({},t.initialCropBox),t.renderCanvas(),t.cropped&&t.renderCropBox())},clear:function(){var t=this;t.cropped&&!t.disabled&&(e.extend(t.cropBox,{left:0,top:0,width:0,height:0}),t.cropped=!1,t.renderCropBox(),t.limitCanvas(!0,!0),t.renderCanvas(),t.$dragBox.removeClass("cropper-modal"),t.$cropBox.addClass("cropper-hidden"))},replace:function(e,t){var i=this;!i.disabled&&e&&(i.isImg&&i.$element.attr("src",e),t?(i.url=e,i.$clone.attr("src",e),i.ready&&i.$preview.find("img").add(i.$clone2).attr("src",e)):(i.isImg&&(i.replaced=!0),i.options.data=null,i.load(e)))},enable:function(){var e=this;e.ready&&(e.disabled=!1,e.$cropper.removeClass("cropper-disabled"))},disable:function(){var e=this;e.ready&&(e.disabled=!0,e.$cropper.addClass("cropper-disabled"))},destroy:function(){var e=this,t=e.$element;e.loaded?(e.isImg&&e.replaced&&t.attr("src",e.originalUrl),e.unbuild(),t.removeClass("cropper-hidden")):e.isImg?t.off("load",e.start):e.$clone&&e.$clone.remove(),t.removeData("cropper")},move:function(e,t){var n=this,o=n.canvas;n.moveTo(i(e)?e:o.left+Number(e),i(t)?t:o.top+Number(t))},moveTo:function(e,n){var o=this,s=o.canvas,a=!1;i(n)&&(n=e),e=Number(e),n=Number(n),o.ready&&!o.disabled&&o.options.movable&&(t(e)&&(s.left=e,a=!0),t(n)&&(s.top=n,a=!0),a&&o.renderCanvas(!0))},zoom:function(e,t){var i=this,n=i.canvas;e=Number(e),e=e<0?1/(1-e):1+e,i.zoomTo(n.width*e/n.naturalWidth,t)},zoomTo:function(e,t){var i=this,n=i.options,o=i.pointers,a=i.canvas,r=a.width,l=a.height,d=a.naturalWidth,c=a.naturalHeight;if((e=Number(e))>=0&&i.ready&&!i.disabled&&n.zoomable){var h=d*e,u=c*e,p=void 0;if(t&&(p=t.originalEvent),i.trigger("zoom",{originalEvent:p,oldRatio:r/d,ratio:h/d}).isDefaultPrevented())return;if(p){var f=i.$cropper.offset(),m=o&&s(o).length?w(o):{pageX:t.pageX||p.pageX||0,pageY:t.pageY||p.pageY||0};a.left-=(h-r)*((m.pageX-f.left-a.left)/r),a.top-=(u-l)*((m.pageY-f.top-a.top)/l)}else a.left-=(h-r)/2,a.top-=(u-l)/2;a.width=h,a.height=u,i.renderCanvas(!0)}},rotate:function(e){var t=this;t.rotateTo((t.image.rotate||0)+Number(e))},rotateTo:function(e){var i=this;e=Number(e),t(e)&&i.ready&&!i.disabled&&i.options.rotatable&&(i.image.rotate=e%360,i.rotated=!0,i.renderCanvas(!0))},scale:function(e,n){var o=this,s=o.image,a=!1;i(n)&&(n=e),e=Number(e),n=Number(n),o.ready&&!o.disabled&&o.options.scalable&&(t(e)&&(s.scaleX=e,a=!0),t(n)&&(s.scaleY=n,a=!0),a&&o.renderImage(!0))},scaleX:function(e){var i=this,n=i.image.scaleY;i.scale(e,t(n)?n:1)},scaleY:function(e){var i=this,n=i.image.scaleX;i.scale(t(n)?n:1,e)},getData:function(t){var i=this,n=i.options,o=i.image,s=i.canvas,a=i.cropBox,r=void 0,l=void 0;return i.ready&&i.cropped?(l={x:a.left-s.left,y:a.top-s.top,width:a.width,height:a.height},r=o.width/o.naturalWidth,e.each(l,function(e,i){i/=r,l[e]=t?Math.round(i):i})):l={x:0,y:0,width:0,height:0},n.rotatable&&(l.rotate=o.rotate||0),n.scalable&&(l.scaleX=o.scaleX||1,l.scaleY=o.scaleY||1),l},setData:function(i){var n=this,o=n.options,s=n.image,a=n.canvas,r={},l=void 0,d=void 0,c=void 0;e.isFunction(i)&&(i=i.call(n.element)),n.ready&&!n.disabled&&e.isPlainObject(i)&&(o.rotatable&&t(i.rotate)&&i.rotate!==s.rotate&&(s.rotate=i.rotate,n.rotated=l=!0),o.scalable&&(t(i.scaleX)&&i.scaleX!==s.scaleX&&(s.scaleX=i.scaleX,d=!0),t(i.scaleY)&&i.scaleY!==s.scaleY&&(s.scaleY=i.scaleY,d=!0)),l?n.renderCanvas():d&&n.renderImage(),c=s.width/s.naturalWidth,t(i.x)&&(r.left=i.x*c+a.left),t(i.y)&&(r.top=i.y*c+a.top),t(i.width)&&(r.width=i.width*c),t(i.height)&&(r.height=i.height*c),n.setCropBoxData(r))},getContainerData:function(){return this.ready?this.container:{}},getImageData:function(){return this.loaded?this.image:{}},getCanvasData:function(){var t=this,i=t.canvas,n={};return t.ready&&e.each(["left","top","width","height","naturalWidth","naturalHeight"],function(e,t){n[t]=i[t]}),n},setCanvasData:function(i){var n=this,o=n.canvas,s=o.aspectRatio;e.isFunction(i)&&(i=i.call(n.$element)),n.ready&&!n.disabled&&e.isPlainObject(i)&&(t(i.left)&&(o.left=i.left),t(i.top)&&(o.top=i.top),t(i.width)?(o.width=i.width,o.height=i.width/s):t(i.height)&&(o.height=i.height,o.width=i.height*s),n.renderCanvas(!0))},getCropBoxData:function(){var e=this,t=e.cropBox;return e.ready&&e.cropped?{left:t.left,top:t.top,width:t.width,height:t.height}:{}},setCropBoxData:function(i){var n=this,o=n.cropBox,s=n.options.aspectRatio,a=void 0,r=void 0;e.isFunction(i)&&(i=i.call(n.$element)),n.ready&&n.cropped&&!n.disabled&&e.isPlainObject(i)&&(t(i.left)&&(o.left=i.left),t(i.top)&&(o.top=i.top),t(i.width)&&i.width!==o.width&&(a=!0,o.width=i.width),t(i.height)&&i.height!==o.height&&(r=!0,o.height=i.height),s&&(a?o.height=o.width/s:r&&(o.width=o.height*s)),n.renderCropBox())},getCroppedCanvas:function(t){var i=this;if(!i.ready||!window.HTMLCanvasElement)return null;if(!i.cropped)return u(i.$clone[0],i.image);e.isPlainObject(t)||(t={});var n=i.getData(),o=n.width,s=n.height,a=o/s,r=void 0,l=void 0,d=void 0;e.isPlainObject(t)&&(r=t.width,l=t.height,r?(l=r/a,d=r/o):l&&(r=l*a,d=l/s));var c=Math.floor(r||o),h=Math.floor(l||s),p=e("<canvas>")[0],f=p.getContext("2d");p.width=c,p.height=h,t.fillColor&&(f.fillStyle=t.fillColor,f.fillRect(0,0,c,h));var m=function(){var e=u(i.$clone[0],i.image),t=e.width,a=e.height,r=i.canvas,l=[e],c=n.x+r.naturalWidth*(Math.abs(n.scaleX||1)-1)/2,h=n.y+r.naturalHeight*(Math.abs(n.scaleY||1)-1)/2,p=void 0,f=void 0,m=void 0,g=void 0,v=void 0,b=void 0;return c<=-o||c>t?c=p=m=v=0:c<=0?(m=-c,c=0,p=v=Math.min(t,o+c)):c<=t&&(m=0,p=v=Math.min(o,t-c)),p<=0||h<=-s||h>a?h=f=g=b=0:h<=0?(g=-h,h=0,f=b=Math.min(a,s+h)):h<=a&&(g=0,f=b=Math.min(s,a-h)),l.push(Math.floor(c),Math.floor(h),Math.floor(p),Math.floor(f)),d&&(m*=d,g*=d,v*=d,b*=d),v>0&&b>0&&l.push(Math.floor(m),Math.floor(g),Math.floor(v),Math.floor(b)),l}();return f.drawImage.apply(f,ie(m)),p},setAspectRatio:function(e){var t=this,n=t.options;t.disabled||i(e)||(n.aspectRatio=Math.max(0,e)||NaN,t.ready&&(t.initCropBox(),t.cropped&&t.renderCropBox()))},setDragMode:function(e){var t=this,i=t.options,n=void 0,o=void 0;t.loaded&&!t.disabled&&(n="crop"===e,o=i.movable&&"move"===e,e=n||o?e:"none",t.$dragBox.data("action",e).toggleClass("cropper-crop",n).toggleClass("cropper-move",o),i.cropBoxMovable||t.$face.data("action",e).toggleClass("cropper-crop",n).toggleClass("cropper-move",o))}},oe="cropper-hidden",se=/^data:/,ae=/^data:image\/jpeg.*;base64,/,re=function(){function t(i,n){ee(this,t);var o=this;o.$element=e(i),o.options=e.extend({},y,e.isPlainObject(n)&&n),o.loaded=!1,o.ready=!1,o.completed=!1,o.rotated=!1,o.cropped=!1,o.disabled=!1,o.replaced=!1,o.limited=!1,o.wheeling=!1,o.isImg=!1,o.originalUrl="",o.canvas=null,o.cropBox=null,o.pointers={},o.init()}return te(t,[{key:"init",value:function(){var e=this,t=e.$element,i=void 0;if(t.is("img")){if(e.isImg=!0,e.originalUrl=i=t.attr("src"),!i)return;i=t.prop("src")}else t.is("canvas")&&window.HTMLCanvasElement&&(i=t[0].toDataURL());e.load(i)}},{key:"trigger",value:function(t,i){var n=e.Event(t,i);return this.$element.trigger(n),n}},{key:"load",value:function(t){var i=this,n=i.options,o=i.$element;if(t){if(i.url=t,i.image={},!n.checkOrientation||!ArrayBuffer)return void i.clone();if(se.test(t))return void(ae.test(t)?i.read(m(t)):i.clone());var s=new XMLHttpRequest;s.onerror=s.onabort=e.proxy(function(){i.clone()},this),s.onload=function(){i.read(this.response)},n.checkCrossOrigin&&a(t)&&o.prop("crossOrigin")&&(t=r(t)),s.open("get",t),s.responseType="arraybuffer",s.send()}}},{key:"read",value:function(e){var t=this,i=t.options,n=f(e),o=t.image,s=0,a=1,r=1;if(n>1)switch(t.url=g(e),n){case 2:a=-1;break;case 3:s=-180;break;case 4:r=-1;break;case 5:s=90,r=-1;break;case 6:s=90;break;case 7:s=90,a=-1;break;case 8:s=-90}i.rotatable&&(o.rotate=s),i.scalable&&(o.scaleX=a,o.scaleY=r),t.clone()}},{key:"clone",value:function(){var t=this,i=t.options,n=t.$element,o=t.url,s="",d=void 0;i.checkCrossOrigin&&a(o)&&(s=n.prop("crossOrigin"),s?d=o:(s="anonymous",d=r(o))),t.crossOrigin=s,t.crossOriginUrl=d;var c=e("<img "+l(s)+' src="'+(d||o)+'">');t.$clone=c,t.isImg?n[0].complete?t.start():n.one("load",e.proxy(t.start,this)):c.one("load",e.proxy(t.start,this)).one("error",e.proxy(t.stop,this)).addClass("cropper-hide").insertAfter(n)}},{key:"start",value:function(){var t=this,i=t.$clone,n=t.$element;t.isImg||(i.off("error",t.stop),n=i),d(n[0],function(i,n){e.extend(t.image,{naturalWidth:i,naturalHeight:n,aspectRatio:i/n}),t.loaded=!0,t.build()})}},{key:"stop",value:function(){var e=this;e.$clone.remove(),e.$clone=null}},{key:"build",value:function(){var t=this,i=t.options,n=t.$element,o=t.$clone,s=void 0,a=void 0,r=void 0;t.loaded&&(t.ready&&t.unbuild(),t.$container=n.parent(),t.$cropper=s=e(k),t.$canvas=s.find(".cropper-canvas").append(o),t.$dragBox=s.find(".cropper-drag-box"),t.$cropBox=a=s.find(".cropper-crop-box"),t.$viewBox=s.find(".cropper-view-box"),t.$face=r=a.find(".cropper-face"),n.addClass(oe).after(s),t.isImg||o.removeClass("cropper-hide"),t.initPreview(),t.bind(),i.aspectRatio=Math.max(0,i.aspectRatio)||NaN,i.viewMode=Math.max(0,Math.min(3,Math.round(i.viewMode)))||0,t.cropped=i.autoCrop,i.autoCrop?i.modal&&t.$dragBox.addClass("cropper-modal"):a.addClass(oe),i.guides||a.find(".cropper-dashed").addClass(oe),i.center||a.find(".cropper-center").addClass(oe),i.cropBoxMovable&&r.addClass("cropper-move").data("action","all"),i.highlight||r.addClass("cropper-invisible"),i.background&&s.addClass("cropper-bg"),i.cropBoxResizable||a.find(".cropper-line, .cropper-point").addClass(oe),t.setDragMode(i.dragMode),t.render(),t.ready=!0,t.setData(i.data),t.completing=setTimeout(function(){e.isFunction(i.ready)&&n.one("ready",i.ready),t.trigger("ready"),t.trigger("crop",t.getData()),t.completed=!0},0))}},{key:"unbuild",value:function(){var e=this;e.ready&&(e.completed||clearTimeout(e.completing),e.ready=!1,e.completed=!1,e.initialImage=null,e.initialCanvas=null,e.initialCropBox=null,e.container=null,e.canvas=null,e.cropBox=null,e.unbind(),e.resetPreview(),e.$preview=null,e.$viewBox=null,e.$cropBox=null,e.$dragBox=null,e.$canvas=null,e.$container=null,e.$cropper.remove(),e.$cropper=null)}}],[{key:"setDefaults",value:function(t){e.extend(y,e.isPlainObject(t)&&t)}}]),t}();e.extend(re.prototype,D),e.extend(re.prototype,I),e.extend(re.prototype,U),e.extend(re.prototype,W),e.extend(re.prototype,Q),e.extend(re.prototype,ne);var le="cropper",de=e.fn.cropper;e.fn.cropper=function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];var s=void 0;return this.each(function(i,o){var a=e(o),r=a.data(le);if(!r){if(/destroy/.test(t))return;var l=e.extend({},a.data(),e.isPlainObject(t)&&t);a.data(le,r=new re(o,l))}if("string"==typeof t){var d=r[t];e.isFunction(d)&&(s=d.apply(r,n))}}),void 0!==s?s:this},e.fn.cropper.Constructor=re,e.fn.cropper.setDefaults=re.setDefaults,e.fn.cropper.noConflict=function(){return e.fn.cropper=de,this}});var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Emitter=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(e){this._callbacks=this._callbacks||{};var t=this._callbacks[e];if(t){for(var i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];for(var s=t,a=!0,r=0,s=a?s:s[Symbol.iterator]();;){var l;if(a){if(r>=s.length)break;l=s[r++]}else{if(r=s.next(),r.done)break;l=r.value}l.apply(this,n)}}return this}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var i=this._callbacks[e];if(!i)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(var n=0;n<i.length;n++){if(i[n]===t){i.splice(n,1);break}}return this}}]),e}(),Dropzone=function(e){function t(e,i){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=void 0,s=void 0;if(n.element=e,n.version=t.version,n.defaultOptions.previewTemplate=n.defaultOptions.previewTemplate.replace(/\n*/g,""),n.clickableElements=[],n.listeners=[],n.files=[],"string"==typeof n.element&&(n.element=document.querySelector(n.element)),!n.element||null==n.element.nodeType)throw new Error("Invalid dropzone element.");if(n.element.dropzone)throw new Error("Dropzone already attached.");t.instances.push(n),n.element.dropzone=n;var a=null!=(s=t.optionsForElement(n.element))?s:{};if(n.options=t.extend({},n.defaultOptions,a,null!=i?i:{}),n.options.forceFallback||!t.isBrowserSupported()){var r;return r=n.options.fallback.call(n),_possibleConstructorReturn(n,r)}if(null==n.options.url&&(n.options.url=n.element.getAttribute("action")),!n.options.url)throw new Error("No URL provided.");if(n.options.acceptedFiles&&n.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(n.options.uploadMultiple&&n.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return n.options.acceptedMimeTypes&&(n.options.acceptedFiles=n.options.acceptedMimeTypes,delete n.options.acceptedMimeTypes),null!=n.options.renameFilename&&(n.options.renameFile=function(e){return n.options.renameFilename.call(n,e.name,e)}),n.options.method=n.options.method.toUpperCase(),(o=n.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),!1!==n.options.previewsContainer&&(n.options.previewsContainer?n.previewsContainer=t.getElement(n.options.previewsContainer,"previewsContainer"):n.previewsContainer=n.element),n.options.clickable&&(!0===n.options.clickable?n.clickableElements=[n.element]:n.clickableElements=t.getElements(n.options.clickable,"clickable")),n.init(),n}return _inherits(t,e),_createClass(t,null,[{key:"initClass",value:function(){this.prototype.Emitter=Emitter,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,
chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,i){if(i)return{dzuuid:i.file.upload.uuid,dzchunkindex:i.index,dztotalfilesize:i.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:i.file.upload.totalChunkCount,dzchunkbyteoffset:i.index*this.options.chunkSize}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var e=void 0;this.element.className=this.element.className+" dz-browser-not-supported";for(var i=this.element.getElementsByTagName("div"),n=!0,o=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(o>=i.length)break;s=i[o++]}else{if(o=i.next(),o.done)break;s=o.value}var a=s;if(/(^| )dz-message($| )/.test(a.className)){e=a,a.className="dz-message";break}}e||(e=t.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e));var r=e.getElementsByTagName("span")[0];return r&&(null!=r.textContent?r.textContent=this.options.dictFallbackMessage:null!=r.innerText&&(r.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,i,n){var o={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},s=e.width/e.height;null==t&&null==i?(t=o.srcWidth,i=o.srcHeight):null==t?t=i*s:null==i&&(i=t/s),t=Math.min(t,o.srcWidth),i=Math.min(i,o.srcHeight);var a=t/i;if(o.srcWidth>t||o.srcHeight>i)if("crop"===n)s>a?(o.srcHeight=e.height,o.srcWidth=o.srcHeight*a):(o.srcWidth=e.width,o.srcHeight=o.srcWidth/a);else{if("contain"!==n)throw new Error("Unknown resizeMethod '"+n+"'");s>a?i=t/s:t=i*s}return o.srcX=(e.width-o.srcWidth)/2,o.srcY=(e.height-o.srcHeight)/2,o.trgWidth=t,o.trgHeight=i,o},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:function(){},dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:function(){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var i=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){e.previewElement=t.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement);for(var n=e.previewElement.querySelectorAll("[data-dz-name]"),o=!0,s=0,n=o?n:n[Symbol.iterator]();;){var a;if(o){if(s>=n.length)break;a=n[s++]}else{if(s=n.next(),s.done)break;a=s.value}var r=a;r.textContent=e.name}for(var l=e.previewElement.querySelectorAll("[data-dz-size]"),d=!0,c=0,l=d?l:l[Symbol.iterator]();;){if(d){if(c>=l.length)break;r=l[c++]}else{if(c=l.next(),c.done)break;r=c.value}r.innerHTML=this.filesize(e.size)}this.options.addRemoveLinks&&(e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink));for(var h=function(n){return n.preventDefault(),n.stopPropagation(),e.status===t.UPLOADING?t.confirm(i.options.dictCancelUploadConfirmation,function(){return i.removeFile(e)}):i.options.dictRemoveFileConfirmation?t.confirm(i.options.dictRemoveFileConfirmation,function(){return i.removeFile(e)}):i.removeFile(e)},u=e.previewElement.querySelectorAll("[data-dz-remove]"),p=!0,f=0,u=p?u:u[Symbol.iterator]();;){var m;if(p){if(f>=u.length)break;m=u[f++]}else{if(f=u.next(),f.done)break;m=f.value}m.addEventListener("click",h)}}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");for(var i=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),n=!0,o=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(o>=i.length)break;s=i[o++]}else{if(o=i.next(),o.done)break;s=o.value}var a=s;a.alt=e.name,a.src=t}return setTimeout(function(){return e.previewElement.classList.add("dz-image-preview")},1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error);for(var i=e.previewElement.querySelectorAll("[data-dz-errormessage]"),n=!0,o=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(o>=i.length)break;s=i[o++]}else{if(o=i.next(),o.done)break;s=o.value}s.textContent=t}}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t){if(e.previewElement)for(var i=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),n=!0,o=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(o>=i.length)break;s=i[o++]}else{if(o=i.next(),o.done)break;s=o.value}var a=s;"PROGRESS"===a.nodeName?a.value=t:a.style.width=t+"%"}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(var o=i,s=!0,a=0,o=s?o:o[Symbol.iterator]();;){var r;if(s){if(a>=o.length)break;r=o[a++]}else{if(a=o.next(),a.done)break;r=a.value}var l=r;for(var d in l){var c=l[d];e[d]=c}}return e}}]),_createClass(t,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(e){return e.accepted}).map(function(e){return e})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(e){return!e.accepted}).map(function(e){return e})}},{key:"getFilesWithStatus",value:function(e){return this.files.filter(function(t){return t.status===e}).map(function(e){return e})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(t.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(t.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(t.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(e){return e.status===t.UPLOADING||e.status===t.QUEUED}).map(function(e){return e})}},{key:"init",value:function(){var e=this;if("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length){(function i(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null===e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!==e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!==e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",t.getElement(e.options.hiddenInputContainer,"hiddenInputContainer").appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t=e.hiddenFileInput.files;if(t.length)for(var n=t,o=!0,s=0,n=o?n:n[Symbol.iterator]();;){var a;if(o){if(s>=n.length)break;a=n[s++]}else{if(s=n.next(),s.done)break;a=s.value}var r=a;e.addFile(r)}return e.emit("addedfiles",t),i()})})()}this.URL=null!==window.URL?window.URL:window.webkitURL;for(var i=this.events,n=!0,o=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(o>=i.length)break;s=i[o++]}else{if(o=i.next(),o.done)break;s=o.value}var a=s;this.on(a,this.options[a])}this.on("uploadprogress",function(){return e.updateTotalUploadProgress()}),this.on("removedfile",function(){return e.updateTotalUploadProgress()}),this.on("canceled",function(t){return e.emit("complete",t)}),this.on("complete",function(){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout(function(){return e.emit("queuecomplete")},0)});var r=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(t){return e.emit("dragstart",t)},dragenter:function(t){return r(t),e.emit("dragenter",t)},dragover:function(t){var i=void 0;try{i=t.dataTransfer.effectAllowed}catch(e){}return t.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",r(t),e.emit("dragover",t)},dragleave:function(t){return e.emit("dragleave",t)},drop:function(t){return r(t),e.drop(t)},dragend:function(t){return e.emit("dragend",t)}}}],this.clickableElements.forEach(function(i){return e.listeners.push({element:i,events:{click:function(n){return(i!==e.element||n.target===e.element||t.elementInside(n.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:undefined)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,t.instances.splice(t.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e=void 0,t=0,i=0;if(this.getActiveFiles().length){for(var n=this.getActiveFiles(),o=!0,s=0,n=o?n:n[Symbol.iterator]();;){var a;if(o){if(s>=n.length)break;a=n[s++]}else{if(s=n.next(),s.done)break;a=s.value}var r=a;t+=r.upload.bytesSent,i+=r.upload.total}e=100*t/i}else e=100;return this.emit("totaluploadprogress",e,i,t)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e=void 0,i=void 0;if(e=this.getExistingFallback())return e;var n='<div class="dz-fallback">';this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':undefined)+' /><input type="submit" value="Upload!"></div>';var o=t.createElement(n);return"FORM"!==this.element.tagName?(i=t.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),i.appendChild(o)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=i?i:o}},{key:"getExistingFallback",value:function(){for(var e=function(e){for(var t=e,i=!0,n=0,t=i?t:t[Symbol.iterator]();;){var o;if(i){if(n>=t.length)break;o=t[n++]}else{if(n=t.next(),n.done)break;o=n.value}var s=o;if(/(^| )fallback($| )/.test(s.className))return s}},t=["div","form"],i=0;i<t.length;i++){var n,o=t[i];if(n=e(this.element.getElementsByTagName(o)))return n}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(e){return function(){var t=[];for(var i in e.events){var n=e.events[i];t.push(e.element.addEventListener(i,n,!1))}return t}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(e){return function(){var t=[];for(var i in e.events){var n=e.events[i];t.push(e.element.removeEventListener(i,n,!1))}return t}()})}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(t){return e.cancelUpload(t)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,i="b";if(e>0){for(var n=["tb","gb","mb","kb","b"],o=0;o<n.length;o++){var s=n[o];if(e>=Math.pow(this.options.filesizeBase,4-o)/10){t=e/Math.pow(this.options.filesizeBase,4-o),i=s;break}}t=Math.round(10*t)/10}return"<strong>"+t+"</strong> "+this.options.dictFileSizeUnits[i]}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t=[],i=0;i<e.dataTransfer.files.length;i++)t[i]=e.dataTransfer.files[i];if(this.emit("addedfiles",t),t.length){var n=e.dataTransfer.items;n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(t)}}}},{key:"paste",value:function(e){if(null!=__guard__(null!=e?e.clipboardData:undefined,function(e){return e.items})){this.emit("paste",e);var t=e.clipboardData.items;return t.length?this._addFilesFromItems(t):void 0}}},{key:"handleFiles",value:function(e){for(var t=e,i=!0,n=0,t=i?t:t[Symbol.iterator]();;){var o;if(i){if(n>=t.length)break;o=t[n++]}else{if(n=t.next(),n.done)break;o=n.value}var s=o;this.addFile(s)}}},{key:"_addFilesFromItems",value:function(e){var t=this;return function(){for(var i=[],n=e,o=!0,s=0,n=o?n:n[Symbol.iterator]();;){var a;if(o){if(s>=n.length)break;a=n[s++]}else{if(s=n.next(),s.done)break;a=s.value}var r,l=a;null!=l.webkitGetAsEntry&&(r=l.webkitGetAsEntry())?r.isFile?i.push(t.addFile(l.getAsFile())):r.isDirectory?i.push(t._addFilesFromDirectory(r,r.name)):i.push(undefined):null!=l.getAsFile&&(null==l.kind||"file"===l.kind)?i.push(t.addFile(l.getAsFile())):i.push(undefined)}return i}()}},{key:"_addFilesFromDirectory",value:function(e,t){var i=this,n=e.createReader(),o=function(e){return __guardMethod__(console,"log",function(t){return t.log(e)})};return function e(){return n.readEntries(function(n){if(n.length>0){for(var o=n,s=!0,a=0,o=s?o:o[Symbol.iterator]();;){var r;if(s){if(a>=o.length)break;r=o[a++]}else{if(a=o.next(),a.done)break;r=a.value}var l=r;l.isFile?l.file(function(e){if(!i.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath=t+"/"+e.name,i.addFile(e)}):l.isDirectory&&i._addFilesFromDirectory(l,t+"/"+l.name)}e()}return null},o)}()}},{key:"accept",value:function(e,i){return this.options.maxFilesize&&e.size>1024*this.options.maxFilesize*1024?i(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(i(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,i):i(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var i=this;return e.upload={uuid:t.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e),chunked:this.options.chunking&&(this.options.forceChunking||e.size>this.options.chunkSize),totalChunkCount:Math.ceil(e.size/this.options.chunkSize)},this.files.push(e),e.status=t.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return t?(e.accepted=!1,i._errorProcessing([e],t)):(e.accepted=!0,i.options.autoQueue&&i.enqueueFile(e)),i._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(e){for(var t=e,i=!0,n=0,t=i?t:t[Symbol.iterator]();;){var o;if(i){if(n>=t.length)break;o=t[n++]}else{if(n=t.next(),n.done)break;o=n.value}var s=o;this.enqueueFile(s)}return null}},{key:"enqueueFile",value:function(e){var i=this;if(e.status!==t.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=t.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return i.processQueue()},0)}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout(function(){return t._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var e=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(i){return e.emit("thumbnail",t,i),e._processingThumbnail=!1,e._processThumbnailQueue()})}}},{key:"removeFile",value:function(e){if(e.status===t.UPLOADING&&this.cancelUpload(e),this.files=without(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){null==e&&(e=!1);for(var i=this.files.slice(),n=!0,o=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(o>=i.length)break;s=i[o++]}else{if(o=i.next(),o.done)break;s=o.value}var a=s;(a.status!==t.UPLOADING||e)&&this.removeFile(a)}return null}},{key:"resizeImage",value:function(e,i,n,o,s){var a=this;return this.createThumbnail(e,i,n,o,!0,function(i,n){if(null==n)return s(e);var o=a.options.resizeMimeType;null==o&&(o=e.type);var r=n.toDataURL(o,a.options.resizeQuality);return"image/jpeg"!==o&&"image/jpg"!==o||(r=ExifRestore.restore(e.dataURL,r)),s(t.dataURItoBlob(r))})}},{key:"createThumbnail",value:function(e,t,i,n,o,s){var a=this,r=new FileReader;return r.onload=function(){return e.dataURL=r.result,"image/svg+xml"===e.type?void(null!=s&&s(r.result)):a.createThumbnailFromUrl(e,t,i,n,o,s)},r.readAsDataURL(e)}},{key:"createThumbnailFromUrl",value:function(e,t,i,n,o,s,a){var r=this,l=document.createElement("img");return a&&(l.crossOrigin=a),l.onload=function(){var a=function(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&o&&(a=function(e){return EXIF.getData(l,function(){return e(EXIF.getTag(this,"Orientation"))})}),a(function(o){e.width=l.width,e.height=l.height;var a=r.options.resize.call(r,e,t,i,n),d=document.createElement("canvas"),c=d.getContext("2d");switch(d.width=a.trgWidth,d.height=a.trgHeight,o>4&&(d.width=a.trgHeight,d.height=a.trgWidth),o){case 2:c.translate(d.width,0),c.scale(-1,1);break;case 3:c.translate(d.width,d.height),c.rotate(Math.PI);break;case 4:c.translate(0,d.height),c.scale(1,-1);break;case 5:c.rotate(.5*Math.PI),c.scale(1,-1);break;case 6:c.rotate(.5*Math.PI),c.translate(0,-d.width);break;case 7:c.rotate(.5*Math.PI),c.translate(d.height,-d.width),c.scale(-1,1);break;case 8:c.rotate(-.5*Math.PI),c.translate(-d.height,0)}drawImageIOSFix(c,l,null!=a.srcX?a.srcX:0,null!=a.srcY?a.srcY:0,a.srcWidth,a.srcHeight,null!=a.trgX?a.trgX:0,null!=a.trgY?a.trgY:0,a.trgWidth,a.trgHeight);var h=d.toDataURL("image/png");if(null!=s)return s(h,d)})},null!=s&&(l.onerror=s),l.src=e.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,i=t;if(!(t>=e)){var n=this.getQueuedFiles();if(n.length>0){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,e-t));for(;i<e;){if(!n.length)return;this.processFile(n.shift()),i++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){for(var i=e,n=!0,o=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(o>=i.length)break;s=i[o++]}else{if(o=i.next(),o.done)break;s=o.value}var a=s;a.processing=!0,a.status=t.UPLOADING,this.emit("processing",a)}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter(function(t){return t.xhr===e}).map(function(e){return e})}},{key:"cancelUpload",value:function(e){if(e.status===t.UPLOADING){for(var i=this._getFilesWithXhr(e.xhr),n=i,o=!0,s=0,n=o?n:n[Symbol.iterator]();;){var a;if(o){if(s>=n.length)break;a=n[s++]}else{if(s=n.next(),s.done)break;a=s.value}a.status=t.CANCELED}"undefined"!=typeof e.xhr&&e.xhr.abort();for(var r=i,l=!0,d=0,r=l?r:r[Symbol.iterator]();;){var c;if(l){if(d>=r.length)break;c=r[d++]}else{if(d=r.next(),d.done)break;c=d.value}var h=c;this.emit("canceled",h)}this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else e.status!==t.ADDED&&e.status!==t.QUEUED||(e.status=t.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if("function"==typeof e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e.apply(this,i)}return e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(e){var i=this;this._transformFiles(e,function(n){if(e[0].upload.chunked){var o=e[0],s=n[0],a=0;o.upload.chunks=[];var r=function(){for(var n=0;o.upload.chunks[n]!==undefined;)n++;if(!(n>=o.upload.totalChunkCount)){a++;var r=n*i.options.chunkSize,l=Math.min(r+i.options.chunkSize,o.size),d={name:i._getParamName(0),data:s.webkitSlice?s.webkitSlice(r,l):s.slice(r,l),filename:o.upload.filename,chunkIndex:n};o.upload.chunks[n]={file:o,index:n,dataBlock:d,status:t.UPLOADING,progress:0,retries:0},i._uploadData(e,[d])}};if(o.upload.finishedChunkUpload=function(n){var s=!0;n.status=t.SUCCESS,n.dataBlock=null,n.xhr=null;for(var a=0;a<o.upload.totalChunkCount;a++){if(o.upload.chunks[a]===undefined)return r();o.upload.chunks[a].status!==t.SUCCESS&&(s=!1)}s&&i.options.chunksUploaded(o,function(){i._finished(e,"",null)})},i.options.parallelChunkUploads)for(var l=0;l<o.upload.totalChunkCount;l++)r();else r()}else{for(var d=[],c=0;c<e.length;c++)d[c]={name:i._getParamName(c),data:n[c],filename:e[c].upload.filename};i._uploadData(e,d)}})}},{key:"_getChunk",value:function(e,t){for(var i=0;i<e.upload.totalChunkCount;i++)if(e.upload.chunks[i]!==undefined&&e.upload.chunks[i].xhr===t)return e.upload.chunks[i]}},{key:"_uploadData",value:function(e,i){for(var n=this,o=new XMLHttpRequest,s=e,a=!0,r=0,s=a?s:s[Symbol.iterator]();;){var l;if(a){if(r>=s.length)break;l=s[r++]}else{if(r=s.next(),r.done)break;l=r.value}l.xhr=o}e[0].upload.chunked&&(e[0].upload.chunks[i[0].chunkIndex].xhr=o);var d=this.resolveOption(this.options.method,e),c=this.resolveOption(this.options.url,e);o.open(d,c,!0),o.timeout=this.resolveOption(this.options.timeout,e),o.withCredentials=!!this.options.withCredentials,o.onload=function(t){n._finishedUploading(e,o,t)},o.onerror=function(){n._handleUploadError(e,o)},(null!=o.upload?o.upload:o).onprogress=function(t){return n._updateFilesUploadProgress(e,o,t)};var h={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&t.extend(h,this.options.headers);for(var u in h){var p=h[u];p&&o.setRequestHeader(u,p)}var f=new FormData;if(this.options.params){var m=this.options.params;"function"==typeof m&&(m=m.call(this,e,o,e[0].upload.chunked?this._getChunk(e[0],o):null));for(var g in m){var v=m[g];f.append(g,v)}}for(var b=e,w=!0,y=0,b=w?b:b[Symbol.iterator]();;){var k;if(w){if(y>=b.length)break;k=b[y++]}else{if(y=b.next(),y.done)break;k=y.value}var C=k;this.emit("sending",C,o,f)}this.options.uploadMultiple&&this.emit("sendingmultiple",e,o,f),this._addFormElementData(f);for(var x=0;x<i.length;x++){var S=i[x];f.append(S.name,S.data,S.filename)}this.submitRequest(o,f,e)}},{key:"_transformFiles",value:function(e,t){for(var i=this,n=[],o=0,s=function(s){i.options.transformFile.call(i,e[s],function(i){n[s]=i,++o===e.length&&t(n)})},a=0;a<e.length;a++)s(a)}},{key:"_addFormElementData",value:function(e){if("FORM"===this.element.tagName)for(var t=this.element.querySelectorAll("input, textarea, select, button"),i=!0,n=0,t=i?t:t[Symbol.iterator]();;){var o;if(i){if(n>=t.length)break;o=t[n++]}else{if(n=t.next(),n.done)break;o=n.value}var s=o,a=s.getAttribute("name"),r=s.getAttribute("type");if(r&&(r=r.toLowerCase()),void 0!==a&&null!==a)if("SELECT"===s.tagName&&s.hasAttribute("multiple"))for(var l=s.options,d=!0,c=0,l=d?l:l[Symbol.iterator]();;){var h;if(d){if(c>=l.length)break;h=l[c++]}else{if(c=l.next(),c.done)break;h=c.value}var u=h;u.selected&&e.append(a,u.value)}else(!r||"checkbox"!==r&&"radio"!==r||s.checked)&&e.append(a,s.value)}}},{key:"_updateFilesUploadProgress",value:function(e,t,i){var n=void 0;if(void 0!==i){if(n=100*i.loaded/i.total,e[0].upload.chunked){var o=e[0],s=this._getChunk(o,t);s.progress=n,s.total=i.total,s.bytesSent=i.loaded;o.upload.progress=0,o.upload.total=0,o.upload.bytesSent=0;for(var a=0;a<o.upload.totalChunkCount;a++)o.upload.chunks[a]!==undefined&&o.upload.chunks[a].progress!==undefined&&(o.upload.progress+=o.upload.chunks[a].progress,o.upload.total+=o.upload.chunks[a].total,o.upload.bytesSent+=o.upload.chunks[a].bytesSent);o.upload.progress=o.upload.progress/o.upload.totalChunkCount}else for(var r=e,l=!0,d=0,r=l?r:r[Symbol.iterator]();;){var c;if(l){if(d>=r.length)break;c=r[d++]}else{if(d=r.next(),d.done)break;c=d.value}var h=c;h.upload.progress=n,h.upload.total=i.total,h.upload.bytesSent=i.loaded}for(var u=e,p=!0,f=0,u=p?u:u[Symbol.iterator]();;){var m;if(p){if(f>=u.length)break;m=u[f++]}else{if(f=u.next(),f.done)break;m=f.value}var g=m;this.emit("uploadprogress",g,g.upload.progress,g.upload.bytesSent)}}else{var v=!0;n=100;for(var b=e,w=!0,y=0,b=w?b:b[Symbol.iterator]();;){var k;if(w){if(y>=b.length)break;k=b[y++]}else{if(y=b.next(),y.done)break;k=y.value}var C=k;100===C.upload.progress&&C.upload.bytesSent===C.upload.total||(v=!1),C.upload.progress=n,C.upload.bytesSent=C.upload.total}if(v)return;for(var x=e,S=!0,F=0,x=S?x:x[Symbol.iterator]();;){var T;if(S){if(F>=x.length)break;T=x[F++]}else{if(F=x.next(),F.done)break;T=F.value}var D=T;this.emit("uploadprogress",D,n,D.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(e,i,n){var o=void 0;if(e[0].status!==t.CANCELED&&4===i.readyState){if("arraybuffer"!==i.responseType&&"blob"!==i.responseType&&(o=i.responseText,i.getResponseHeader("content-type")&&~i.getResponseHeader("content-type").indexOf("application/json")))try{o=JSON.parse(o)}catch(e){n=e,o="Invalid JSON response from server."}this._updateFilesUploadProgress(e),200<=i.status&&i.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],i)):this._finished(e,o,n):this._handleUploadError(e,i,o)}}},{key:"_handleUploadError",value:function(e,i,n){if(e[0].status!==t.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var o=this._getChunk(e[0],i);if(o.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[o.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}for(var s=e,a=!0,r=0,s=a?s:s[Symbol.iterator]();;){if(a){if(r>=s.length)break;s[r++]}else{if(r=s.next(),r.done)break;r.value}this._errorProcessing(e,n||this.options.dictResponseError.replace("{{statusCode}}",i.status),i)}}}},{key:"submitRequest",value:function(e,t){e.send(t)}},{key:"_finished",value:function(e,i,n){for(var o=e,s=!0,a=0,o=s?o:o[Symbol.iterator]();;){var r;if(s){if(a>=o.length)break;r=o[a++]}else{
if(a=o.next(),a.done)break;r=a.value}var l=r;l.status=t.SUCCESS,this.emit("success",l,i,n),this.emit("complete",l)}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,i,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,i,n){for(var o=e,s=!0,a=0,o=s?o:o[Symbol.iterator]();;){var r;if(s){if(a>=o.length)break;r=o[a++]}else{if(a=o.next(),a.done)break;r=a.value}var l=r;l.status=t.ERROR,this.emit("error",l,i,n),this.emit("complete",l)}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,i,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}]),t}(Emitter);Dropzone.initClass(),Dropzone.version="5.5.0",Dropzone.options={},Dropzone.optionsForElement=function(e){return e.getAttribute("id")?Dropzone.options[camelize(e.getAttribute("id"))]:undefined},Dropzone.instances=[],Dropzone.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:undefined))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},Dropzone.autoDiscover=!0,Dropzone.discover=function(){var e=void 0;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];var t=function(t){return function(){for(var i=[],n=t,o=!0,s=0,n=o?n:n[Symbol.iterator]();;){var a;if(o){if(s>=n.length)break;a=n[s++]}else{if(s=n.next(),s.done)break;a=s.value}var r=a;/(^| )dropzone($| )/.test(r.className)?i.push(e.push(r)):i.push(undefined)}return i}()};t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))}return function(){for(var t=[],i=e,n=!0,o=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(o>=i.length)break;s=i[o++]}else{if(o=i.next(),o.done)break;s=o.value}var a=s;!1!==Dropzone.optionsForElement(a)?t.push(new Dropzone(a)):t.push(undefined)}return t}()},Dropzone.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],Dropzone.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(var t=Dropzone.blacklistedBrowsers,i=!0,n=0,t=i?t:t[Symbol.iterator]();;){var o;if(i){if(n>=t.length)break;o=t[n++]}else{if(n=t.next(),n.done)break;o=n.value}var s=o;s.test(navigator.userAgent)&&(e=!1)}else e=!1;else e=!1;return e},Dropzone.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),i=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),o=new Uint8Array(n),s=0,a=t.length,r=0<=a;r?s<=a:s>=a;r?s++:s--)o[s]=t.charCodeAt(s);return new Blob([n],{type:i})};var without=function(e,t){return e.filter(function(e){return e!==t}).map(function(e){return e})},camelize=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})};Dropzone.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},Dropzone.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},Dropzone.getElement=function(e,t){var i=void 0;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},Dropzone.getElements=function(e,t){var i=void 0,n=void 0;if(e instanceof Array){n=[];try{for(var o=e,s=!0,a=0,o=s?o:o[Symbol.iterator]();;){if(s){if(a>=o.length)break;i=o[a++]}else{if(a=o.next(),a.done)break;i=a.value}n.push(this.getElement(i,t))}}catch(e){n=null}}else if("string"==typeof e){n=[];for(var r=document.querySelectorAll(e),l=!0,d=0,r=l?r:r[Symbol.iterator]();;){if(l){if(d>=r.length)break;i=r[d++]}else{if(d=r.next(),d.done)break;i=d.value}n.push(i)}}else null!=e.nodeType&&(n=[e]);if(null==n||!n.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},Dropzone.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},Dropzone.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");for(var i=e.type,n=i.replace(/\/.*$/,""),o=t,s=!0,a=0,o=s?o:o[Symbol.iterator]();;){var r;if(s){if(a>=o.length)break;r=o[a++]}else{if(a=o.next(),a.done)break;r=a.value}var l=r;if(l=l.trim(),"."===l.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(l.toLowerCase(),e.name.length-l.length))return!0}else if(/\/\*$/.test(l)){if(n===l.replace(/\/.*$/,""))return!0}else if(i===l)return!0}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new Dropzone(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=Dropzone:window.Dropzone=Dropzone,Dropzone.ADDED="added",Dropzone.QUEUED="queued",Dropzone.ACCEPTED=Dropzone.QUEUED,Dropzone.UPLOADING="uploading",Dropzone.PROCESSING=Dropzone.UPLOADING,Dropzone.CANCELED="canceled",Dropzone.ERROR="error",Dropzone.SUCCESS="success";var detectVerticalSquash=function(e){var t=(e.naturalWidth,e.naturalHeight),i=document.createElement("canvas");i.width=1,i.height=t;var n=i.getContext("2d");n.drawImage(e,0,0);for(var o=n.getImageData(1,0,1,t),s=o.data,a=0,r=t,l=t;l>a;){0===s[4*(l-1)+3]?r=l:a=l,l=r+a>>1}var d=l/t;return 0===d?1:d},drawImageIOSFix=function(e,t,i,n,o,s,a,r,l,d){var c=detectVerticalSquash(t);return e.drawImage(t,i,n,o,s,a,r,l,d/c)},ExifRestore=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var t="",i=undefined,n=undefined,o="",s=undefined,a=undefined,r=undefined,l="",d=0;;)if(i=e[d++],n=e[d++],o=e[d++],s=i>>2,a=(3&i)<<4|n>>4,r=(15&n)<<2|o>>6,l=63&o,isNaN(n)?r=l=64:isNaN(o)&&(l=64),t=t+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(l),i=n=o="",s=a=r=l="",!(d<e.length))break;return t}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var i=this.decode64(e.replace("data:image/jpeg;base64,","")),n=this.slice2Segments(i),o=this.exifManipulation(t,n);return"data:image/jpeg;base64,"+this.encode64(o)}},{key:"exifManipulation",value:function(e,t){var i=this.getExifArray(t),n=this.insertExif(e,i);return new Uint8Array(n)}},{key:"getExifArray",value:function(e){for(var t=undefined,i=0;i<e.length;){if(t=e[i],255===t[0]&225===t[1])return t;i++}return[]}},{key:"insertExif",value:function(e,t){var i=e.replace("data:image/jpeg;base64,",""),n=this.decode64(i),o=n.indexOf(255,3),s=n.slice(0,o),a=n.slice(o),r=s;return r=r.concat(t),r=r.concat(a)}},{key:"slice2Segments",value:function(e){for(var t=0,i=[];;){var n;if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{n=256*e[t+2]+e[t+3];var o=t+n+2,s=e.slice(t,o);i.push(s),t=o}if(t>e.length)break}return i}},{key:"decode64",value:function(e){var t=undefined,i=undefined,n="",o=undefined,s=undefined,a=undefined,r="",l=0,d=[],c=/[^A-Za-z0-9\+\/\=]/g;for(c.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");;)if(o=this.KEY_STR.indexOf(e.charAt(l++)),s=this.KEY_STR.indexOf(e.charAt(l++)),a=this.KEY_STR.indexOf(e.charAt(l++)),r=this.KEY_STR.indexOf(e.charAt(l++)),t=o<<2|s>>4,i=(15&s)<<4|a>>2,n=(3&a)<<6|r,d.push(t),64!==a&&d.push(i),64!==r&&d.push(n),t=i=n="",o=s=a=r="",!(l<e.length))break;return d}}]),e}();ExifRestore.initClass();var contentLoaded=function(e,t){var i=!1,n=!0,o=e.document,s=o.documentElement,a=o.addEventListener?"addEventListener":"attachEvent",r=o.addEventListener?"removeEventListener":"detachEvent",l=o.addEventListener?"":"on",d=function n(s){if("readystatechange"!==s.type||"complete"===o.readyState)return("load"===s.type?e:o)[r](l+s.type,n,!1),!i&&(i=!0)?t.call(e,s.type||s):void 0},c=function e(){try{s.doScroll("left")}catch(t){return void setTimeout(e,50)}return d("poll")};if("complete"!==o.readyState){if(o.createEventObject&&s.doScroll){try{n=!e.frameElement}catch(e){}n&&c()}return o[a](l+"DOMContentLoaded",d,!1),o[a](l+"readystatechange",d,!1),e[a](l+"load",d,!1)}};Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover)return Dropzone.discover()},contentLoaded(window,Dropzone._autoDiscoverFunction),function(){function e(e){return!!e.exifdata}function t(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var i=atob(e),n=i.length,o=new ArrayBuffer(n),s=new Uint8Array(o),a=0;a<n;a++)s[a]=i.charCodeAt(a);return o}function i(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(){200!=this.status&&0!==this.status||t(this.response)},i.send()}function n(e,n){function a(t){var i=o(t);e.exifdata=i||{};var a=s(t);if(e.iptcdata=a||{},b.isXmpEnabled){var r=p(t);e.xmpdata=r||{}}n&&n.call(e)}if(e.src)if(/^data\:/i.test(e.src)){var r=t(e.src);a(r)}else if(/^blob\:/i.test(e.src)){var l=new FileReader;l.onload=function(e){a(e.target.result)},i(e.src,function(e){l.readAsArrayBuffer(e)})}else{var d=new XMLHttpRequest;d.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";a(d.response),d=null},d.open("GET",e.src,!0),d.responseType="arraybuffer",d.send(null)}else if(self.FileReader&&(e instanceof self.Blob||e instanceof self.File)){var l=new FileReader;l.onload=function(e){g&&console.log("Got file of length "+e.target.result.byteLength),a(e.target.result)},l.readAsArrayBuffer(e)}}function o(e){var t=new DataView(e);if(g&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return g&&console.log("Not a valid JPEG"),!1;for(var i,n=2,o=e.byteLength;n<o;){if(255!=t.getUint8(n))return g&&console.log("Not a valid marker at offset "+n+", found: "+t.getUint8(n)),!1;if(i=t.getUint8(n+1),g&&console.log(i),225==i)return g&&console.log("Found 0xFFE1 marker"),u(t,n+4,t.getUint16(n+2)-2);n+=2+t.getUint16(n+2)}}function s(e){var t=new DataView(e);if(g&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return g&&console.log("Not a valid JPEG"),!1;for(var i=2,n=e.byteLength,o=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};i<n;){if(o(t,i)){var s=t.getUint8(i+7);s%2!=0&&(s+=1),0===s&&(s=4);return a(e,i+8+s,t.getUint16(i+6+s))}i++}}function a(e,t,i){for(var n,o,s,a,r=new DataView(e),l={},d=t;d<t+i;)28===r.getUint8(d)&&2===r.getUint8(d+1)&&(a=r.getUint8(d+2))in S&&(s=r.getInt16(d+3),s+5,o=S[a],n=h(r,d+5,s),l.hasOwnProperty(o)?l[o]instanceof Array?l[o].push(n):l[o]=[l[o],n]:l[o]=n),d++;return l}function r(e,t,i,n,o){var s,a,r,d=e.getUint16(i,!o),c={};for(r=0;r<d;r++)s=i+12*r+2,a=n[e.getUint16(s,!o)],!a&&g&&console.log("Unknown tag: "+e.getUint16(s,!o)),c[a]=l(e,s,t,i,o);return c}function l(e,t,i,n,o){var s,a,r,l,d,c,u=e.getUint16(t+2,!o),p=e.getUint32(t+4,!o),f=e.getUint32(t+8,!o)+i;switch(u){case 1:case 7:if(1==p)return e.getUint8(t+8,!o);for(s=p>4?f:t+8,a=[],l=0;l<p;l++)a[l]=e.getUint8(s+l);return a;case 2:return s=p>4?f:t+8,h(e,s,p-1);case 3:if(1==p)return e.getUint16(t+8,!o);for(s=p>2?f:t+8,a=[],l=0;l<p;l++)a[l]=e.getUint16(s+2*l,!o);return a;case 4:if(1==p)return e.getUint32(t+8,!o);for(a=[],l=0;l<p;l++)a[l]=e.getUint32(f+4*l,!o);return a;case 5:if(1==p)return d=e.getUint32(f,!o),c=e.getUint32(f+4,!o),r=new Number(d/c),r.numerator=d,r.denominator=c,r;for(a=[],l=0;l<p;l++)d=e.getUint32(f+8*l,!o),c=e.getUint32(f+4+8*l,!o),a[l]=new Number(d/c),a[l].numerator=d,a[l].denominator=c;return a;case 9:if(1==p)return e.getInt32(t+8,!o);for(a=[],l=0;l<p;l++)a[l]=e.getInt32(f+4*l,!o);return a;case 10:if(1==p)return e.getInt32(f,!o)/e.getInt32(f+4,!o);for(a=[],l=0;l<p;l++)a[l]=e.getInt32(f+8*l,!o)/e.getInt32(f+4+8*l,!o);return a}}function d(e,t,i){var n=e.getUint16(t,!i);return e.getUint32(t+2+12*n,!i)}function c(e,t,i,n){var o=d(e,t+i,n);if(!o)return{};if(o>e.byteLength)return{};var s=r(e,t,t+o,C,n);if(s.Compression)switch(s.Compression){case 6:if(s.JpegIFOffset&&s.JpegIFByteCount){var a=t+s.JpegIFOffset,l=s.JpegIFByteCount;s.blob=new Blob([new Uint8Array(e.buffer,a,l)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",s.Compression)}else 2==s.PhotometricInterpretation&&console.log("Thumbnail image format is RGB, which is not implemented.");return s}function h(e,t,i){for(var n="",o=t;o<t+i;o++)n+=String.fromCharCode(e.getUint8(o));return n}function u(e,t){if("Exif"!=h(e,t,4))return g&&console.log("Not valid EXIF data! "+h(e,t,4)),!1;var i,n,o,s,a,l=t+6;if(18761==e.getUint16(l))i=!1;else{if(19789!=e.getUint16(l))return g&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;i=!0}if(42!=e.getUint16(l+2,!i))return g&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var d=e.getUint32(l+4,!i);if(d<8)return g&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(l+4,!i)),!1;if(n=r(e,l,l+d,y,i),n.ExifIFDPointer){s=r(e,l,l+n.ExifIFDPointer,w,i);for(o in s){switch(o){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":s[o]=x[o][s[o]];break;case"ExifVersion":case"FlashpixVersion":s[o]=String.fromCharCode(s[o][0],s[o][1],s[o][2],s[o][3]);break;case"ComponentsConfiguration":s[o]=x.Components[s[o][0]]+x.Components[s[o][1]]+x.Components[s[o][2]]+x.Components[s[o][3]]}n[o]=s[o]}}if(n.GPSInfoIFDPointer){a=r(e,l,l+n.GPSInfoIFDPointer,k,i);for(o in a){switch(o){case"GPSVersionID":a[o]=a[o][0]+"."+a[o][1]+"."+a[o][2]+"."+a[o][3]}n[o]=a[o]}}return n.thumbnail=c(e,l,d,i),n}function p(e){if("DOMParser"in self){var t=new DataView(e);if(g&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return g&&console.log("Not a valid JPEG"),!1;for(var i=2,n=e.byteLength,o=new DOMParser;i<n-4;){if("http"==h(t,i,4)){var s=i-1,a=t.getUint16(i-2)-1,r=h(t,s,a),l=r.indexOf("xmpmeta>")+8;r=r.substring(r.indexOf("<x:xmpmeta"),l);var d=r.indexOf("x:xmpmeta")+10;r=r.slice(0,d)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+r.slice(d);return m(o.parseFromString(r,"text/xml"))}i++}}}function f(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var i=0;i<e.attributes.length;i++){var n=e.attributes.item(i);t["@attributes"][n.nodeName]=n.nodeValue}}}else if(3==e.nodeType)return e.nodeValue;if(e.hasChildNodes())for(var o=0;o<e.childNodes.length;o++){var s=e.childNodes.item(o),a=s.nodeName;if(null==t[a])t[a]=f(s);else{if(null==t[a].push){var r=t[a];t[a]=[],t[a].push(r)}t[a].push(f(s))}}return t}function m(e){try{var t={};if(e.children.length>0)for(var i=0;i<e.children.length;i++){var n=e.children.item(i),o=n.attributes;for(var s in o){var a=o[s],r=a.nodeName,l=a.nodeValue;r!==undefined&&(t[r]=l)}var d=n.nodeName;if("undefined"==typeof t[d])t[d]=f(n);else{if("undefined"==typeof t[d].push){var c=t[d];t[d]=[],t[d].push(c)}t[d].push(f(n))}}else t=e.textContent;return t}catch(e){console.log(e.message)}}var g=!1,v=this,b=function(e){return e instanceof b?e:this instanceof b?void(this.EXIFwrapped=e):new b(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=b),exports.EXIF=b):v.EXIF=b;var w=b.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},y=b.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},k=b.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},C=b.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},x=b.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},S={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};b.enableXmp=function(){b.isXmpEnabled=!0},b.disableXmp=function(){b.isXmpEnabled=!1},b.getData=function(t,i){return!((self.Image&&t instanceof self.Image||self.HTMLImageElement&&t instanceof self.HTMLImageElement)&&!t.complete)&&(e(t)?i&&i.call(t):n(t,i),!0)},b.getTag=function(t,i){if(e(t))return t.exifdata[i]},b.getIptcTag=function(t,i){if(e(t))return t.iptcdata[i]},b.getAllTags=function(t){if(!e(t))return{};var i,n=t.exifdata,o={};for(i in n)n.hasOwnProperty(i)&&(o[i]=n[i]);return o},b.getAllIptcTags=function(t){if(!e(t))return{};var i,n=t.iptcdata,o={};for(i in n)n.hasOwnProperty(i)&&(o[i]=n[i]);return o},b.pretty=function(t){if(!e(t))return"";var i,n=t.exifdata,o="";for(i in n)n.hasOwnProperty(i)&&("object"==typeof n[i]?n[i]instanceof Number?o+=i+" : "+n[i]+" ["+n[i].numerator+"/"+n[i].denominator+"]\r\n":o+=i+" : ["+n[i].length+" values]\r\n":o+=i+" : "+n[i]+"\r\n");return o},b.readFromBinaryFile=function(e){return o(e)},"function"==typeof define&&define.amd&&define("exif-js",[],function(){return b})}.call(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery||window.Zepto)}(function(e){var t=function(t,i,n){var o,s,a=this;t=e(t),i="function"==typeof i?i(t.val(),void 0,t,n):i;var r={getCaret:function(){try{var e,i=0,n=t.get(0),o=document.selection,s=n.selectionStart;return o&&!~navigator.appVersion.indexOf("MSIE 10")?(e=o.createRange(),e.moveStart("character",t.is("input")?-t.val().length:-t.text().length),i=e.text.length):(s||"0"===s)&&(i=s),i}catch(e){}},setCaret:function(e){try{if(t.is(":focus")){var i,n=t.get(0);n.setSelectionRange?n.setSelectionRange(e,e):n.createTextRange&&(i=n.createTextRange(),i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select())}}catch(e){}},events:function(){t.on("keydown.mask",function(){o=r.val()}).on("keyup.mask",r.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){t.keydown().keyup()},100)}).on("change.mask",function(){t.data("changed",!0)}).on("blur.mask",function(){o===t.val()||t.data("changed")||t.trigger("change"),t.data("changed",!1)}).on("focusout.mask",function(){n.clearIfNotMatch&&!s.test(r.val())&&r.val("")})},getRegexMask:function(){for(var e,t,n,o,s=[],r=0;r<i.length;r++)(e=a.translation[i[r]])?(t=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),n=e.optional,(e=e.recursive)?(s.push(i[r]),o={digit:i[r],pattern:t}):s.push(n||e?t+"?":t)):s.push("\\"+i[r]);return s=s.join(""),o&&(s=s.replace(RegExp("("+o.digit+"(.*"+o.digit+")?)"),"($1)?").replace(RegExp(o.digit,"g"),o.pattern)),RegExp(s)},destroyEvents:function(){t.off("keydown keyup paste drop change blur focusout DOMNodeInserted ".split(" ").join(".mask ")).removeData("changeCalled")},val:function(e){var i=t.is("input");return 0<arguments.length?i?t.val(e):t.text(e):i?t.val():t.text()},getMCharsBeforeCount:function(e,t){for(var n=0,o=0,s=i.length;o<s&&o<e;o++)a.translation[i.charAt(o)]||(e=t?e+1:e,n++);return n},caretPos:function(e,t,n,o){return a.translation[i.charAt(Math.min(e-1,i.length-1))]?Math.min(e+n-t-o,n):r.caretPos(e+1,t,n,o)},behaviour:function(t){t=t||window.event;var i=t.keyCode||t.which;if(-1===e.inArray(i,a.byPassKeys)){var n=r.getCaret(),o=r.val(),s=o.length,l=n<s,d=r.getMasked(),c=d.length,h=r.getMCharsBeforeCount(c-1)-r.getMCharsBeforeCount(s-1);return d!==o&&r.val(d),!l||65===i&&t.ctrlKey||(8!==i&&46!==i&&(n=r.caretPos(n,s,c,h)),r.setCaret(n)),r.callbacks(t)}},getMasked:function(e){var t,o,s=[],l=r.val(),d=0,c=i.length,h=0,u=l.length,p=1,f="push",m=-1;for(n.reverse?(f="unshift",p=-1,t=0,d=c-1,h=u-1,o=function(){return-1<d&&-1<h}):(t=c-1,o=function(){return d<c&&h<u});o();){var g=i.charAt(d),v=l.charAt(h),b=a.translation[g];b?(v.match(b.pattern)?(s[f](v),b.recursive&&(-1===m?m=d:d===t&&(d=m-p),t===m&&(d-=p)),d+=p):b.optional&&(d+=p,h-=p),h+=p):(e||s[f](g),v===g&&(h+=p),d+=p)}return e=i.charAt(t),c!==u+1||a.translation[e]||s.push(e),s.join("")},callbacks:function(e){var s=r.val(),a=s!==o;!0===a&&"function"==typeof n.onChange&&n.onChange(s,e,t,n),!0===a&&"function"==typeof n.onKeyPress&&n.onKeyPress(s,e,t,n),"function"==typeof n.onComplete&&s.length===i.length&&n.onComplete(s,e,t,n)}};a.remove=function(){var e;r.destroyEvents(),r.val(a.getCleanVal()).removeAttr("maxlength"),e=r.getCaret(),r.setCaret(e-r.getMCharsBeforeCount(e))},a.getCleanVal=function(){return r.getMasked(!0)},a.init=function(){n=n||{},a.byPassKeys=[9,16,17,18,36,37,38,39,40,91],a.translation={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}},a.translation=e.extend({},a.translation,n.translation),a=e.extend(!0,{},a,n),s=r.getRegexMask(),!1!==n.maxlength&&t.attr("maxlength",i.length),n.placeholder&&t.attr("placeholder",n.placeholder),t.attr("autocomplete","off"),r.destroyEvents(),r.events();var o=r.getCaret();r.val(r.getMasked()),r.setCaret(o+r.getMCharsBeforeCount(o,!0))}()},i={},n=function(){var t=e(this),i={};t.attr("data-mask-reverse")&&(i.reverse=!0),"false"===t.attr("data-mask-maxlength")&&(i.maxlength=!1),t.attr("data-mask-clearifnotmatch")&&(i.clearIfNotMatch=!0),t.mask(t.attr("data-mask"),i)};e.fn.mask=function(n,o){var s=this.selector,a=function(i){if(!i.originalEvent||e(i.originalEvent.relatedNode)[0]!=e(this)[0])return e(this).data("mask",new t(this,n,o))};this.each(a),s&&!i[s]&&(i[s]=!0,setTimeout(function(){e(document).on("DOMNodeInserted.mask",s,a)},500))},e.fn.unmask=function(){try{return this.each(function(){e(this).data("mask").remove()})}catch(e){}},e.fn.cleanVal=function(){return this.data("mask").getCleanVal()},e("*[data-mask]").each(n),e(document).on("DOMNodeInserted.mask","*[data-mask]",n)}),function(e){e.fn.datepicker.dates.fr={days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],daysShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],daysMin:["di","lu","ma","me","je","ve","sa"],months:["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],monthsShort:["Janv.","F\xe9vr.","Mars","Avril","Mai","Juin","Juil.","Ao\xfbt","Sept.","Oct.","Nov.","D\xe9c."],today:"Aujourd'hui",clear:"Effacer",weekStart:1,format:"dd/mm/yyyy"}}(jQuery),function(e){e.fn.datepicker.dates.nl={days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],daysShort:["zo","ma","di","wo","do","vr","za"],daysMin:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],today:"Vandaag",monthsTitle:"Maanden",clear:"Wissen",weekStart:1,format:"dd-mm-yyyy"}}(jQuery);var mangoPay={cardRegistration:{baseURL:"https://api.sandbox.mangopay.com",clientId:"",init:function(e){this._cardRegisterData=e},registerCard:function(e,t,i){if(!mangoPay.browser.corsSupport())return void i({ResultCode:"009999",ResultMessage:"Browser does not support making cross-origin Ajax calls"});var n=mangoPay.cardRegistration._validateCardData(e);return!0!==n?void i(n):void mangoPay.cardRegistration._tokenizeCard(e,mangoPay.cardRegistration._finishRegistration,t,i)},_validateCardData:function(e){var t=mangoPay._validation._cardNumberValidator._validate(e.cardNumber);if(!0!==t)return t;var i=mangoPay._validation._expirationDateValidator._validate(e.cardExpirationDate,new Date);if(!0!==i)return i;var n=mangoPay._validation._cvvValidator._validate(e.cardCvx,e.cardType);return!0===n||n},_tokenizeCard:function(e,t,i,n){mangoPay._networking._ajax({type:"post",url:this._cardRegisterData.cardRegistrationURL,crossDomain:!0,data:{data:this._cardRegisterData.preregistrationData,accessKeyRef:this._cardRegisterData.accessKey,cardNumber:e.cardNumber,cardExpirationDate:e.cardExpirationDate,cardCvx:e.cardCvx},success:function(e){var o="";return null===e?void n({ResultCode:"001599",ResultMessage:"Token processing error"}):(o={Id:mangoPay.cardRegistration._cardRegisterData.Id,RegistrationData:e},void t(o,i,n))},error:function(){n({ResultCode:"001599",ResultMessage:"Token processing error"})}})},_finishRegistration:function(e,t,i){mangoPay._networking._ajax({type:"post",crossDomain:!0,url:mangoPay.cardRegistration.baseURL+"/v2/"+mangoPay.cardRegistration.clientId+"/CardRegistrations/"+e.Id,data:e,success:function(e){try{e=JSON.parse(e)}catch(e){return void i({ResultCode:"101699",ResultMessage:"CardRegistration should return a valid JSON response"})}"000000"===e.ResultCode?t(e):i(e)},error:function(e){var t="CardRegistration error";if(e.response)try{var n=JSON.parse(e.response);n.Message&&(t=n.Message)}catch(e){}i({ResultCode:"101699",ResultMessage:t})}})}},_validation:{_cvvValidator:{_validate:function(e,t){if("MAESTRO"===t)return!0;if(e=e?e.trim():"",t=t?t.trim():"",!0===mangoPay._validation._helpers._validateNumericOnly(e)){if("AMEX"===t&&(3===e.length||4===e.length))return!0;if("CB_VISA_MASTERCARD"===t&&3===e.length)return!0}return{ResultCode:"105204",ResultMessage:"CVV_FORMAT_ERROR"}}},_expirationDateValidator:{_validate:function(e,t){if(e=e?e.trim():"",4===e.length){var i=parseInt(e.substr(2,2),10)+2e3,n=parseInt(e.substr(0,2),10);if(n>0&&12>=n){var o=t.getFullYear();if(i>o)return!0;if(o===i){if(n>=t.getMonth()+1)return!0}return{ResultCode:"105203",ResultMessage:"PAST_EXPIRY_DATE_ERROR"}}}return{ResultCode:"105203",ResultMessage:"EXPIRY_DATE_FORMAT_ERROR"}}},_cardNumberValidator:{_validate:function(e){return e=e?e.trim():"",!1===mangoPay._validation._helpers._validateNumericOnly(e)?{ResultCode:"105202",ResultMessage:"CARD_NUMBER_FORMAT_ERROR"}:!1!==this._validateCheckDigit(e)||{ResultCode:"105202",ResultMessage:"CARD_NUMBER_FORMAT_ERROR"}},_validateCheckDigit:function(e){for(var t=0,i=0,n=!1,o=e.replace(/\D/g,""),s=o.length-1;s>=0;s--){var a=o.charAt(s),i=parseInt(a,10);n&&(i*=2)>9&&(i-=9),t+=i,n=!n}return t%10==0}},_helpers:{_validateNumericOnly:function(e){var t=/^[0-9]+$/;return!!e.match(t)}}},_networking:{_ajax:function(e){var t=new XMLHttpRequest,i="";for(var n in e.data)i+=(i.length>0?"&":"")+n+"="+encodeURIComponent(e.data[n]);var o=e.url;return"get"===e.type&&(o=e.url+(e.url.indexOf("?")>-1?"&":"?")+i),
!e.crossDomain||"withCredentials"in t||!window.XDomainRequest?(t.onreadystatechange=function(){4==t.readyState&&(/^2[0-9][0-9]$/.test(t.status)?e.success(t.responseText):e.error(t,t.status,t.statusText))},t.open(e.type,o,!0),"post"===e.type&&t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),void t.send("post"===e.type?i:null)):(xdr=new XDomainRequest,xdr.onerror=function(){e.error(xdr)},xdr.onload=function(){e.success(xdr.responseText)},xdr.open(e.type,o),void xdr.send("post"===e.type?i:null))}},browser:{corsSupport:function(){return"withCredentials"in new XMLHttpRequest||!!window.XDomainRequest}}};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),function(e,t,i,n){var o=function(t,i){this.elem=t,this.$elem=e(t),this.options=i,this.tags=[]};o.prototype={keys:{add:{comma:188,enter:13,spacebar:32},remove:{del:46,backspace:8}},defaults:{"case-sensitive":!1,"close-char":"&times;","close-class":"tag-i","edit-on-delete":!0,"forbidden-chars":[".","_","?"],"forbidden-chars-callback":t.alert,"forbidden-chars-text":"Forbidden character:","forbidden-words":[],"forbidden-words-callback":t.alert,"forbidden-words-text":"Forbidden word:","no-backspace":!1,"no-comma":!1,"no-del":!1,"no-duplicate":!0,"no-duplicate-callback":t.alert,"no-duplicate-text":"Duplicate tag:","no-enter":!1,"no-spacebar":!1,"pre-tags-separator":", ","tag-box-class":"tagging","tag-box-editable-class":"editable","tag-char":"#","tag-class":"tag","tags-input-name":"tag","tag-on-blur":!0,"tags-limit":0,"type-zone-class":"type-zone"},add:function(t){var n,o,s,a,r;if(s=this,e.isArray(t))return e.each(t,function(){s.add(this+"")});if(r=s.config["forbidden-words"],t||(t=s.valInput(),s.emptyInput()),!t||!t.length)return!1;for(s.config["case-sensitive"]||(t=t.toLowerCase()),o=r.length;o--;)if(0<=(a=t.indexOf(r[o])))return s.emptyInput(),o=s.config["forbidden-words-callback"],a=s.config["forbidden-words-text"],s.throwError(o,a,t);if(s.config["no-duplicate"])for(o=s.tags.length;o--;)if(s.tags[o].pure_text===t)return s.emptyInput(),o=s.config["no-duplicate-callback"],a=s.config["no-duplicate-text"],s.throwError(o,a,t);return n=e(i.createElement("div")).addClass(s.config["tag-class"]).html("<span>"+s.config["tag-char"]+"</span> "+t),e(i.createElement("input")).attr("type","hidden").attr("name",s.config["tags-input-name"]+"[]").val(t).appendTo(n),e(i.createElement("a")).attr("role","button").addClass(s.config["close-class"]).html(s.config["close-char"]).click(function(){s.remove(n)}).appendTo(n),n.pure_text=t,s.tags.push(n),s.$type_zone.before(n),0<s.config["tags-limit"]&&s.tags.length>=s.config["tags-limit"]&&(s.$elem.removeClass(s.config["tag-box-editable-class"]),s.$type_zone.hide()),s.$elem.trigger("add:after",[t,s]),!0},addSpecialKeys:function(t){var i,n,o,s;if(i=this,s=t[0],o=t[1],t={},e.isArray(o))return e.each(o,function(){i.addSpecialKeys([s,this])});if(!o&&o.constructor!==Object)return"Error -> The second argument is not an Object!";for(n in o)o.hasOwnProperty(n)&&o[n]===+o[n]&&o[n]===(0|o[n])&&e.extend(t,o);return i.keys[s]=e.extend({},t,i.keys[s]),i.keys[s]},destroy:function(){return this.$elem.find("."+this.config["type-zone-class"]).remove(),this.$elem.find("."+this.config["tag-class"]).remove(),this.$elem.data("tag-box",null),!0},emptyInput:function(){return this.focusInput(),this.valInput("")},focusInput:function(){return this.$type_zone.focus()},getDataOptions:function(){var e,t,i;i={};for(e in this.defaults)(t=this.$elem.data(e))&&(i[e]=t);return i},getSpecialKeys:function(){return e.extend({},this.keys.add,this.keys.remove)},getSpecialKeysD:function(){return this.keys},getTags:function(){var e,t,i;for(i=this.tags.length,e=[],t=0;t<i;t+=1)e.push(this.tags[t].pure_text);return e},getTagsObj:function(){return this.tags},init:function(){var t,n,o;return n=this,n.config=e.extend({},n.defaults,n.options,n.getDataOptions()),t=n.$elem.text(),n.$elem.empty(),n.$type_zone=e(i.createElement("input")).addClass(n.config["type-zone-class"]).attr("contenteditable",!0),n.$elem.addClass(n.config["tag-box-class"]).addClass(n.config["tag-box-editable-class"]).append(n.$type_zone),n.$type_zone.keydown(function(e){var t,i,o,s,a;if(i=n.getSpecialKeys(),s=n.config["forbidden-chars"],a=n.valInput(),o=e.which,a){for(i=s.length;i--;)if(0<=a.indexOf(s[i]))return e.preventDefault(),a=a.replace(s[i],""),n.focusInput(),n.valInput(a),e=n.config["forbidden-chars-callback"],t=n.config["forbidden-chars-text"],n.throwError(e,t,s[i]);for(t in n.keys.add)if(o===n.keys.add[t]&&!n.config["no-"+t])return e.preventDefault(),n.add()}else for(t in i)if(o===i[t]){if(n.keys.add[t]){e.preventDefault();break}if(n.keys.remove[t]&&!n.config["no-"+t])return e.preventDefault(),n.remove()}return!0}),n.config["tag-on-blur"]&&n.$type_zone.focusout(function(){return!(!(o=n.valInput())||!o.length)&&n.add()}),n.$elem.on("click",function(){n.focusInput()}),n.refresh(t),n},refresh:function(t){var i,n;return i=this,n=i.config["pre-tags-separator"],t=t||i.getTags().join(n),i.reset(),e.each(t.split(n),function(){i.add(this+"")}),!0},remove:function(t){var i,n,o;if(i=this,e.isArray(t))return e.each(t,function(){i.remove(this+"")});if("string"==typeof t&&(n=t,t=i.$elem.find("input[value="+n+"]").parent(),!t.length))return"Error -> Tag not found";if(t)for(o=i.tags.length;o--;)i.tags[o][0].innerHTML===t[0].innerHTML&&i.tags.splice(o,1);else t=i.tags.pop();return n=n||t.pure_text,t.remove(),i.config["edit-on-delete"]&&(i.emptyInput(),i.valInput(t.pure_text)),0<i.config["tags-limit"]&&i.$type_zone.not(":visible")&&i.tags.length<i.config["tags-limit"]&&(i.$elem.addClass(i.config["tag-box-editable-class"]),i.$type_zone.show()),i.$elem.trigger("remove:after",[n,i]),t},removeAll:function(){return this.reset()},removeSpecialKeys:function(t){var i,o,s;if(i=this,s=t[0],t=t[1],e.isArray(t))return e.each(t,function(){i.removeSpecialKeys([s,this])});for(o in i.keys[s])i.keys[s].hasOwnProperty(o)&&i.keys[s][o]===t&&(i.keys[s][o]=n);return i.keys[s]},reset:function(){for(;this.tags.length;)this.remove(this.tags[this.tags.length]);return this.emptyInput(),this.tags},throwError:function(e,t,i){return e([t+" '"+i+"'."])},valInput:function(e){return null==e?this.$type_zone.val():this.$type_zone.val(e)}},e.fn.tagging=function(t,i){var n=[];return this.each(function(){var s,a;s=e(this),(a=s.data("tag-box"))?(s=a[t](i))&&n.push(s):(a=new o(this,t),s.data("tag-box",a),a.init(),n.push(a.$elem))}),"string"==typeof t?1<n.length?n:n[0]:n}}(window.jQuery,window,document),function(e,t){"use strict";"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")(e)):"function"==typeof define&&define.amd?define("bootstrap3-typeahead",["jquery"],function(e){return t(e)}):t(e.jQuery)}(this,function(e){"use strict";var t=function(t,i){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.select=this.options.select||this.select,this.autoSelect="boolean"!=typeof this.options.autoSelect||this.options.autoSelect,this.highlighter=this.options.highlighter||this.highlighter,this.render=this.options.render||this.render,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.delay="number"==typeof this.options.delay?this.options.delay:250,this.$menu=e(this.options.menu),this.shown=!1,this.listen(),this.showHintOnFocus="boolean"==typeof this.options.showHintOnFocus&&this.options.showHintOnFocus,this.afterSelect=this.options.afterSelect};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").data("value");return this.$element.addClass("dark-placeholder"),(this.autoSelect||e)&&(this.$element.val(this.updater(e)).change(),this.afterSelect()),this.hide()},updater:function(e){return e},setSource:function(e){this.source=e},show:function(){var t,i=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return t="function"==typeof this.options.scrollHeight?this.options.scrollHeight.call():this.options.scrollHeight,this.$menu.insertAfter(this.$element).css({top:i.top+i.height+t,left:i.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var i;if(this.query=void 0!==t&&null!==t?t:this.$element.val()||"",this.query.length<this.options.minLength&&!this.showHintOnFocus)return this.shown?this.hide():this;var n=e.proxy(function(){(i=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source)&&this.process(i)},this);clearTimeout(this.lookupWorker),this.lookupWorker=setTimeout(n,this.delay)},process:function(t){var i=this;return t=e.grep(t,function(e){return i.matcher(e)}),t=this.sorter(t),t.length?"all"==this.options.items?this.render(t).show():this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,i=[],n=[],o=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?n.push(t):o.push(t):i.push(t);return i.concat(n,o)},highlighter:function(t){var i,n,o,s,a,r=e("<div></div>"),l=this.query,d=t.toLowerCase().indexOf(l.toLowerCase());if(0==(i=l.length))return r.text(t).html();for(;d>-1;)n=t.substr(0,d),o=t.substr(d,i),s=t.substr(d+i),a=e("<strong></strong>").text(o),r.append(document.createTextNode(n)).append(a),t=s,d=t.indexOf(l);return r.append(document.createTextNode(t)).html()},render:function(t){var i=this;return t=e(t).map(function(t,n){return t=e(i.options.item).data("value",n),t.find("a").html(i.highlighter(n)),t[0]}),this.autoSelect&&t.first().addClass("active"),this.$menu.html(t),this},next:function(){var t=this.$menu.find(".active").removeClass("active"),i=t.next();i.length||(i=e(this.$menu.find("li")[0])),i.addClass("active")},prev:function(){var e=this.$menu.find(".active").removeClass("active"),t=e.prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},destroy:function(){this.$element.data("typeahead",null),this.$element.off("focus").off("blur").off("keypress").off("keyup"),this.eventSupported("keydown")&&this.$element.off("keydown"),this.$menu.remove()},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:if(e.shiftKey)return;e.preventDefault(),this.prev();break;case 40:if(e.shiftKey)return;e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.shown||40!=t.keyCode?this.move(t):this.lookup("")},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(){this.focused||(this.focused=!0,(0===this.options.minLength&&!this.$element.val()||this.options.showHintOnFocus)&&this.lookup())},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var i=e.fn.typeahead;e.fn.typeahead=function(i){var n=arguments;return this.each(function(){var o=e(this),s=o.data("typeahead"),a="object"==typeof i&&i;s||o.data("typeahead",s=new t(this,a)),"string"==typeof i&&(n.length>1?s[i].apply(s,Array.prototype.slice.call(n,1)):s[i]())})},e.fn.typeahead.defaults={source:[],items:8,menu:'<div class="typeahead dropdown-menu dropdown-menu-right dropdown-typedhead"></div>',item:'<li><a href="#" class="dropdown-item"></a></li>',minLength:1,scrollHeight:0,autoSelect:!0,afterSelect:e.noop},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=i,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var t=e(this);t.data("typeahead")||t.typeahead(t.data())})}),function(){"use strict";window.Utilities={formatNbHours:function(e,t){return"nl"==t?parseFloat(e)%1==0?parseFloat(e)+" uur ":Math.floor(e)+" uur 30 ":parseFloat(e)%1==0?parseFloat(e)+" h ":Math.floor(e)+" h 30 "},formatPrice:function(e){return e.toString().replace(".",",")},degToRad:function(e){return Math.PI*e/180},uuid:function(){var e,t,i="";for(e=0;e<32;e++)t=16*Math.random()|0,8!=e&&12!=e&&16!=e&&20!=e||(i+="-"),i+=(12==e?4:16==e?3&t|8:t).toString(16);return i}}}(),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.Accordion=function(e){this.initialize(e)},window.Controls.Accordion.newInstance=function(){$('[data-component="accordion"]').each(function(){new Controls.Accordion(this)})},$.extend(Controls.Accordion.prototype,{initialize:function(e){this.component=$(e),this.initControls(),this.bindEvents()},initControls:function(){this.closeOther=this.component.data("close-other"),this.noScroll=this.component.data("no-scroll"),this.buttons=this.component.find("[data-accordion-target]"),this.allPanels=this.component.find('[data-role="element"]'),this.allPanels.hide(),this.elementsOpen=this.component.find('[data-element-open="true"]'),this.openElements()},bindEvents:function(){this.buttons.on("click",this.slideAccordion.bind(this))},slideAccordion:function(e){e.preventDefault();var t=$(e.target).parents().andSelf().filter("[data-accordion-target]"),i=this.component.find('[data-identifier="'+t.data("accordion-target")+'"]');t.toggleClass("rotate-in"),this.closeOther&&(this.allPanels.not(i).hide(),this.buttons.not(t).removeClass("rotate-in")),i.fadeToggle(150),this.noScroll||t.hasClass("rotate-in")&&$("html, body").animate({scrollTop:t.offset().top},0)},openElements:function(){this.elementsOpen.fadeToggle(150)}})}(),$(document).on("ready page:load",function(){Controls.Accordion.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.AddField=function(e){this.initialize(e)},window.Controls.AddField.newInstance=function(){$('[data-component="add-field"]').each(function(){new Controls.AddField({component:this})})},$.extend(Controls.AddField.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents(),this.hideAddFieldLink(),this.hideRemoveFieldLink()},initControls:function(){this.addFieldLink=this.component.find('[data-role="add-element"]'),this.minElement=this.component.data("min")||0,this.maxElements=this.component.data("max"),this.field=this.component.data("fields"),this.elementSelector='[data-role="element"]',this.removeFieldSelector='[data-role="remove-element"]',this.destroyFieldSelector='[name$="[_destroy]"]',this.idFieldSelector='[name$="[id]"]',this.component.find(this.elementSelector).first().hide(),$(this.destroyFieldSelector+'[value="true"]').parent(this.elementSelector).hide(),this.initFirstField()},bindEvents:function(){this.addFieldLink.on("click",this.addField.bind(this)),this.component.on("click",this.removeFieldSelector,this.removeField.bind(this))},addField:function(e){this.component.find(this.removeFieldSelector).show(),this.addFieldLink.before(this.component.find(this.elementSelector).first().clone().show()),this.component.find(this.elementSelector).last().find(this.destroyFieldSelector).val(!1);var t=Date.now(),i=new RegExp("clone","g");this.component.find(this.elementSelector).last().html(this.component.find(this.elementSelector).last().html().replace(i,t)),this.component.find(this.elementSelector).last().attr("data-visible","true"),this.component.find(this.elementSelector).last().find('[data-component=""]').attr("data-component","field-validator"),this.hideAddFieldLink(),e!==undefined&&e.preventDefault(),Youpijob.Jobs.ButtonField.newInstance(),Youpijob.Jobs.FieldsGroup.newInstance(),Youpijob.Jobs.FieldValidator.newInstance()},removeField:function(e){this.countElements()>this.minElement&&(""==$(e.target).closest(this.elementSelector).find(this.idFieldSelector).val()?$(e.target).closest(this.elementSelector).remove():($(e.target).closest(this.elementSelector).find(this.destroyFieldSelector).val(!0),$(e.target).closest(this.elementSelector).hide(),$(e.target).closest(this.elementSelector).attr("data-visible","false"))),this.showAddFieldLink(),this.hideRemoveFieldLink(),e.preventDefault()},hideAddFieldLink:function(){this.countElements()==this.maxElements&&this.addFieldLink.hide()},showAddFieldLink:function(){this.countElements()<this.maxElements&&this.addFieldLink.show()},hideRemoveFieldLink:function(){this.countElements()==this.minElement&&this.component.find(this.removeFieldSelector).hide()},countElements:function(){return this.component.find('[data-visible="true"]').length},initFirstField:function(){0==this.countElements()&&this.addField()}})}(),$(document).on("ready page:load",function(){Controls.AddField.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.AddressAutoCompleter=function(e){this.initialize(e)},window.Controls.AddressAutoCompleter.newInstance=function(){$('[data-component="address-auto-complete"]').each(function(){$(this).data("obj",new Controls.AddressAutoCompleter(this))})},$.extend(Controls.AddressAutoCompleter.prototype,{initialize:function(e){this.component=$(e),this.sessionToken=this.component.data("session-token"),this.initControls()},initControls:function(){this.cities=[],this.values=[];var e=void 0===this.component.data("prefix")?"":this.component.data("prefix")+"_";this.coordinatesField=this.component.find("[data-coordinates]"),this.adresssField=this.component.find("[data-address]"),this.adresssField.typeahead({source:this.dataSource.bind(this),minLength:2,items:50,updater:this.update.bind(this),matcher:function(){return!0}}),this.errorSpan=this.component.find("[data-error]"),this.placeIdField=this.component.find('[data-field="'+e+'place_id"]'),this.addressNameField=this.component.find('[data-field="'+e+'address_name"]'),this.cityComponent=this.component.find('[data-component="auto-complete"]'),this.showManualAddressFieldsLink=this.component.find("[data-show-address-fields-link]"),this.showManualAddressFieldsLink.on("click",this.showManualAddressFields.bind(this))},dataSource:function(e,t){$.ajax({url:"/cities/autocomplete_address",data:{term:e,session_token:this.sessionToken},success:this.setData.bind(this,t)})},setData:function(e,t){var i=this;return i.cities=[],i.values=[],$.each(t,function(e){i.cities.push(t[e].description),i.values.push({id:t[e].id})}),0==i.cities.length&&(this.component.find("[data-address-selected-incomplete-error]").hide(),this.component.find("[data-address-not-found-error]").show(),this.adresssField.parents(".form-group").addClass("has-error"),this.placeIdField.val(""),this.coordinatesField.val("").change()),e(i.cities)},update:function(e){this.component.find("[data-address-not-found-error]").hide(),this.component.find("[data-address-selected-incomplete-error]").hide(),this.component.find("[data-address-not-found-form]").hide(),this.adresssField.parents(".form-group").removeClass("has-error"),this.adresssField.removeClass("has-error");var t=this.values[$.inArray(e,this.cities)];$.ajax({url:"/cities/details_address",data:{place_id:t.id,session_token:this.sessionToken},success:this.setFields.bind(this)}),this.sessionToken=window.Utilities.uuid()},showAddressIncompleteError:function(){this.component.find("[data-address-not-found-error]").hide(),this.component.find("[data-address-selected-incomplete-error]").show(),this.adresssField.parents(".form-group").addClass("has-error"),this.placeIdField.val(""),this.coordinatesField.val("").change()},setFields:function(e){e.error?this.showAddressIncompleteError():(this.addressNameField.val(""),this.cityComponent.data("obj").reset(),this.adresssField.attr("placeholder",e.formatted_address),this.errorSpan.hide(),this.placeIdField.val(e.place_id),this.coordinatesField.val(e.coordinates).change())},showManualAddressFields:function(e){this.component.find("[data-address-not-found-form]").show(),this.addressNameField.focus(),e.preventDefault()}})}(),$(document).on("ready page:load",function(){Controls.AddressAutoCompleter.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.AutoCompleter=function(e){this.initialize(e)},window.Controls.AutoCompleter.newInstance=function(){$('[data-component="auto-complete"]').each(function(){$(this).data("obj",new Controls.AutoCompleter(this))})},$.extend(Controls.AutoCompleter.prototype,{initialize:function(e){this.component=$(e),this.initControls()},initControls:function(){this.cities=new Array,this.values=new Array,this.cityIdField=this.component.find("[data-city-id]"),this.coordinatesField=this.component.find("[data-coordinates]"),this.cityField=this.component.find("[data-city]"),this.cityNameForUrlField=this.component.find("[data-city-name-for-url]"),this.cityField.typeahead({source:this.dataSource.bind(this),minLength:2,items:50,updater:this.update.bind(this)}),this.resetPlaceholder=this.component.data("reset-placeholder")},dataSource:function(e,t){var i=this;return $.get("/cities/autocomplete_zip_code",{term:e},function(e){return i.cities=new Array,i.values=new Array,$.each(e,function(t){i.cities.push(e[t].label),i.values.push({id:e[t].value,name_for_url:e[t].name_for_url,coordinates:e[t].coordinates})}),t(i.cities)})},update:function(e){var t=this.values[$.inArray(e,this.cities)];this.cityIdField.val(t.id),this.coordinatesField.val(t.coordinates),this.cityNameForUrlField.val(t.name_for_url),this.cityIdField.change(),this.cityNameForUrlField.change(),this.coordinatesField.change(),this.cityField.attr("placeholder",e),this.cityField.addClass("gray-plchldr"),$(this.component.parents('[data-component="joblist"]')).length>0&&$(this.component.parents('[data-component="joblist"]')).data("obj").getJobs()},reset:function(){this.cityField.val(""),this.cityField.blur(),this.cityIdField.val("").change(),this.coordinatesField.val("").change(),this.cityNameForUrlField.val("").change(),this.cityField.attr("placeholder",this.resetPlaceholder),this.cityField.removeClass("gray-plchldr")}})}(),$(document).on("ready page:load",function(){Controls.AutoCompleter.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.BootstrapTab=function(){},window.Controls.BootstrapTab.newInstance=function(){$('[data-component="bootstrap-tab"]').each(function(){var e=window.location.hash;$(this).find('a[href="'+e+'_tab"]').tab("show")})}}(),$(document).on("ready page:load",function(){Controls.BootstrapTab.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.Carousel=function(e){this.initialize(e)},window.Controls.Carousel.newInstance=function(){$('[data-component="carousel"]').each(function(){new Controls.Carousel(this)})},$.extend(Controls.Carousel.prototype,{initialize:function(e){this.component=$(e),this.initControls()},initControls:function(){this.component.slick({dots:!1,infinite:!1,slidesToShow:5,arrows:!0,swipe:!1,navigation:!0,slidesToScroll:2,responsive:[{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1,swipe:!1}},{breakpoint:768,settings:{slidesToShow:2.5,slidesToScroll:1,swipe:!0}},{breakpoint:576,settings:{slidesToShow:1.5,slidesToScroll:1,swipe:!0}}]})}})}(),$(document).on("ready page:load",function(){Controls.Carousel.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.CheckboxCounter=function(e){this.initialize(e)},window.Controls.CheckboxCounter.newInstance=function(){$('[data-component="checkbox-counter"]').each(function(){new Controls.CheckboxCounter(this)})},$.extend(Controls.CheckboxCounter.prototype,{initialize:function(e){this.component=$(e),this.initControls(),this.bindEvents()},initControls:function(){this.checkboxes=this.component.find(":checkbox"),this.counter=this.component.find("[data-counter]"),this.selectAllLink=this.component.find("[data-select-all]")},bindEvents:function(){this.checkboxes.on("change",this.updateCounter.bind(this)),this.selectAllLink.on("click",this.checkAll.bind(this))},updateCounter:function(e){e.preventDefault();var t=this.checkboxes.filter(":checked").length;this.counter.removeClass("in"),this.counter.addClass("in"),this.counter.text(t)},checkAll:function(e){e.preventDefault(),this.checkboxes.prop("checked",!0).change(),this.updateCounter(e)}})}(),$(document).on("ready page:load",function(){Controls.CheckboxCounter.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.controlScroll=function(e){this.initialize(e)},window.Controls.controlScroll.newInstance=function(){$('[data-component="control-scroll"]').each(function(){$(this).data("obj",new Controls.controlScroll(this))})},$.extend(Controls.controlScroll.prototype,{initialize:function(e){this.component=$(e),this.initControls()},initControls:function(){this.scrollNextBtn=this.component.find("[data-scroll-next-btn]"),this.scrollPrevBtn=this.component.find("[data-scroll-prev-btn]"),this.scrollable=this.component.find("[data-scrollable]"),this.bindEvents()},bindEvents:function(){this.scrollPrevBtn.on("click",this.scrollToLeft.bind(this)),this.scrollNextBtn.on("click",this.scrollToRight.bind(this)),this.scrollable.on("scroll",this.handleScroll.bind(this))},handleScroll:function(e){var t=e;0===t.scrollLeft?this.scrollPrevBtn.addClass("hide-btn"):this.scrollPrevBtn.removeClass("hide-btn"),t.scrollLeft>=t.scrollWidth-this.scrollable.width()?this.scrollNextBtn.addClass("hide-btn"):this.scrollNextBtn.removeClass("hide-btn")},scrollToRight:function(){this.scrollable.animate({scrollLeft:"+=200px"},300)},scrollToLeft:function(){this.scrollable.animate({scrollLeft:"-=200px"},300)}})}(),$(document).on("ready page:load",function(){Controls.controlScroll.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.DatepickerRange=function(e){this.initialize(e)},window.Controls.DatepickerRange.newInstance=function(){$('[data-component="datepicker-range"]').each(function(){$(this).data("obj",new Controls.DatepickerRange({component:this}))})},$.extend(Controls.DatepickerRange.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.locale=this.component.data("language"),this.minDate=this.component.data("start-date"),this.estimateNbHours=this.component.data("estimate-nb-hours"),this.startDateField=this.component.find("[data-datepicker-start-date]"),this.startDatepicker=this.component.find("[data-start-datepicker]"),this.endDateField=this.component.find("[data-datepicker-end-date]"),this.endDatepicker=this.component.find("[data-end-datepicker]"),this.nbDaysSection=this.component.find("[data-nb-days-section]"),this.nbDaysLabel=this.component.find("[data-nb-days-label]"),this.startDatepicker.datepicker(this.datepickerCommonParams());var e=this.startDatepicker.datepicker("getFormattedDate");this.endDatepicker.datepicker($.extend(this.datepickerCommonParams(),{startDate:e||this.minDate})),this.updateNbDays()},bindEvents:function(){this.startDatepicker.on("changeDate",this.changeStartDate.bind(this)),this.endDatepicker.on("changeDate",this.changeEndDate.bind(this))},datepickerCommonParams:function(){return{format:"dd/mm/yyyy",language:this.locale,startDate:this.minDate,maxViewMode:"days",todayHighlight:!0}},changeStartDate:function(){this.startDateField.val(this.startDatepicker.datepicker("getFormattedDate")),null!==this.getEndDate()&&this.getEndDate()<this.getStartDate()&&(this.endDateField.val(""),this.endDatepicker.datepicker("clearDates")),this.endDatepicker.datepicker("setStartDate",this.startDatepicker.datepicker("getFormattedDate")),this.updateNbDays()},changeEndDate:function(){this.endDateField.val(this.endDatepicker.datepicker("getFormattedDate")),this.updateNbDays()},getStartDate:function(){return this.startDatepicker.datepicker("getDate")},getEndDate:function(){return this.endDatepicker.datepicker("getDate")},dateDiffInDays:function(){if(null!==this.getStartDate()&&null!==this.getEndDate()){return 1+Math.round((this.getEndDate()-this.getStartDate())/864e5)}return undefined},updateNbDays:function(){null!==this.getStartDate()&&null!==this.getEndDate()?(this.nbDaysLabel.text(this.dateDiffInDays()),this.nbDaysSection.show()):this.nbDaysSection.hide()}})}(),$(document).on("ready page:load",function(){Controls.DatepickerRange.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.Datepicker=function(e){this.initialize(e)},window.Controls.Datepicker.newInstance=function(){$('[data-component="datepicker"]').each(function(){new Controls.Datepicker({component:this})})},$.extend(Controls.Datepicker.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.locale=this.component.data("language"),this.startDate=this.component.data("start-date"),this.dateField=this.component.find("[data-datepicker-field]"),this.component.datepicker({format:"dd/mm/yyyy",language:this.locale,startDate:this.startDate,maxViewMode:"days",todayHighlight:!0})},bindEvents:function(){this.component.on("changeDate",this.changeDate.bind(this))},changeDate:function(){this.dateField.val(this.component.datepicker("getFormattedDate")),this.dateField.change()}})}(),$(document).on("ready page:load",function(){Controls.Datepicker.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.DatepickerIkea=function(e){this.initialize(e)},window.Controls.DatepickerIkea.newInstance=function(){$('[data-component="datepicker-ikea"]').each(function(){new Controls.DatepickerIkea({component:this})})},$.extend(Controls.DatepickerIkea.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.locale=this.component.data("language"),this.startDate=this.component.data("start-date"),this.dateField=this.component.find("[data-datepicker-field]"),this.currentHour=this.component.data("current-hour"),this.datesDisabled=this.component.data("dates-disabled"),this.component.datepicker({format:"dd/mm/yyyy",language:this.locale,startDate:this.startDate,maxViewMode:"days",todayHighlight:!0,datesDisabled:this.datesDisabled})},bindEvents:function(){this.component.on("changeDate",this.changeDate.bind(this))},changeDate:function(){this.dateField.val(this.component.datepicker("getFormattedDate")),this.dateField.change(),this.updateHourSelect()},updateHourSelect:function(){$("[data-start-hour-select] option:gt(0)").remove(),$.each(this.getOptions(),function(e,t){$("[data-start-hour-select]").append($("<option></option>").attr("value",t).text(e))})},getTodayDate:function(){var e=new Date;return this.formatDate(e)},getTomorrowDate:function(){var e=new Date;return e.setDate(e.getDate()+1),this.formatDate(e)},formatDate:function(e){var t=e.getDate(),i=e.getMonth()+1,n=e.getFullYear();return t<10&&(t="0"+t),i<10&&(i="0"+i),t+"/"+i+"/"+n},getOptions:function(){return this.component.datepicker("getFormattedDate")==this.getTodayDate()?this.currentHour<=8?this.fullOptions(13,19):this.currentHour>=9&&this.currentHour<=11?this.fullOptions(15,19):this.fullOptions(8,19):this.component.datepicker("getFormattedDate")==this.getTomorrowDate()?this.currentHour<=15?this.fullOptions(8,19):this.currentHour>=16&&this.currentHour<=23?this.fullOptions(13,19):this.fullOptions(8,19):this.fullOptions(8,19)},fullOptions:function(e,t){for(var i=new Object,n=e;n<=t;n+=.5){var o=n<10?"0":"",s=o+Math.floor(n);s+=parseFloat(n)%1==0?":00":":30",i[s]=n}return i}})}(),$(document).on("ready page:load",function(){Controls.DatepickerIkea.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.DatepickerJob=function(e){this.initialize(e)},window.Controls.DatepickerJob.newInstance=function(){$('[data-component="datepicker-job"]').each(function(){new Controls.DatepickerJob({component:this})})},
$.extend(Controls.DatepickerJob.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.locale=this.component.data("language"),this.startDate=this.component.data("start-date"),this.dateField=this.component.find("[data-datepicker-field]"),this.datePicker=this.component.find("[data-datepicker]"),this.currentHour=this.component.data("current-hour"),this.datePicker.datepicker({format:"dd/mm/yyyy",language:this.locale,startDate:this.startDate,maxViewMode:"days",todayHighlight:!0}),this.updateHourSelect()},bindEvents:function(){this.component.on("changeDate",this.changeDate.bind(this))},changeDate:function(){this.dateField.val(this.datePicker.datepicker("getFormattedDate")),this.dateField.change(),this.updateHourSelect()},updateHourSelect:function(){this.component.find("[data-start-hour-select] option:gt(0)").remove();var e=this;$.each(this.getOptions(),function(t,i){e.component.find("[data-start-hour-select]").append($("<option></option>").attr("value",i).text(t))})},getTodayDate:function(){var e=new Date;return this.formatDate(e)},getTomorrowDate:function(){var e=new Date;return e.setDate(e.getDate()+1),this.formatDate(e)},formatDate:function(e){var t=e.getDate(),i=e.getMonth()+1,n=e.getFullYear();return t<10&&(t="0"+t),i<10&&(i="0"+i),t+"/"+i+"/"+n},getOptions:function(){return this.datePicker.datepicker("getFormattedDate")==this.getTodayDate()?this.currentHour<=8?this.fullOptions(13,21):9==this.currentHour?this.fullOptions(14,21):10==this.currentHour?this.fullOptions(15,21):11==this.currentHour?this.fullOptions(16,21):12==this.currentHour?this.fullOptions(17,21):13==this.currentHour?this.fullOptions(18,21):14==this.currentHour?this.fullOptions(19,21):15==this.currentHour?this.fullOptions(20,21):16==this.currentHour?this.fullOptions(21,21):this.fullOptions(7,21):this.datePicker.datepicker("getFormattedDate")==this.getTomorrowDate()?this.currentHour<=18?this.fullOptions(7,21):19==this.currentHour?this.fullOptions(9,21):20==this.currentHour?this.fullOptions(10,21):21==this.currentHour?this.fullOptions(11,21):22==this.currentHour?this.fullOptions(12,21):23==this.currentHour?this.fullOptions(13,21):this.fullOptions(7,21):this.fullOptions(7,21)},fullOptions:function(e,t){for(var i=new Object,n=e;n<=t;n+=.5){var o=n<10?"0":"",s=o+Math.floor(n);s+=parseFloat(n)%1==0?":00":":30",i[s]=n}return i}})}(),$(document).on("ready page:load",function(){Controls.DatepickerJob.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.DatetimepickerRange=function(e){this.initialize(e)},window.Controls.DatetimepickerRange.newInstance=function(){$('[data-component="datetimepicker-range"]').each(function(){$(this).data("obj",new Controls.DatetimepickerRange({component:this}))})},$.extend(Controls.DatetimepickerRange.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.locale=this.component.data("locale"),this.startDatepicker=this.component.find("[data-start-datepicker]"),this.endDatepicker=this.component.find("[data-end-datepicker]"),this.startHourSelect=this.component.find("[data-start-hour-select]"),this.endHourSelect=this.component.find("[data-end-hour-select]"),this.nbHoursSection=this.component.find("[data-nb-hours-section]"),this.nbHoursLabel=this.component.find("[data-nb-hours-label]"),this.nbHoursError=this.component.find("[data-nb-hours-error]"),this.customErrorField=this.component.find('[data-validation-type="custom-error"]')},bindEvents:function(){this.startDatepicker.on("changeDate",this.updateNbHours.bind(this)),this.endDatepicker.on("changeDate",this.updateNbHours.bind(this)),this.startHourSelect.on("change",this.updateNbHours.bind(this)),this.endHourSelect.on("change",this.updateNbHours.bind(this))},dateTimeDiffInHours:function(){return""!=this.startHourSelect.val()&&""!=this.endHourSelect.val()?parseFloat(this.endHourSelect.val())<=this.startHourSelect.val()?24-parseFloat(this.startHourSelect.val())+parseFloat(this.endHourSelect.val()):parseFloat(this.endHourSelect.val())-parseFloat(this.startHourSelect.val()):undefined},updateNbHours:function(){""!=this.startHourSelect.val()&&""!=this.endHourSelect.val()?this.dateTimeDiffInHours()<1?(this.nbHoursError.show(),this.nbHoursSection.hide(),this.customErrorField.val("error"),this.customErrorField.change()):(this.nbHoursLabel.text(window.Utilities.formatNbHours(this.dateTimeDiffInHours(),this.locale)),this.nbHoursSection.show(),this.nbHoursError.hide(),this.customErrorField.val(""),this.customErrorField.change()):(this.nbHoursSection.hide(),this.nbHoursError.hide())}})}(),$(document).on("ready page:load",function(){Controls.DatetimepickerRange.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.DestinationOptional=function(e){this.initialize(e)},window.Controls.DestinationOptional.newInstance=function(){$('[data-component="destination-optional"]').each(function(){new Controls.DestinationOptional({component:this})})},$.extend(Controls.DestinationOptional.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.checkboxField=this.component.find("[data-destination-cb]"),this.section=this.component.find('[data-identifier="destination"]'),this.showOrHide()},bindEvents:function(){this.checkboxField.on("change",this.showOrHide.bind(this))},showOrHide:function(){if(this.checkboxField.is(":checked")){this.section.hide();var e=this.section.find('[data-component="auto-complete"]');e[0]&&e.data("obj").reset()}else this.section.show()}})}(),$(document).on("ready page:load",function(){Controls.DestinationOptional.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.EventTracking=function(e){this.initialize(e)},window.Controls.EventTracking.newInstance=function(){$('[data-component="event-tracking"]').each(function(){new Controls.EventTracking({component:this})})},$.extend(Controls.EventTracking.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.gaCategory=this.component.data("ga-category"),this.gaAction=this.component.data("ga-action"),this.gaId=this.component.data("ga-id"),this.setGaShow()},bindEvents:function(){this.component.on("click",this.setGaClick.bind(this))},setGaClick:function(){ga("send",{hitType:"event",eventCategory:this.gaCategory,eventAction:this.gaAction+"-click",eventLabel:this.gaId})},setGaShow:function(){ga("send",{hitType:"event",eventCategory:this.gaCategory,eventAction:this.gaAction+"-show",eventLabel:this.gaId})}})}(),$(document).on("ready page:load",function(){Controls.EventTracking.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.FacebookLike=function(e){this.initialize(e)},window.Controls.FacebookLike.newInstance=function(){$('[data-component="facebook-like"]').each(function(){new Controls.FacebookLike({component:this})})},$.extend(Controls.FacebookLike.prototype,{initialize:function(e){this.component=$(e.component),this.notification=this.component.data("notification"),this.initFacebook()},initFacebook:function(){var e=this;!function(e,t,i){var n,o=e.getElementsByTagName(t)[0];e.getElementById(i)||(n=e.createElement(t),n.id=i,n.src="//connect.facebook.net/fr_FR/sdk.js",o.parentNode.insertBefore(n,o))}(document,"script","facebook-jssdk"),window.fbAsyncInit=function(){FB.init({appId:"394601603934679",xfbml:!0,version:"v2.10"}),FB.Event.subscribe("edge.create",e.likeFacebook.bind(e)),FB.Event.subscribe("edge.remove",e.dislikeFacebook.bind(e))}},likeFacebook:function(){$.post("/facebook_likes/like"),this.checkAndReadNotification()},dislikeFacebook:function(){$.post("/facebook_likes/dislike"),this.checkAndReadNotification()},checkAndReadNotification:function(){this.notification>0&&$.ajax({url:"/notifications/"+this.notification+"/read_ajax",type:"PUT"})}})}(),$(document).on("ready page:load",function(){Controls.FacebookLike.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.FacebookLogin=function(e){this.initialize(e)},window.Controls.FacebookLogin.newInstance=function(){$('[data-component="facebook-login"]').each(function(){new Controls.FacebookLogin({component:this})})},$.extend(Controls.FacebookLogin.prototype,{initialize:function(e){this.component=$(e.component),this.lsModalRedirectPath=$('form input[type="hidden"][name="ls_modal_redirect_path"]').val(),this.formId=$('form input[type="hidden"][name="form_id"]').val(),this.userType=$('form input[type="hidden"][name="user_type"]').val(),this.facebookLoginBtn=this.component.find("[data-fb-login-btn]"),this.cityId=$("[data-city-id]").val(),this.cityPlaceholder=$("[data-city-placeholder]").attr("placeholder"),this.initFacebook(),this.bindEvents()},bindEvents:function(){this.facebookLoginBtn.on("click",this.loginFacebook.bind(this))},loginFacebook:function(e){e.preventDefault();var t=this;FB.login(function(e){e.authResponse&&$.ajax({url:"/facebook/auth",type:"GET",data:{access_token:e.authResponse.accessToken,user_type:t.userType,form_id:t.formId,ls_modal_redirect_path:t.lsModalRedirectPath,city_id:t.cityId,city_placeholder:t.cityPlaceholder}})},{scope:"email,public_profile"})},initFacebook:function(){!function(e,t,i){var n,o=e.getElementsByTagName(t)[0];e.getElementById(i)||(n=e.createElement(t),n.id=i,n.src="//connect.facebook.net/fr_FR/sdk.js",o.parentNode.insertBefore(n,o))}(document,"script","facebook-jssdk"),window.fbAsyncInit=function(){FB.init({appId:"394601603934679",xfbml:!0,version:"v2.10"})}}})}(),$(document).on("ready page:load",function(){Controls.FacebookLogin.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.Form=function(e){this.initialize(e)},window.Controls.Form.newInstance=function(){$('[data-component="form"]').each(function(){new Controls.Form({component:this})})},$.extend(Controls.Form.prototype,{initialize:function(e){this.component=$(e.component),this.editButton=this.component.find("[data-edit-button]"),this.cancelButton=this.component.find("[data-cancel-button]"),this.editForm=this.component.find("[data-edit-form]"),this.showForm=this.component.find("[data-show-form]"),this.ignoreAnimation=this.component.data("ignore-animation"),this.initControls()},initControls:function(){this.editButton.on("click",this.showEditForm.bind(this)),this.cancelButton.on("click",this.hideEditForm.bind(this))},showEditForm:function(e){e.preventDefault(),this.editButton.hide(),this.showForm.hide(),this.ignoreAnimation?(this.editForm.show(),this.cancelButton.show()):(this.editForm.fadeIn(300),this.cancelButton.fadeIn(300))},hideEditForm:function(e){e.preventDefault(),this.cancelButton.hide(),this.editForm.hide(),this.ignoreAnimation?(this.showForm.show(),this.editButton.show()):(this.showForm.fadeIn(300),this.editButton.fadeIn(300))}})}(),$(document).on("ready page:load",function(){Controls.Form.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.Gallery=function(e){this.initialize(e)},window.Controls.Gallery.newInstance=function(){$('[data-component="gallery"]').each(function(){new Controls.Gallery({component:this})})},$.extend(Controls.Gallery.prototype,{initialize:function(e){this.component=$(e.component),this.initControls()},initControls:function(){this.imageLink=this.component.find("[data-image-link]");var e=[];this.component.find("figure").each(function(){var t=$(this).find("a"),i={src:t.attr("href"),w:t.data("width"),h:t.data("height")};e.push(i)}),this.imageLink.click(function(t){t.preventDefault();var i=$(".pswp")[0],n={index:$(this).parent("figure").index(),bgOpacity:.85,showHideOpacity:!0,shareEl:!1,zoomEl:!1,fullscreenEl:!1,captionEl:!1};new PhotoSwipe(i,PhotoSwipeUI_Default,e,n).init()})}})}(),$(document).on("ready page:load",function(){Controls.Gallery.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.IbanValidator=function(e){this.initialize(e)},window.Controls.IbanValidator.newInstance=function(){$('[data-component="iban-validator"]').each(function(){new Controls.IbanValidator({component:this})})},$.extend(Controls.IbanValidator.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.ibanField=this.component.find("[data-iban-field]"),this.ibanError=this.component.find("[data-iban-error]")},bindEvents:function(){this.ibanField.on("input",this.checkIban.bind(this))},checkIban:function(){var e=this.ibanField.val().replace(/\s/g,"");/FR7619870/i.test(e)?this.ibanError.show():this.ibanError.hide()}})}(),$(document).on("ready page:load",function(){Controls.IbanValidator.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.IdCard=function(e){this.initialize(e)},window.Controls.IdCard.newInstance=function(){$('[data-component="id-card"]').each(function(){new Controls.IdCard({component:this})})},$.extend(Controls.IdCard.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.selectField=this.component.find("[data-field]"),this.targets=this.component.find("[data-value]"),this.toggleVisibility()},bindEvents:function(){this.selectField.on("change",this.toggleVisibility.bind(this))},toggleVisibility:function(){var e=this.selectField.find("option:selected"),t=this.targets.filter('[data-value="'+e.val()+'"]');this.targets.not(t).find('input[type="file"]').filestyle("clear"),this.targets.not(t).hide(),t.show()}})}(),$(document).on("ready page:load",function(){Controls.IdCard.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.imageBlog=function(e){this.initialize(e)},window.Controls.imageBlog.newInstance=function(){$(".img-blog-modal").each(function(){new Controls.imageBlog({component:this})})},$.extend(Controls.imageBlog.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.modal=$("#modalBlogImg"),this.modalImg=this.modal.find("img")},bindEvents:function(){this.component.on("click",this.openModal.bind(this))},openModal:function(){this.modalImg.attr("src",this.component.attr("src")),this.modalImg.attr("alt",this.component.attr("alt")),this.modal.modal("show")}})}(),$(document).on("ready page:load",function(){Controls.imageBlog.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.ImageManipulation=function(e){this.initialize(e)},window.Controls.ImageManipulation.newInstance=function(){$('[data-component="image-manipulation"]').each(function(){new Controls.ImageManipulation({component:this})})},$.extend(Controls.ImageManipulation.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.fileField=this.component.find('input[type="file"]'),this.previewField=$('[data-identifier="'+this.component.data("preview")+'"]'),this.tooBigMessage=this.component.find('[data-identifier="file-too-big"]'),this.wrongFormatMessage=this.component.find('[data-identifier="file-wrong-format"]'),this.minWidth=this.component.data("min-width"),this.minHeight=this.component.data("min-height"),this.ratio=this.component.data("ratio"),this.maxFileSize=1024*parseInt(this.component.data("max-filesize"))*1024,this.acceptedFormats=_(this.fileField.attr("accept").split(",")),this.learningAvatar=$("[data-learning-avatar]"),this.xField=this.component.find('[data-identifier="x"]'),this.yField=this.component.find('[data-identifier="y"]'),this.widthField=this.component.find('[data-identifier="width"]'),this.heightField=this.component.find('[data-identifier="height"]'),this.rotateField=this.component.find('[data-identifier="rotate"]'),this.previewClass=this.component.data("preview-class"),this.previewAvatar=this.component.find("[data-img-loaded]"),this.btnSave=this.component.find("[data-btn-save]"),this.btnRotateLeft=this.component.find("[data-btn-rotate-left]"),this.btnRotateRight=this.component.find("[data-btn-rotate-right]"),this.btnRotate=this.component.find("[data-btn-rotate]")},bindEvents:function(){this.fileField.on("change",this.uploadSelected.bind(this)),this.btnRotateLeft.on("click",this.rotateLeft.bind(this)),this.btnRotateRight.on("click",this.rotateRight.bind(this))},uploadSelected:function(e){this.hideErrors();var t=e.delegateTarget.files;if(t&&t[0])if(t[0].size>this.maxFileSize)this.resetFile(),this.tooBigMessage.show();else if(this.acceptedFormats.includes(t[0].type)){this.previewField.show(),this.learningAvatar.show();var i=new FileReader;i.onload=this.setCropper.bind(this),i.readAsDataURL(t[0])}else this.resetFile(),this.wrongFormatMessage.show();else this.resetFile()},resetFile:function(){this.fileField.val(null),this.resetCropper(),this.btnRotate.hide(),this.btnSave.hide(),this.previewAvatar.hide(),this.previewField.hide()},resetCropper:function(){this.cropper&&(this.previewField.cropper("destroy"),this.cropper=!1)},setCropper:function(e){this.cropper||(this.previewField.cropper({viewMode:1,aspectRatio:this.ratio||"auto",preview:"."+this.previewClass,rotatable:!0,scalable:!0,zoomable:!1,movable:!1,guides:!1,center:!1,checkOrientation:!0,cropBoxMovable:!0,crop:this.cropperDone.bind(this),ready:this.initCropBoxMinSize.bind(this)}),this.cropper=!0),this.previewAvatar.show(),this.btnSave.show(),this.btnRotate.show(),this.previewField.cropper("replace",e.target.result)},initCropBoxMinSize:function(){var e=this.previewField.cropper("getImageData");this.previewField.cropper().data("cropper").cropBox.minWidth=e.width/e.naturalWidth*this.minWidth,this.previewField.cropper().data("cropper").cropBox.minHeight=e.height/e.naturalHeight*this.minHeight},cropperDone:function(e){this.xField.val(e.x),this.yField.val(e.y),this.widthField.val(e.width),this.heightField.val(e.height),this.rotateField.val(e.rotate)},hideErrors:function(){this.tooBigMessage.hide(),this.wrongFormatMessage.hide()},rotateLeft:function(){this.previewField.cropper("rotate",-90),this.initCropBoxMinSize()},rotateRight:function(){this.previewField.cropper("rotate",90),this.initCropBoxMinSize()}})}(),$(document).on("ready page:load",function(){Controls.ImageManipulation.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.Inbox=function(e){this.initialize(e)},window.Controls.Inbox.newInstance=function(){$('[data-component="inbox"]').each(function(){new Controls.Inbox({component:this})})},$.extend(Controls.Inbox.prototype,{initialize:function(e){if(this.component=$(e.component),this.messageToScroll=this.component.find('[data-message-scroll="oldest-message-unread"]'),this.offset=30,this.messageToScroll.position())var t=this.messageToScroll.position().top-this.component.position().top-this.offset;else var t=this.component.find("[data-msg]").last().position().top;this.component.scrollTop(t)}})}(),$(document).on("ready page:load",function(){Controls.Inbox.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.Increment=function(e){this.initialize(e)},window.Controls.Increment.newInstance=function(){$('[data-component="increment"]').each(function(){$(this).data("obj",new Controls.Increment(this))})},$.extend(Controls.Increment.prototype,{initialize:function(e){this.component=$(e),this.initControls()},initControls:function(){this.locale=this.component.data("locale"),this.step=this.component.data("step"),this.stepType=this.component.data("step-type"),this.minValue=this.component.data("min-value"),this.maxValue=this.component.data("max-value"),this.type=this.component.data("type"),this.incrementBtn=this.component.find("[data-increment-btn]"),this.decrementBtn=this.component.find("[data-decrement-btn]"),this.field=this.component.find("[data-field]"),this.label=this.component.find("[data-label]"),this.updateLabelAndBtn(),this.bindEvents()},bindEvents:function(){this.incrementBtn.on("click",this.incrementValue.bind(this)),this.decrementBtn.on("click",this.decrementValue.bind(this)),this.field.on("change",this.updateLabelAndBtn.bind(this))},incrementValue:function(e){e.preventDefault();var t=this.currentValue()+this.calculateStep();("undefined"==typeof this.maxValue||t<=parseFloat(this.maxValue))&&(this.field.val(t),this.field.change())},decrementValue:function(e){e.preventDefault();var t=this.currentValue()-this.calculateStep();t>=parseFloat(this.minValue)&&(this.field.val(t),this.field.change())},calculateStep:function(){return"percentage"==this.stepType?Math.max(Math.ceil(this.step/100*this.minValue),2):Math.max(this.step)},updateLabelAndBtn:function(){this.updateLabel(),this.decrementBtn.attr("disabled",this.currentValue()-this.calculateStep()<parseFloat(this.minValue)),this.incrementBtn.attr("disabled",this.currentValue()+this.calculateStep()>parseFloat(this.maxValue))},currentValue:function(){return parseFloat(this.field.val())},updateLabel:function(){"hour"==this.type?this.label.text(window.Utilities.formatNbHours(this.currentValue(),this.locale)):this.label.text(this.currentValue())}})}(),$(document).on("ready page:load",function(){Controls.Increment.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.IncrementNbHours=function(e){this.initialize(e)},window.Controls.IncrementNbHours.newInstance=function(){$('[data-component="increment-nb-hours"]').each(function(){$(this).data("obj",new Controls.IncrementNbHours(this))})},$.extend(Controls.IncrementNbHours.prototype,{initialize:function(e){this.component=$(e),this.initControls()},initControls:function(){this.cardComponent=this.component.find('[data-component="mangopay-new-card"]'),this.locale=this.component.data("locale"),this.fees=this.component.data("fees"),this.minValue=this.component.data("min-value"),this.maxValue=this.component.data("max-value"),this.pricePerHour=this.component.data("price-per-hour"),this.wallet=this.component.data("wallet"),this.urssaf=this.component.data("urssaf"),this.startnbHours=this.component.data("start-nb-hours"),this.rhinOrMoselle=this.component.data("rhin-or-moselle"),this.incrementBtn=this.component.find("[data-increment-btn]"),this.decrementBtn=this.component.find("[data-decrement-btn]"),this.nbHoursField=this.component.find("[data-nb-hours-field]"),this.priceField=this.component.find("[data-price-field]"),this.nbHoursLabel=this.component.find("[data-nb-hours-label]"),this.nbHoursTotalLabel=this.component.find("[data-nb-hours-total-label]"),this.priceLabel=this.component.find("[data-price-label]"),this.priceToPayLabel=this.component.find("[data-price-to-pay-label]"),this.walletLabel=this.component.find("[data-wallet-label]"),this.feesLabel=this.component.find("[data-fees-label]"),this.taxLabel=this.component.find("[data-tax-label]"),this.updateLabelAndBtn(),this.bindEvents()},bindEvents:function(){this.incrementBtn.on("click",this.incrementValue.bind(this)),this.decrementBtn.on("click",this.decrementValue.bind(this)),this.nbHoursField.on("change",this.updateLabelAndBtn.bind(this))},currentValue:function(){return parseFloat(this.nbHoursField.val())},incrementValue:function(e){e.preventDefault();var t=this.currentValue()+.5;("undefined"==typeof this.maxValue||t<=parseFloat(this.maxValue))&&(this.nbHoursField.val(t),this.nbHoursField.change())},decrementValue:function(e){e.preventDefault();var t=this.currentValue()-.5;t>=parseFloat(this.minValue)&&(this.nbHoursField.val(t),this.nbHoursField.change())},calculatePrice:function(){return Math.round(100*parseFloat(this.currentValue()*this.pricePerHour))/100},calculateTotalPrice:function(){return Math.round(this.calculatePrice()*(1+parseFloat(this.fees))*100)/100},calculateTotalPriceWithUrssaf:function(){return this.urssaf?(this.calculateTotalPrice()+this.calculateUrssaf()).toFixed(2):this.calculateTotalPrice()},calculateFees:function(){return Math.round(100*(this.calculateTotalPrice()-this.calculatePrice()))/100},calculateUrssaf:function(){return parseFloat((this.employerPart()+this.employeePart()-2*Math.floor(this.calculateNbHoursForUrssaf())).toFixed(2))},calculateTotalNbHours:function(){return parseFloat(this.currentValue()+parseFloat(this.startnbHours))},calculateNbHoursForUrssaf:function(){return this.currentValue()%1==.5&&parseFloat(this.startnbHours)%1==.5?this.currentValue()+.5:this.currentValue()},calculateWalletUsage:function(){return Math.min(parseFloat(this.wallet),this.calculateTotalPriceWithUrssaf())},rawCredit:function(){return this.rhinOrMoselle?parseFloat((this.calculatePrice()/.7487).toFixed(2)):parseFloat((this.calculatePrice()/.7637).toFixed(2))},employerPart:function(){return parseFloat((.41446*this.rawCredit()).toFixed(2))},employeePart:function(){return this.rhinOrMoselle?parseFloat(.1727*this.rawCredit()+.08*(.9825*this.rawCredit()).toFixed(2)):parseFloat(.1577*this.rawCredit()+.08*(.9825*this.rawCredit()).toFixed(2))},updateLabelAndBtn:function(){this.updateLabel(),this.checkAdditionalNbHours(),this.decrementBtn.attr("disabled",parseFloat(this.currentValue()-.5)<parseFloat(this.minValue)),this.incrementBtn.attr("disabled",parseFloat(this.currentValue()+.5)>parseFloat(this.maxValue)),this.hideOrShowCreditCardForm()},checkAdditionalNbHours:function(){this.currentValue()>0?$("#additional-nb-hours").show():$("#additional-nb-hours").hide()},priceToPay:function(){return this.urssaf?Math.max(this.calculateTotalPrice()+this.calculateUrssaf()-this.wallet,0).toFixed(2):Math.max(this.calculateTotalPrice()-this.wallet,0)},updateLabel:function(){this.nbHoursLabel.text(window.Utilities.formatNbHours(this.currentValue(),this.locale)),this.nbHoursTotalLabel.text(window.Utilities.formatNbHours(this.calculateTotalNbHours(),this.locale)),this.priceLabel.text(window.Utilities.formatPrice(parseFloat(this.calculatePrice()).toFixed(2))),this.priceField.val(this.calculatePrice()),this.priceToPayLabel.text(window.Utilities.formatPrice(parseFloat(this.priceToPay()).toFixed(2))),this.walletLabel.text("-"+window.Utilities.formatPrice(parseFloat(this.calculateWalletUsage()).toFixed(2))),this.feesLabel.text(window.Utilities.formatPrice(parseFloat(this.calculateFees()).toFixed(2))),this.taxLabel.text(window.Utilities.formatPrice(parseFloat(this.calculateUrssaf()).toFixed(2)))},hideOrShowCreditCardForm:function(){this.cardComponent.data("obj")&&(0==this.priceToPay()?this.cardComponent.data("obj").hideForm():this.cardComponent.data("obj").showForm())}})}(),$(document).on("ready page:load",function(){Controls.IncrementNbHours.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.IncrementOffer=function(e){this.initialize(e)},window.Controls.IncrementOffer.newInstance=function(){$('[data-component="increment-offer"]').each(function(){$(this).data("obj",new Controls.IncrementOffer(this))})},$.extend(Controls.IncrementOffer.prototype,{initialize:function(e){this.component=$(e),this.initControls()},initControls:function(){this.pricePerHour=parseInt(this.component.data("price-per-hour")),this.minValue=this.pricePerHour,this.maxValue=this.component.data("max-value"),this.nbHours=parseFloat(this.component.data("nb-hours")),this.incrementBtn=this.component.find("[data-increment-btn]"),this.decrementBtn=this.component.find("[data-decrement-btn]"),this.field=this.component.find("[data-field]"),this.pricePerHourLabel=this.component.find("[data-price-per-hour-label]"),this.priceLabel=this.component.find("[data-price-label]"),this.bindEvents(),this.field.val(this.calculatePrice()),this.field.change()},bindEvents:function(){this.incrementBtn.on("click",this.incrementValue.bind(this)),this.decrementBtn.on("click",this.decrementValue.bind(this)),this.field.on("change",this.updateLabelAndBtn.bind(this))},incrementValue:function(e){e.preventDefault(),this.pricePerHour+=1,("undefined"==typeof this.maxValue||this.pricePerHour<=parseFloat(this.maxValue))&&(this.field.val(this.calculatePrice()),this.field.change())},decrementValue:function(e){e.preventDefault(),this.pricePerHour-=1,this.pricePerHour>=parseFloat(this.minValue)&&(this.field.val(this.calculatePrice()),this.field.change())},calculatePrice:function(){return Math.round(100*parseFloat(this.nbHours*this.pricePerHour))/100},updateLabelAndBtn:function(){this.updateLabel(),this.decrementBtn.attr("disabled",parseFloat(this.pricePerHour-1)<parseFloat(this.minValue)),this.incrementBtn.attr("disabled",parseFloat(this.pricePerHour+1)>parseFloat(this.maxValue))},updateLabel:function(){this.pricePerHourLabel.text(this.pricePerHour),this.priceLabel.text(window.Utilities.formatPrice(parseFloat(this.calculatePrice()).toFixed(2)))}})}(),$(document).on("ready page:load",function(){Controls.IncrementOffer.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.JobList=function(e){this.initialize(e)},window.Controls.JobList.newInstance=function(){$('[data-component="joblist"]').each(function(){$(this).data("obj",new Controls.JobList({component:this}))})},$.extend(Controls.JobList.prototype,{initialize:function(e){this.component=$(e.component),this.sliderRadius=this.component.find('[data-slider="radius"]'),this.sliderPrice=this.component.find('[data-slider="price"]'),this.defaultRadius=this.component.data("radius-default"),this.maxRadius=this.component.data("radius-max"),this.minRadius=this.component.data("radius-min"),this.maxPrice=this.component.data("price-max"),this.minPrice=this.component.data("price-min"),this.minValueRadius=this.component.find("[data-slider-radius-min]"),this.maxValueRadius=this.component.find("[data-slider-radius-max]"),this.currentValueRadius=this.component.find("[data-radius-current]"),this.radiusCurrentValueField=this.component.find("[data-radius-current-field]"),this.minValuePrice=this.component.find("[data-slider-price-min]"),this.maxValuePrice=this.component.find("[data-slider-price-max]"),this.priceMinCurrentValueField=this.component.find("[data-price-current-field-min]"),this.priceMaxCurrentValueField=this.component.find("[data-price-current-field-max]"),this.sliderForm=this.component.find("[data-form]"),this.loader=this.component.find('[data-identifier="joblist_item"]'),this.day=this.component.find("[data-day]"),this.priceStep=this.component.data("price-step"),this.radiusStep=this.component.data("radius-step"),this.initControls()},initControls:function(){this.day.on("change",this.getJobs.bind(this)),this.initRadiusSlider(),this.initPriceSlider()},initRadiusSlider:function(){this.sliderRadius.slider({min:this.minRadius,max:this.maxRadius,value:this.defaultRadius,change:this.setRadiusValue.bind(this),slide:this.radiusSliced.bind(this),step:this.radiusStep}),this.radiusCurrentValueField.val(this.defaultRadius),this.currentValueRadius.html(this.defaultRadius),this.minValueRadius.html(this.minRadius),this.maxValueRadius.html(this.maxRadius)},initPriceSlider:function(){this.sliderPrice.slider({range:!0,min:this.minPrice,max:this.maxPrice,values:[this.minPrice,this.maxPrice],change:this.setPriceValue.bind(this),slide:this.priceSliced.bind(this),step:this.priceStep}),this.minValuePrice.html(this.minPrice),this.showMaxPrice(this.maxPrice),this.priceMinCurrentValueField.val(this.minPrice),this.priceMaxCurrentValueField.val(this.maxPrice)},setRadiusValue:function(e,t){this.radiusCurrentValueField.val(t.value),this.getJobs(e)},radiusSliced:function(e,t){this.currentValueRadius.html(t.value)},setPriceValue:function(e,t){this.priceMinCurrentValueField.val(t.values[0]),this.priceMaxCurrentValueField.val(t.values[1]),this.getJobs(e)},priceSliced:function(e,t){this.minValuePrice.html(t.values[0]),this.showMaxPrice(t.values[1])},getJobs:function(){this.loader.html('<div class="loader"></div>'),this.sliderForm.submit()},showMaxPrice:function(e){e==this.maxPrice?this.maxValuePrice.html(e+"+"):this.maxValuePrice.html(e)}})}(),$(document).on("ready page:load",function(){Controls.JobList.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.Loader=function(e){this.initialize(e)},window.Controls.Loader.newInstance=function(){$('[data-component="loader"]').each(function(){new Controls.Loader({component:this})})},$.extend(Controls.Loader.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.loaderLink=this.component.find("[data-loader-link]"),this.loaderForm=this.component.find("[data-loader-form]")},bindEvents:function(){this.loaderLink.on("click",this.showLoader.bind(this)),this.loaderForm.parents("form").on("submit",this.showLoader.bind(this))},showLoader:function(){
this.component.html('<div class="loading-circle"><div class="bounce-circle1"></div><div class="bounce-circle2"></div><div class="bounce-circle3"></div></div>')}})}(),$(document).on("ready page:load",function(){Controls.Loader.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.Mangopay||(window.Controls.Mangopay={}),window.Controls.Mangopay.NewCard=function(e){this.initialize(e)},window.Controls.Mangopay.NewCard.newInstance=function(){$('[data-component="mangopay-new-card"]').each(function(){$(this).data("obj",new Controls.Mangopay.NewCard({component:this}))})},$.extend(Controls.Mangopay.NewCard.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.locale=this.component.data("locale"),this.setCard=this.component.data("set-card"),this.ajax=this.component.data("ajax"),this.cardRegistrationUrl=this.component.data("card-registration-url"),this.preregistrationData=this.component.data("preregistration-data"),this.accessKey=this.component.data("access-key"),this.registrationId=this.component.data("registration-id"),this.cardFormTag=this.component.find("form"),this.formUrl=this.component.data("form-url"),this.formId=this.component.data("form-id"),this.formMethod=this.component.data("form-method"),this.cardNumberMask=this.cardFormTag.find('[data-mask="number"]'),this.cardCvcMask=this.cardFormTag.find('[data-mask="cvc"]'),this.mustTokenizeCard=this.component.data("must-tokenize-card"),this.newCard=this.component.find("[data-new-card]"),this.editCard=this.component.find("[data-edit-card]"),this.maestroCard=this.component.data("maestro-card"),this.errorField=this.component.find("[data-error]"),this.initMangopay(),this.initErrorMessages(),this.cardNumberMask.mask("0000 0000 0000 ZZZZ ZZZ",{translation:{Z:{pattern:/[0-9]/,optional:!0}}}),this.cardCvcMask.mask("000Z",{translation:{Z:{pattern:/[0-9]/,optional:!0}}})},bindEvents:function(){this.cardFormTag.on("submit",this.submitForm.bind(this)),this.editCard.on("click",this.switchTokenizeCard.bind(this))},initMangopay:function(){mangoPay.cardRegistration.baseURL="https://api.mangopay.com",mangoPay.cardRegistration.clientId="hwvi6nr8k4vf"},initMangopayCard:function(){mangoPay.cardRegistration.init({cardRegistrationURL:this.cardRegistrationUrl,preregistrationData:this.preregistrationData,accessKey:this.accessKey,Id:this.registrationId})},initErrorMessages:function(){"nl"==this.locale?this.errorMessages={field_empty:"Vul alstublieft alle velden in",invalid:"De betaling kon niet worden voltooid. Probeer het nogmaals. Als het probleem zich blijft voordoen, verzoeken wij u om de pagina te vernieuwen of een andere webbrowser te proberen.",other:"De betaling kon niet worden voltooid. Probeer het nogmaals. Als het probleem zich blijft voordoen, verzoeken wij u om de pagina te vernieuwen of een andere webbrowser te proberen.",105202:"Het kaartnummer is verkeerd. Controleer de ingevoerde gegevens en valideer opnieuw",105203:"De vervaldatum is ongeldig. Controleer de ingevoerde gegevens",105204:"Het CVC-formaat is ongeldig. Controleer of u de 3 cijfers op de achterkant van de kaart hebt ingevoerd.","001599":"De betaling kon niet worden voltooid. Probeer het nogmaals. Als het probleem zich blijft voordoen, verzoeken wij u om de pagina te vernieuwen of een andere webbrowser te proberen.",101699:"De betaling kon niet worden voltooid. Probeer het nogmaals. Als het probleem zich blijft voordoen, verzoeken wij u om de pagina te vernieuwen of een andere webbrowser te proberen.",105299:"De betaling kon niet worden voltooid. Probeer het nogmaals. Als het probleem zich blijft voordoen, verzoeken wij u om de pagina te vernieuwen of een andere webbrowser te proberen."}:this.errorMessages={field_empty:"Veuillez remplir tous les champs",invalid:"Le paiement n'a pas pu \xeatre r\xe9alis\xe9. Veuillez essayer de nouveau. Si le probl\xe8me persiste, nous vous invitons \xe0 rafraichir la page ou essayer depuis un autre navigateur ou terminal",other:"Le paiement n'a pas pu \xeatre r\xe9alis\xe9. Veuillez essayer de nouveau. Si le probl\xe8me persiste, nous vous invitons \xe0 rafraichir la page ou essayer depuis un autre navigateur ou terminal",105202:"Le num\xe9ro de carte est erron\xe9. Veuillez v\xe9rifier les informations saisies et valider de nouveau",105203:"La date d'expiration est invalide. Veuillez v\xe9rifier les informations saisies",105204:"Le format du CVC est invalide. Veuillez v\xe9rifier que vous avez bien saisi les 3 chiffres du dos de la carte","001599":"Le paiement n'a pas pu \xeatre r\xe9alis\xe9. Veuillez essayer de nouveau. Si le probl\xe8me persiste, nous vous invitons \xe0 rafraichir la page ou essayer depuis un autre navigateur ou terminal",101699:"Le paiement n'a pas pu \xeatre r\xe9alis\xe9. Veuillez essayer de nouveau. Si le probl\xe8me persiste, nous vous invitons \xe0 rafraichir la page ou essayer depuis un autre navigateur ou terminal",105299:"Le paiement n'a pas pu \xeatre r\xe9alis\xe9. Veuillez essayer de nouveau. Si le probl\xe8me persiste, nous vous invitons \xe0 rafraichir la page ou essayer depuis un autre navigateur ou terminal"}},submitForm:function(){if(this.mustTokenizeCard&&this.component.find("[data-number]").is(":visible"))return this.errorField.hide(),this.cardFormTag.find('[type="submit"]').prop("disabled",!0),this.createCard(),!1},createCard:function(){this.fieldsValid()?this.createToken():(this.setError(this.errorMessages.field_empty),this.cardFormTag.find('[type="submit"]').prop("disabled",!1))},fieldsValid:function(){return""!=this.findValue("[data-number]")&&""!=this.findValue("[data-exp-month]")&&""!=this.findValue("[data-exp-year]")&&(this.maestroCard||""!=this.findValue("[data-cvc]"))},cardData:function(){return{cardNumber:this.findValue("[data-number]"),cardExpirationDate:this.findValue("[data-exp-month]")+this.findValue("[data-exp-year]"),cardCvx:this.maestroCard?"":this.findValue("[data-cvc]"),cardType:this.maestroCard?"MAESTRO":"CB_VISA_MASTERCARD"}},findValue:function(e){return this.cardFormTag.find(e).val().replace(/[\s\-]/g,"")},createToken:function(){this.initMangopayCard(),mangoPay.cardRegistration.registerCard(this.cardData(),this.submitCardToken.bind(this),this.cardTokenError.bind(this))},cardTokenError:function(e){this.errorMessages[e.ResultCode]==undefined?this.setError(this.errorMessages.invalid):this.setError(this.errorMessages[e.ResultCode]),this.cardFormTag.find('[type="submit"]').prop("disabled",!1),$.post("/mangopay_cards/create_card_error",{error_code:e.ResultCode})},submitCardToken:function(e){this.setCard?(this.component.find("[data-token]").val(e.CardId),this.afterCardCreationCallback()):$.post("/mangopay_cards",{token:e.CardId},this.afterCardCreationCallback.bind(this))},afterCardCreationCallback:function(){this.ajax?$.ajax({url:this.formUrl,method:this.formMethod}):this.formId?(this.mustTokenizeCard=!1,this.cardFormTag.submit()):window.location=this.formUrl},setError:function(e){this.errorField.text(e).show()},switchTokenizeCard:function(){this.mustTokenizeCard=!this.mustTokenizeCard,this.newCard.val(this.mustTokenizeCard)},hideForm:function(){this.mustTokenizeCard=!1,this.component.find("[data-card-form]").hide()},showForm:function(){this.mustTokenizeCard=this.component.data("must-tokenize-card"),this.component.find("[data-card-form]").show()}})}(),$(document).on("ready page:load",function(){Controls.Mangopay.NewCard.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.ModalLogin=function(e){this.initialize(e)},window.Controls.ModalLogin.newInstance=function(){$("[data-modal-url]").each(function(){new Controls.ModalLogin({component:this})})},$.extend(Controls.ModalLogin.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.modalName=this.component.data("modal-name"),this.targetUrl=this.component.data("modal-url"),this.modalForm=this.component.data("modal-form"),this.modalShowSwitch=this.component.data("modal-show-switch"),this.modalUserType=this.component.data("modal-user-type"),this.switchBtnSelector="#modalLogin [data-modal-switch]"},bindEvents:function(){this.component.on("click",this.getModal.bind(this)),this.modalForm&&$('[data-identifier="'+this.modalForm+'"]').on("keypress",this.keypressEvent.bind(this))},keypressEvent:function(e){var t=$(e.target);13==e.which&&(t.is("input:text")||t.is("input:radio")||t.is('input[type="tel"]'))&&(e.preventDefault(),t.blur(),this.getModal(e))},getModal:function(e){this.cityId=$("[data-city-id]").val(),this.cityPlaceholder=$("[data-city-placeholder]").attr("placeholder"),e.preventDefault(),$.ajax({url:this.getModalLink(),type:"GET",success:this.getModalSuccess.bind(this)})},getModalLink:function(){if("jobber"==this.modalUserType||"poster"==this.modalUserType)var e="/modals/login?switch="+this.modalShowSwitch+"&user_type="+this.modalUserType;else var e="/modals/login?switch="+this.modalShowSwitch;return"undefined"!=typeof this.cityId&&"undefined"!=typeof this.cityPlaceholder?e+"&city_id="+this.cityId+"&city_placeholder="+this.cityPlaceholder:e},switchModal:function(e){e.preventDefault(),$("#modalLogin [data-modal]").hide(),$('#modalLogin [data-modal="'+$(e.target).data("modal-switch")+'"]').fadeIn(500),$("[autofocus]").focus()},getModalSuccess:function(e){$("#modalLogin").length>0&&$("#modalLogin").remove(),$("body").append(e),Controls.AutoCompleter.newInstance(),Controls.AddressAutoCompleter.newInstance(),Youpijob.Jobs.ButtonField.newInstance(),Controls.ShowIf.newInstance(),$(this.switchBtnSelector).on("click",this.switchModal.bind(this)),$(document).on("shown.bs.modal",function(){$("[autofocus]").focus()}),this.showModal(),Controls.FacebookLogin.newInstance()},showModal:function(){this.setModalColor(),$('#modalLogin form input[type="hidden"][name="switch"]').val(this.modalShowSwitch),$("#modalLogin [data-modal]").hide(),$('#modalLogin [data-modal="'+this.modalName+'"]').show(),$('#modalLogin form input[type="hidden"][name="ls_modal_redirect_path"]').val(this.targetUrl),$('#modalLogin form input[type="hidden"][name="form_id"]').val(this.modalForm),$('#modalLogin form input[type="hidden"][name="user_type"]').val(this.modalUserType),$("#modalLogin").modal("show")},setModalColor:function(){"jobber"==this.modalUserType?$("#modalLogin [data-modal-submit]").removeClass("btn-info btn-green").addClass("btn-blue"):"poster"==this.modalUserType?$("#modalLogin [data-modal-submit]").removeClass("btn-info btn-blue").addClass("btn-green"):$("#modalLogin [data-modal-submit]").removeClass("btn-green btn-blue").addClass("btn-info")}})}(),$(document).on("ready page:load",function(){Controls.ModalLogin.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.Partner=function(e){this.initialize(e)},window.Controls.Partner.newInstance=function(){$('[data-component="partner"]').each(function(){new Controls.Partner(this)})},$.extend(Controls.Partner.prototype,{initialize:function(e){this.component=$(e),this.initControls(),this.bindEvents()},initControls:function(){this.calendar=this.component.find("#calendar-range-select"),this.label=this.component.find("#label-select"),this.link=this.component.find("#link-trigger")},bindEvents:function(){this.link.on("click",this.showCalendar.bind(this))},showCalendar:function(){this.calendar.show(),this.label.html(this.link.text())}})}(),$(document).on("ready page:load",function(){Controls.Partner.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.phoneForm=function(e){this.initialize(e)},window.Controls.phoneForm.newInstance=function(){$('[data-component="phone-form"]').each(function(){new Controls.phoneForm({component:this})})},$.extend(Controls.phoneForm.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.country=this.component.data("phone-form-country"),this.inputField=this.component.find("[data-phone-form-input-field]"),this.hiddenField=this.component.find("[data-phone-form-hidden-field]"),this.inputField.intlTelInput({initialCountry:this.country,preferredCountries:["fr","ch","be","nl"],separateDialCode:!0})},bindEvents:function(){this.inputField.on("change",this.setHiddenField.bind(this)),this.inputField.on("keyup",this.setHiddenField.bind(this)),this.inputField.on("countrychange",this.resetInputField.bind(this))},setHiddenField:function(){this.hiddenField.val(this.inputField.intlTelInput("getNumber"))},resetInputField:function(){this.inputField.val(""),this.hiddenField.val("")}})}(),$(document).on("ready page:load",function(){Controls.phoneForm.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.PhoneMask=function(e){this.initialize(e)},window.Controls.PhoneMask.newInstance=function(){$('[data-component="phone-mask"]').each(function(){new Controls.PhoneMask({component:this})})},$.extend(Controls.PhoneMask.prototype,{initialize:function(e){this.component=$(e.component),this.initControls()},initControls:function(){this.country=this.component.data("country"),this.phoneMask=this.component.find("[data-phone-mask]"),this.initVars(),this.initMask()},initVars:function(){this.countries={"+33":"fr","+32":"be","+41":"ch","+31":"nl"}},initMask:function(){this.phoneMask.unmask(),this.updateMask()},applyMask:function(){this.phoneMask.val(""),this.initMask()},updateMask:function(){"fr"==this.country?this.phoneMask.mask("NZ 00 00 00 00",{translation:{N:{pattern:/0/},Z:{pattern:/[1-7]|9/}},placeholder:"0X XX XX XX XX"}):"be"==this.country?this.phoneMask.mask("NY00 00 00 00",{translation:{N:{pattern:/0/},Y:{pattern:/[1-9]/}},placeholder:"0XXX XX XX XX"}):"ch"==this.country?this.phoneMask.mask("NY0 000 00 00",{translation:{N:{pattern:/0/},Y:{pattern:/[1-9]/}},placeholder:"0XX XXX XX XX"}):"nl"==this.country&&this.phoneMask.mask("NZ 00 00 00 00",{translation:{N:{pattern:/0/},Z:{pattern:/[1-7]|9/}},placeholder:"0X XX XX XX XX"})}})}(),$(document).on("ready page:load",function(){Controls.PhoneMask.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.Popover=function(e){this.initialize(e)},window.Controls.Popover.newInstance=function(){$('[data-toggle="popover"]').each(function(){new Controls.Popover(this)})},$.extend(Controls.Popover.prototype,{initialize:function(e){this.component=$(e),this.component.popover({html:!0}),this.bindEvents()},bindEvents:function(){$("body").on("click",this.closePopoverFromClickEverywhere.bind(this))},closePopoverFromClickEverywhere:function(e){$(this.component).is(e.target)||0!==$(this.component).has(e.target).length||0!==$(".popover").has(e.target).length||((($(this.component).popover("hide").data("bs.popover")||{}).inState||{}).click=!1)}})}(),$(document).on("ready page:load",function(){Controls.Popover.newInstance()}),function(){"use strict";window.Youpijob||(window.Youpijob={}),window.Youpijob.RemovalVolume=function(e){this.initialize(e)},window.Youpijob.RemovalVolume.newInstance=function(){$('[data-component="removal-volume"]').each(function(){new Youpijob.RemovalVolume({component:this})})},$.extend(Youpijob.RemovalVolume.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.field=this.component.find("[data-field]"),this.volumeSection=this.component.find("[data-volume]"),this.volumeValue=this.component.find("[data-volume-value]"),this.updateVolume()},bindEvents:function(){this.field.on("change",this.updateVolume.bind(this))},updateVolume:function(){var e=this.calculateVolume();void 0===e?this.volumeSection.hide():(this.volumeValue.text(e),this.volumeSection.show())},calculateVolume:function(){return""==this.field.val()?undefined:10*parseFloat(this.field.val())/3}})}(),$(document).on("ready page:load",function(){Youpijob.RemovalVolume.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.ReplaceWith=function(e){this.initialize(e)},window.Controls.ReplaceWith.newInstance=function(){$('[data-component="replace-with"]').each(function(){new Controls.ReplaceWith({component:this})})},$.extend(Controls.ReplaceWith.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.content=this.component.find("[data-replace-with-content]"),this.scrollTo=this.component.data("scroll-to"),this.replaceLink=this.component.find("[data-replace-with-link]")},bindEvents:function(){this.replaceLink.on("click",this.replaceContent.bind(this))},replaceContent:function(e){this.content.hide().html($($(e.target).closest("a").attr("href")).html()).fadeIn(500),$("html, body").animate({scrollTop:$(this.scrollTo).offset().top},0),this.replaceLink=this.component.find("[data-replace-with-link]"),this.bindEvents(),e.preventDefault()}})}(),$(document).on("ready page:load",function(){Controls.ReplaceWith.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.Scroll=function(e){this.initialize(e)},window.Controls.Scroll.newInstance=function(){$('[data-scroll="true"]').each(function(){new Controls.Scroll({component:this})})},$.extend(Controls.Scroll.prototype,{initialize:function(e){this.component=$(e.component),this.offset=this.component.data("offset"),this.bindEvents()},bindEvents:function(){this.component.on("click",this.scrollTo.bind(this))},scrollTo:function(){return $("html, body").animate({scrollTop:$(this.component.attr("href")).offset().top-(this.offset||0)},800),!1}})}(),$(document).on("ready page:load",function(){Controls.Scroll.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.ShareProfile=function(e){this.initialize(e)},window.Controls.ShareProfile.newInstance=function(){$('[data-component="share"]').each(function(){new Controls.ShareProfile({component:this})})},$.extend(Controls.ShareProfile.prototype,{initialize:function(e){this.component=$(e.component),this.initFacebook(),this.initTwitter(),this.initControls(),this.bindEvents()},initControls:function(){this.shareUrl=this.component.data("share-url"),this.facebookCallbackUrl=this.component.data("share-fb-callback"),this.twitterCallbackUrl=this.component.data("share-tw-callback"),this.facebookBtn=this.component.find('[data-share="facebook"]'),this.facebookFeedBtn=this.component.find('[data-share="facebook-feed"]'),this.facebookSendBtn=this.component.find('[data-share="facebook-send"]'),this.twitterBtn=this.component.find('[data-share="twitter"]')},bindEvents:function(){this.facebookBtn.on("click",this.shareOnFacebook.bind(this)),this.facebookFeedBtn.on("click",this.shareOnFacebookFeed.bind(this)),this.facebookSendBtn.on("click",this.shareOnFacebookSend.bind(this)),this.twitterBtn.on("click",this.shareOnTwitter.bind(this))},initFacebook:function(){!function(e,t,i){var n,o=e.getElementsByTagName(t)[0];e.getElementById(i)||(n=e.createElement(t),n.id=i,n.src="//connect.facebook.net/fr_FR/sdk.js",o.parentNode.insertBefore(n,o))}(document,"script","facebook-jssdk"),window.fbAsyncInit||(window.fbAsyncInit=function(){FB.init({appId:"394601603934679",xfbml:!0,version:"v2.10"})})},initTwitter:function(){window.twttr=function(e,t,i){var n,o=e.getElementsByTagName(t)[0],s=window.twttr||{};return e.getElementById(i)?s:(n=e.createElement(t),n.id=i,n.src="https://platform.twitter.com/widgets.js",o.parentNode.insertBefore(n,o),s._e=[],s.ready=function(e){s._e.push(e)},s)}(document,"script","twitter-wjs")},shareOnFacebook:function(e){e.preventDefault(),FB.ui({method:"share",href:this.shareUrl},this.facebookCallback.bind(this))},shareOnFacebookFeed:function(e){e.preventDefault(),FB.ui({method:"feed",link:this.shareUrl},this.facebookCallback.bind(this))},facebookCallback:function(e){"undefined"!=typeof this.facebookCallbackUrl&&e&&!e.error&&$.post(this.facebookCallbackUrl)},shareOnFacebookSend:function(e){e.preventDefault(),FB.ui({method:"send",link:this.shareUrl})},shareOnTwitter:function(e){var t=this;e.preventDefault(),twttr.events.bind("tweet",function(){$.post(t.twitterCallbackUrl)})}})}(),$(document).on("ready page:load",function(){Controls.ShareProfile.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.ShowIf=function(e){this.initialize(e)},window.Controls.ShowIf.newInstance=function(){$('[data-component="show-if"]').each(function(){new Controls.ShowIf({component:this})})},$.extend(Controls.ShowIf.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.reset=this.component.data("reset"),this.sourceField=this.component.find(this.component.data("field")),this.targetElement=this.component.find(this.component.data("target")),this.showOrHide()},bindEvents:function(){this.sourceField.on("change",this.showOrHide.bind(this))},showOrHide:function(){"checkbox"==this.sourceField.attr("type")?this.showOrHideCheckbox():"radio"==this.sourceField.attr("type")?this.showOrHideRadio():this.showOrHideOther()},showOrHideCheckbox:function(){"checked"==this.component.data("value")?this.sourceField.is(":checked")?this.targetElement.show():(this.targetElement.hide(),this.resetInputs()):this.sourceField.is(":checked")?(this.targetElement.hide(),this.resetInputs()):this.targetElement.show()},showOrHideRadio:function(){this.sourceField.filter(":checked").val()==new String(this.component.data("value"))?this.targetElement.show():(this.targetElement.hide(),this.resetInputs())},showOrHideOther:function(){this.sourceField.val()==this.component.data("value")?this.targetElement.show():(this.targetElement.hide(),this.resetInputs())},resetInputs:function(){this.reset&&(this.targetElement.find("input:checkbox:checked").each(function(){$(this).prop("checked",!1),$(this).change()}),this.targetElement.find("input:radio:checked").each(function(){$(this).prop("checked",!1),$(this).change()}))}})}(),$(document).on("ready page:load",function(){Controls.ShowIf.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.ShowIfMultiple=function(e){this.initialize(e)},window.Controls.ShowIfMultiple.newInstance=function(){$('[data-component="show-if-multiple"]').each(function(){new Controls.ShowIfMultiple({component:this})})},$.extend(Controls.ShowIfMultiple.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.sourceField=this.component.find(this.component.data("field")),this.targetElement=$(this.component.data("target")),this.showOrHide()},bindEvents:function(){this.sourceField.on("change",this.showOrHide.bind(this))},showOrHide:function(){"radio"==this.sourceField.attr("type")?this.showOrHideRadio():this.showOrHideOther()},showOrHideRadio:function(){var e=this.component.find(this.component.data("field")+":checked").attr("data-trigger-show");typeof e!=typeof undefined&&!1!==e?this.targetElement.show():this.targetElement.hide()},showOrHideOther:function(){var e=this.component.find(this.component.data("field")+" option:selected").attr("data-trigger-show");typeof e!=typeof undefined&&!1!==e?this.targetElement.show():this.targetElement.hide()}})}(),$(document).on("ready page:load",function(){Controls.ShowIfMultiple.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.Skill=function(e){this.initialize(e)},window.Controls.Skill.newInstance=function(){$('[data-component="skill"]').each(function(){new Controls.Skill({component:this})})},$.extend(Controls.Skill.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.descriptionMinLength=this.component.data("description-min-length"),this.descriptionMaxLength=this.component.data("description-max-length"),this.wasChecked=this.component.data("was-checked"),this.checkbox=this.component.find("[data-checkbox]"),this.check=this.component.find("[data-check]"),this.description=this.component.find("[data-description]")},bindEvents:function(){this.checkbox.on("click",this.checkDescriptionValid.bind(this)),this.checkbox.on("change",this.changeStatus.bind(this)),this.description.on("change input paste keyup",this.checkDescriptionChanged.bind(this))},checkDescriptionValid:function(e){(this.checkbox.is(":checked")&&this.description.val().length<this.descriptionMinLength||this.description.val().length>this.descriptionMaxLength)&&(e.preventDefault(),this.description.parent(".form-group").addClass("has-error"))},checkDescriptionChanged:function(){this.description.val().length>this.descriptionMinLength&&this.description.val().length<this.descriptionMaxLength?this.description.parent(".form-group").removeClass("has-error"):this.description.val().length>this.descriptionMaxLength?this.description.parent(".form-group").addClass("has-error"):this.wasChecked||(this.checkbox.attr("checked",!1),this.checkbox.change())},changeStatus:function(){this.checkbox.is(":checked")?this.check.addClass("text-primary",300):this.check.removeClass("text-primary text-orange",300)}})}(),$(document).on("ready page:load",function(){Controls.Skill.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.SsnValidator=function(e){this.initialize(e)},window.Controls.SsnValidator.newInstance=function(){$('[data-component="ssn-validator"]').each(function(){new Controls.SsnValidator({component:this})})},$.extend(Controls.SsnValidator.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents(),this.initMask()},initControls:function(){this.ssnField=this.component.find("[data-ssn-field]"),this.ssnError=this.component.find("[data-ssn-error]")},bindEvents:function(){this.ssnField.on("input",this.checkSsn.bind(this))},initMask:function(){this.ssnField.unmask(),this.updateMask()},updateMask:function(){this.ssnField.mask("A AA AA AA AAA AAA AA",{placeholder:"X XX XX XX XXX XXX XX"})},checkSsn:function(){var e=this.ssnField.val().replace(/\s/g,"");if(15==e.length){var t=e.substring(0,13);t=t.replace("2A","19"),t=t.replace("2B","18");var i=parseInt(e.substring(13,15));97-parseInt(t)%97!=i?this.ssnError.show():this.ssnError.hide()}else this.ssnError.hide()}})}(),$(document).on("ready page:load",function(){Controls.SsnValidator.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.Switch=function(e){this.initialize(e)},window.Controls.Switch.newInstance=function(){$('[data-component="switch"]').each(function(){new Controls.Switch({component:this})})},$.extend(Controls.Switch.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.switchBtn=this.component.find("[data-switch-btn]"),this.switchActive=this.switchBtn.data("switch-active"),this.submitButton=this.component.find("[data-submit-button]")},bindEvents:function(){this.switchBtn.on("click",this.switchState.bind(this))},switchState:function(){this.switchActive?this.switchOn():this.switchOff()},switchOn:function(){this.switchActive=!1,this.switchBtn.addClass("switch-active").removeClass("switch-inactive"),this.submitButton.prop("disabled",!1)},switchOff:function(){this.switchActive=!0,this.switchBtn.addClass("switch-inactive").removeClass("switch-active"),this.submitButton.prop("disabled",!0)}})}(),$(document).on("ready page:load",function(){Controls.Switch.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.TagsInput=function(e){this.initialize(e)},window.Controls.TagsInput.newInstance=function(){$('[data-component="tags-input"]').each(function(){$(this).data("obj",new Controls.TagsInput(this))})},$.extend(Controls.TagsInput.prototype,{initialize:function(e){this.component=$(e),this.initControls(),this.bindEvents()},initControls:function(){this.label=$(this.component.data("label"));var e={"edit-on-delete":!1,"forbidden-chars":[","],"forbidden-chars-callback":this.dummyFunction.bind(this),"no-duplicate":!0,"no-duplicate-callback":this.dummyFunction.bind(this),"tag-on-blur":!0,"tag-char":""};this.component.tagging(e)},bindEvents:function(){this.label.on("click",this.giveFocus.bind(this))},giveFocus:function(){this.component.tagging("focusInput")},dummyFunction:function(){}})}(),$(document).on("ready page:load",function(){Controls.TagsInput.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.TextLengthCounter=function(e){this.initialize(e)},window.Controls.TextLengthCounter.newInstance=function(){$('[data-component="text-length-counter"]').each(function(){new Controls.TextLengthCounter({component:this})})},$.extend(Controls.TextLengthCounter.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.minLength=this.component.data("min"),this.maxLength=this.component.data("max"),this.helper=this.component.find("[data-helper]"),this.counter=this.component.find("[data-counter]"),this.inputField=this.component.find("[data-input]")},bindEvents:function(){this.inputField.on("keyup",this.updateCounter.bind(this))},updateCounter:function(){var e=this.inputField.val().length;this.counter.text(e),this.toggleDangerClass()},toggleDangerClass:function(){this.minLengthError()||this.maxLengthError()?this.helper.addClass("text-danger"):this.helper.removeClass("text-danger")},minLengthError:function(){var e=this.inputField.val().length;if("undefined"!=typeof this.minLength){return this.minLength-e>0}return!1},maxLengthError:function(){var e=this.inputField.val().length;if("undefined"!=typeof this.maxLength){return this.maxLength-e<0}return!1}})}(),$(document).on("ready page:load",function(){Controls.TextLengthCounter.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.Toggle=function(e){this.initialize(e)},window.Controls.Toggle.newInstance=function(){$('[data-component="toggle"]').each(function(){$(this).data("obj",new Controls.Toggle(this))})},$.extend(Controls.Toggle.prototype,{initialize:function(e){this.component=$(e),this.initControls()},initControls:function(){this.handleOutside=this.component.data("handle-outside"),this.toggleClassname=this.component.data("toggle-classname"),this.toggelable=this.component.find("[data-toggelable]"),this.clickable=this.component.find("[data-clickable]"),this.bindEvents()},bindEvents:function(){this.clickable.on("click",this.toggleClass.bind(this)),this.handleOutside&&$(document).on("mouseup",this.checkAndToggle.bind(this))},toggleClass:function(){this.toggelable.toggleClass(this.toggleClassname)},checkAndToggle:function(e){this.clickable.is(e.target)||0!==this.clickable.has(e.target).length||this.toggelable.removeClass(this.toggleClassname)}})}(),$(document).on("ready page:load",function(){Controls.Toggle.newInstance()}),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.Uploader=function(e){this.initialize(e)},$.extend(Controls.Uploader.prototype,{initialize:function(e){this.fieldId=e.fieldId,this.defaultImage=e.defaultImage,this.previewImageField=e.previewImageField,this.tooBigField=e.tooBigField,this.wrongFormatField=e.wrongFormatField,this.maxFileSize=e.maxFileSize||1048576,this.acceptedFormats=_(e.acceptedFormats||["image/jpeg"]),this.initControls(),this.bindEvents()},initControls:function(){this.uploadField=$("#"+this.fieldId),this.previewImageField&&(this.previewImageField=$("#"+this.previewImageField)),this.tooBigMessage=$("#"+this.tooBigField),this.wrongFormatMessage=$("#"+this.wrongFormatField)},bindEvents:function(){this.uploadField.on("change",this.uploadSelected.bind(this))},uploadSelected:function(e){this.hideErrors();var t=e.delegateTarget.files;if(t&&t[0])if(t[0].size>this.maxFileSize)this.resetFile(),this.tooBigMessage.show();else if(this.acceptedFormats.includes(t[0].type)){if(this.previewImageField){var i=new FileReader;i.onload=this.uploadPreview.bind(this),i.readAsDataURL(t[0])}}else this.resetFile(),this.wrongFormatMessage.show()},resetFile:function(){this.uploadField.val(null),this.previewImageField&&this.previewImageField.attr("src",this.defaultImage)},uploadPreview:function(e){this.previewImageField.attr("src",e.target.result)},hideErrors:function(){this.tooBigMessage.hide(),this.wrongFormatMessage.hide()}})}(),function(){"use strict";window.Controls||(window.Controls={}),window.Controls.WysiwygEditor=function(){},window.Controls.WysiwygEditor.newInstance=function(){$('[data-component="wysiwyg_editor"]').each(function(){$(this).froalaEditor({linkAlwaysNoFollow:!1,imagePaste:!1,placeholderText:"...",tabSpaces:!0,charCounterCount:!0,paragraphFormat:{
N:"Normal",H3:"Heading 3",H4:"Heading 4"},toolbarButtons:["fullscreen","|","bold","italic","underline","strikeThrough","|","paragraphFormat","color","emoticons","|","align","outdent","indent","formatOL","formatUL","insertHR","|","insertLink","insertImage","|","undo","redo","clearFormatting","html"],imageStyles:{"fr-rounded":"Rounded","fr-bordered":"Bordered","img-blog-modal":"Image lien"},colorsText:["#2b7de8","#1767cf","#64cbc4","#40bfb7","#4e565f","#84c953","#6db63a","#ae73e5","#a05be1","#41e8b0","#1bde9d","#3b5998","#55acee","#5cb85c","#5bc0de","#ff9626","#d9534f","#f9fafa","#f4f5f6","#eeeff1","#ebedef","#e3e5e8","#d8dbdf","#c7cbd1","#737e8c","#5c6570","#4c535d","#454b54","REMOVE"],colorsBackground:["#2b7de8","#1767cf","#64cbc4","#40bfb7","#4e565f","#84c953","#6db63a","#ae73e5","#a05be1","#41e8b0","#1bde9d","#3b5998","#55acee","#5cb85c","#5bc0de","#ff9626","#d9534f","#f9fafa","#f4f5f6","#eeeff1","#ebedef","#e3e5e8","#d8dbdf","#c7cbd1","#737e8c","#5c6570","#4c535d","#454b54","REMOVE"],fontSizeSelection:!0,imageAllowedTypes:["jpeg","jpg","png","gif"],imageInsertButtons:["imageBack","|","imageUpload"],imageLink:!1,imageUploadURL:"/blog/posts/upload_image",linkAlwaysBlank:!0,linkAutoPrefix:""})})}}(),$(document).on("ready page:load",function(){Controls.WysiwygEditor.newInstance()}),function(){"use strict";window.Youpijob||(window.Youpijob={}),window.Youpijob.Admin||(window.Youpijob.Admin={}),window.Youpijob.Admin.EditAvatar=function(e){this.initialize(e)},window.Youpijob.Admin.EditAvatar.newInstance=function(){$('[data-component="admin-edit-avatar"]').each(function(){new Youpijob.Admin.EditAvatar({component:this})})},$.extend(Youpijob.Admin.EditAvatar.prototype,{initialize:function(e){this.component=$(e.component),this.initControls()},initControls:function(){this.previewField=$('[data-identifier="'+this.component.data("preview")+'"]'),this.minWidth=this.component.data("min-width"),this.minHeight=this.component.data("min-height"),this.ratio=this.component.data("ratio"),this.xField=this.component.find('[data-identifier="x"]'),this.yField=this.component.find('[data-identifier="y"]'),this.widthField=this.component.find('[data-identifier="width"]'),this.heightField=this.component.find('[data-identifier="height"]'),this.rotateField=this.component.find('[data-identifier="rotate"]'),this.btnRotateLeft=this.component.find("[data-btn-rotate-left]"),this.btnRotateRight=this.component.find("[data-btn-rotate-right]"),this.btnRotateLeft.on("click",this.rotateLeft.bind(this)),this.btnRotateRight.on("click",this.rotateRight.bind(this)),this.setCropper()},setCropper:function(){this.previewField.cropper({viewMode:1,aspectRatio:this.ratio||"auto",preview:".img-preview",rotatable:!0,scalable:!0,zoomable:!1,movable:!1,checkOrientation:!0,cropBoxMovable:!0,checkCrossOrigin:!1,crop:this.cropperDone.bind(this),ready:this.initCropBoxMinSize.bind(this)})},initCropBoxMinSize:function(){var e=this.previewField.cropper("getImageData");this.previewField.cropper().data("cropper").cropBox.minWidth=e.width/e.naturalWidth*this.minWidth,this.previewField.cropper().data("cropper").cropBox.minHeight=e.height/e.naturalHeight*this.minHeight},cropperDone:function(e){this.xField.val(e.x),this.yField.val(e.y),this.widthField.val(e.width),this.heightField.val(e.height),this.rotateField.val(e.rotate)},rotateLeft:function(){this.previewField.cropper("rotate",-90),this.initCropBoxMinSize()},rotateRight:function(){this.previewField.cropper("rotate",90),this.initCropBoxMinSize()}})}(),$(document).on("ready page:load",function(){Youpijob.Admin.EditAvatar.newInstance()}),function(){"use strict";window.Youpijob||(window.Youpijob={}),window.Youpijob.Admin||(window.Youpijob.Admin={}),window.Youpijob.Admin.EditJobPhoto=function(e){this.initialize(e)},window.Youpijob.Admin.EditJobPhoto.newInstance=function(){$('[data-component="admin-edit-job-photo"]').each(function(){new Youpijob.Admin.EditJobPhoto({component:this})})},$.extend(Youpijob.Admin.EditJobPhoto.prototype,{initialize:function(e){this.component=$(e.component),this.initControls()},initControls:function(){this.previewField=$('[data-identifier="'+this.component.data("preview")+'"]'),this.rotateField=this.component.find('[data-identifier="rotate"]'),this.btnRotateLeft=this.component.find("[data-btn-rotate-left]"),this.btnRotateRight=this.component.find("[data-btn-rotate-right]"),this.btnRotateLeft.on("click",this.rotateLeft.bind(this)),this.btnRotateRight.on("click",this.rotateRight.bind(this)),this.setCropper()},setCropper:function(){this.previewField.cropper({viewMode:1,dragMode:"none",rotatable:!0,scalable:!1,zoomable:!1,movable:!1,checkOrientation:!0,cropBoxMovable:!1,checkCrossOrigin:!1,autoCrop:!1,background:!1,crop:this.cropperDone.bind(this),ready:this.initCropBoxMinSize.bind(this)})},initCropBoxMinSize:function(){var e=(this.previewField.cropper("getImageData"),this.previewField.cropper("getContainerData")),t=this.previewField.cropper("getCanvasData"),i=t.width*(e.height/t.height);if(i>=e.width)var n=t.height*(e.width/t.width),o={height:n,width:e.width,top:(e.height-n)/2,left:0};else var o={height:e.height,width:i,top:0,left:(e.width-i)/2};this.previewField.cropper("setCanvasData",o)},cropperDone:function(e){this.rotateField.val(e.rotate)},rotateLeft:function(){this.previewField.cropper("rotate",-90),this.initCropBoxMinSize()},rotateRight:function(){this.previewField.cropper("rotate",90),this.initCropBoxMinSize()}})}(),$(document).on("ready page:load",function(){Youpijob.Admin.EditJobPhoto.newInstance()}),function(){"use strict";window.Youpijob||(window.Youpijob={}),window.Youpijob.Jobs||(window.Youpijob.Jobs={}),window.Youpijob.Jobs.ButtonField=function(e){this.initialize(e)},window.Youpijob.Jobs.ButtonField.newInstance=function(){$('[data-component="button-field"]').each(function(){new Youpijob.Jobs.ButtonField({component:this})})},$.extend(Youpijob.Jobs.ButtonField.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents(),this.colorCheckbox()},initControls:function(){this.optionsCheckbox=this.component.find("[data-button-field]"),this.activeClass=this.component.data("active-class")},bindEvents:function(){this.optionsCheckbox.on("change",this.colorCheckbox.bind(this))},colorCheckbox:function(){var e=this;this.optionsCheckbox.each(function(){$(this).is(":checked")?$(this).closest("[data-option-name]").addClass(e.activeClass?e.activeClass:$(this).data("active-class"),100):$(this).closest("[data-option-name]").removeClass(e.activeClass?e.activeClass:$(this).data("active-class"),100)})}})}(),$(document).on("ready page:load",function(){Youpijob.Jobs.ButtonField.newInstance()}),function(){"use strict";window.Youpijob||(window.Youpijob={}),window.Youpijob.Jobs||(window.Youpijob.Jobs={}),window.Youpijob.Jobs.CollapseStep=function(e){this.initialize(e)},window.Youpijob.Jobs.CollapseStep.newInstance=function(){$('[data-component="collapse-step"]').each(function(){new Youpijob.Jobs.CollapseStep({component:this})})},$.extend(Youpijob.Jobs.CollapseStep.prototype,{initialize:function(e){this.component=$(e.component),$.each(["#publication","#jobber-booking","#details","#datetime","#price","#informations"],function(e,t){$(t).on("shown.bs.collapse",function(){$("html, body").animate({scrollTop:$(t).parent(".card").offset().top-82},200)})})}})}(),$(document).on("ready page:load",function(){Youpijob.Jobs.CollapseStep.newInstance()}),function(){"use strict";window.Youpijob||(window.Youpijob={}),window.Youpijob.Jobs||(window.Youpijob.Jobs={}),window.Youpijob.Jobs.DateSummary=function(e){this.initialize(e)},window.Youpijob.Jobs.DateSummary.newInstance=function(){$('[data-component="date-summary"]').each(function(){new Youpijob.Jobs.DateSummary({component:this})})},$.extend(Youpijob.Jobs.DateSummary.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.dateSummary=this.component.find("[data-summary-date]"),this.dateSummaryBlock=this.component.find("[data-summary-date-block]"),this.dateSummaryLearning=this.component.find("[data-summary-date-learning]"),this.durationSummary=this.component.find("[data-summary-duration]"),this.durationSummaryBlock=this.component.find("[data-summary-duration-block]"),this.durationSummaryLearning=this.component.find("[data-summary-duration-learning]")},bindEvents:function(){this.dateSummary.on("change",this.changeDateSummary.bind(this)),this.durationSummary.on("change",this.changeDurationSummary.bind(this))},changeDateSummary:function(){this.dateSummaryLearning.html(this.dateSummary.val()),this.dateSummaryBlock.show()},changeDurationSummary:function(e){this.durationSummaryLearning.html($(e.target).data("summary-text")),this.durationSummaryBlock.show()}})}(),$(document).on("ready page:load",function(){Youpijob.Jobs.DateSummary.newInstance()}),function(){"use strict";window.Youpijob||(window.Youpijob={}),window.Youpijob.Jobs||(window.Youpijob.Jobs={}),window.Youpijob.Jobs.FieldValidator=function(e){this.initialize(e)},window.Youpijob.Jobs.FieldValidator.newInstance=function(){$('[data-component="field-validator"]').each(function(){$(this).data("obj",new Youpijob.Jobs.FieldValidator(this))})},$.extend(Youpijob.Jobs.FieldValidator.prototype,{initialize:function(e){this.component=$(e),this.initControls(),this.bindEvents()},initControls:function(){this.validationType=this.component.data("validation-type"),"select-group"==this.validationType?this.fields=this.component.find("[data-field]"):this.fields=this.component,this.errors=[]},bindEvents:function(){this.fields.is("input:text")||this.fields.is('input[type="tel"]')||this.fields.is("textarea")?this.fields.on("keyup",this.checkRules.bind(this)):this.fields.is("input:hidden")||this.fields.is("select")?this.fields.on("change",this.checkRules.bind(this)):this.fields.find("input:radio")&&this.fields.find("input:radio").on("change",this.checkRules.bind(this))},checkRules:function(e){e=void 0===e||e,this.errors=[],this.validate(),e&&(0==this.errors.length?this.removeFieldError():this.addFieldError())},validate:function(){if("select-group"==this.validationType){var e=0;this.fields.find("option:selected").each(function(){e+=parseFloat($(this).val())}),0==e&&this.errors.push("required")}else"required-if"==this.validationType?this.validateRequiredIf():"custom-error"==this.validationType?""!=this.component.val()&&this.errors.push("required"):this.isEmpty()&&this.errors.push("required")},validateRequiredIf:function(){var e=["target","target2"],t=["value","value2"],i=!0;for(var n in e)if(this.component.data(e[n])){var o=$(this.component.data(e[n])),s=this.component.data(t[n]);i&=this.hasError(o,s)}i&&this.errors.push("required")},hasError:function(e,t){if(e.is("input:radio"))return!(e.filter(":checked").val()!=new String(t)||!this.isEmpty());if(e.is("input:checkbox"))return!!("checked"==t&&e.is(":checked")&&this.isEmpty()||"unchecked"==t&&!e.is(":checked")&&this.isEmpty());if(e.is("select")){var i=e.find("option:selected"),n=e.find(this.component.data("select-option"));return!(!(i.is(n)&&"selected"==t||!i.is(n)&&"selected"!=t)||!this.isEmpty())}return e.is("input:text")||e.is("input:hidden")?!(e.val()!=t||!this.isEmpty())||void 0:(console.log("Implement me!"),!1)},isEmpty:function(){return this.fields.is("input:text")||this.fields.is('input[type="number"]')||this.fields.is('input[type="tel"]')||this.fields.is("textarea")||this.fields.is("input:hidden")?0==this.fields.val().length||"NaN"==this.fields.val():this.fields.is("select")?""==this.fields.find("option:selected").val():this.fields.find("input:radio")?0==this.fields.find("input:radio:checked").length:void 0},removeFieldError:function(){this.component.parents("[data-field-group]").first().removeClass("has-error"),this.component.parents("[data-field-group]").first().find("[data-error]").hide()},addFieldError:function(){this.component.parents("[data-field-group]").addClass("has-error")},isValid:function(e){return this.checkRules(e),0==this.errors.length}})}(),$(document).on("ready page:load",function(){Youpijob.Jobs.FieldValidator.newInstance()}),function(){"use strict";window.Youpijob||(window.Youpijob={}),window.Youpijob.Jobs||(window.Youpijob.Jobs={}),window.Youpijob.Jobs.FieldsGroup=function(e){this.initialize(e)},window.Youpijob.Jobs.FieldsGroup.newInstance=function(){$('[data-component="fields-group"]').each(function(){$(this).data("obj",new Youpijob.Jobs.FieldsGroup(this))})},$.extend(Youpijob.Jobs.FieldsGroup.prototype,{initialize:function(e){this.component=$(e),this.initControls(),this.bindEvents()},initControls:function(){this.collapsible=this.component.find("[data-collapse]"),this.allPreviousFieldsGroup=this.component.prevAll().find("[data-collapse]").parents('[data-component="fields-group"]'),this.nextBtn=this.component.find("[data-next-btn]"),this.editLink=this.component.find("[data-edit-link]"),this.fieldsToValidate=this.component.find('[data-component="field-validator"]'),this.fieldsToSummarize=this.component.find("[data-summary-field]"),this.summary=this.component.find("[data-summary]")},bindEvents:function(){this.nextBtn.on("click",this.checkForm.bind(this)),this.editLink.on("click",this.checkEdition.bind(this)),this.component.find('input:text, input:radio, input[type="tel"]').on("keypress",this.keypressEvent.bind(this)),this.collapsible.on("show.bs.collapse",this.hideSummary.bind(this)),this.collapsible.on("hide.bs.collapse",this.showSummary.bind(this))},keypressEvent:function(){$(event.target);if(13==event.which)return event.preventDefault(),this.nextBtn.click(),!1},checkEdition:function(){if(this.allPreviousFieldsGroup.length>0)return this.validateAllPreviousFieldsGroup()},validateAllPreviousFieldsGroup:function(){var e=!0;return this.allPreviousFieldsGroup.reverse().each(function(){e=e&&$(this).data("obj").checkForm()}),e},checkForm:function(e){e=void 0===e||e;var t=!0;return this.fieldsToValidate.each(function(){void 0===$(this).data("obj")||$(this).data("obj").isValid(e)||(t=!1)}),t?this.updateSummary():e&&this.scrollToError(),t},scrollToError:function(){var e=this.component.find("[data-field-group].has-error");e.length>0&&$("html, body").animate({scrollTop:$(e[0]).offset().top-82},200)},hideSummary:function(){this.summary.hide(),this.editLink.hide()},showSummary:function(){this.checkForm(!1)&&(this.summary.show(),this.editLink.show())},updateSummary:function(){var e=this,t=0;this.fieldsToSummarize.each(function(i,n){if(n=$(n),!e.ignoreField(n)){var o=e.getValues(n);""==o&&(o=n.data("summary-empty")),$(e.component.find("[data-summary] span")[t]).text(o),t++}})},getValues:function(e){if("autocomplete"==e.data("field-type"))return""!=e.parents("[data-field-group]").find("input:hidden").val()?String(e.attr("placeholder")):String(e.data("summary-text"));if(e.is('input:text, input:hidden, input[type="tel"], input[type="email"]'))return e.val();if(e.is("select"))return e.find("option:selected").text();if(e.find("input:checkbox").length>0){var t=[];return e.find("input:checkbox:checked").each(function(){t.push($(this).data("summary-text"))}),t.join(", ")}return e.find("input:radio").length>0?String(e.find("input:radio:checked").data("summary-text")):e.is("span")?e.html():void 0},ignoreField:function(e){if(!e.is(":visible")&&"forced"!=e.data("in-summary")&&void 0===e.data("summary-text"))return!0;var t=$(e.data("target"));if("required-if"==e.data("validation-type")){if(t.is("input:radio")&&t.filter(":checked").val()!=new String(e.data("value")))return!0;if(t.is("input:checkbox")){if("checked"==e.data("value")&&!t.is(":checked"))return!0;if("unchecked"==e.data("value")&&t.is(":checked"))return!0}else if(t.is("select")){var i=t.find("option:selected"),n=t.find(e.data("select-option"));if(i.is(n)&&"selected"!=e.data("value")||!i.is(n)&&"selected"==e.data("value"))return!0}else if((t.is("input:text")||t.is("input:hidden"))&&t.val()!=e.data("value"))return!0}return!1}})}(),$(document).on("ready page:load",function(){Youpijob.Jobs.FieldsGroup.newInstance()}),function(){"use strict";window.Youpijob||(window.Youpijob={}),window.Youpijob.Jobs||(window.Youpijob.Jobs={}),window.Youpijob.Jobs.Ikea=function(e){this.initialize(e)},window.Youpijob.Jobs.Ikea.newInstance=function(){$('[data-component="ikea"]').each(function(){new Youpijob.Jobs.Ikea({component:this})})},$.extend(Youpijob.Jobs.Ikea.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.locale=this.component.data("locale"),this.amountField=this.component.find("[data-amount-field]"),this.nbHoursField=this.component.find("[data-nb-hours]"),this.nbJobbers=this.component.find("[data-nb-jobbers-select]"),this.getRidOfTheBoxesField=this.component.find("[data-get-rid-of-the-boxes]"),this.fixToTheWallField=this.component.find("[data-fix-to-the-wall]"),this.wallKindField=this.component.find("[data-wall-kind]"),this.descriptionField=this.component.find('textarea[name="job[description]"]'),this.initFixToTheWall(),this.initWallKind()},bindEvents:function(){this.amountField.on("change",this.updateNbHours.bind(this)),this.getRidOfTheBoxesField.on("change",this.updateNbHours.bind(this)),this.fixToTheWallField.on("change",this.updateFixToTheWall.bind(this)),this.wallKindField.on("change",this.updateWallKind.bind(this))},updateNbHours:function(){var e=Math.round(parseFloat(this.amountField.val().replace(",","."))),t=Math.max(1,Math.round(e/100*2)/2);this.amountField.val(e),t>=5?(this.nbJobbers.val(2),this.nbJobbers.change(),this.nbHoursField.val(Math.ceil(t)/2),this.nbHoursField.change()):(this.nbJobbers.val(1),this.nbJobbers.change(),this.nbHoursField.val(t),this.nbHoursField.change())},initFixToTheWall:function(){1!=this.fixToTheWallValue()&&0!=this.fixToTheWallValue()||(1==this.fixToTheWallValue()?($("#wall-kind").show(),$("#fix-no").hide(),$("#fix-idk").hide()):($("#wall-kind").hide(),$("#fix-no").show(),$("#fix-idk").hide(),this.wallKindField.prop("checked",!1),this.wallKindField.change()))},initWallKind:function(){0!=this.wallKindValue()&&1!=this.wallKindValue()&&2!=this.wallKindValue()&&3!=this.wallKindValue()||(0==this.wallKindValue()?$("#fix-idk").show():$("#fix-idk").hide())},updateFixToTheWall:function(){this.initFixToTheWall(),this.descriptionField.html("")},updateWallKind:function(){this.initWallKind(),0==this.wallKindValue()?this.descriptionField.html(""):this.descriptionField.html(this.wallKindName())},fixToTheWallValue:function(){return parseFloat(this.component.find("[data-fix-to-the-wall]:checked").val())},wallKindValue:function(){return parseFloat(this.component.find("[data-wall-kind]:checked").val())},wallKindName:function(){return"nl"==this.locale?"Sommige meubels worden aan de muur gemonteerd, de muren zijn gemaakt van "+this.component.find("[data-wall-kind]:checked").prev().html().toLowerCase():"Certains meubles seront \xe0 fixer au mur, les murs sont compos\xe9s de "+this.component.find("[data-wall-kind]:checked").prev().html().toLowerCase()}})}(),$(document).on("ready page:load",function(){Youpijob.Jobs.Ikea.newInstance()}),function(){"use strict";window.Youpijob||(window.Youpijob={}),window.Youpijob.Jobs||(window.Youpijob.Jobs={}),window.Youpijob.Jobs.PhotoUploader=function(e){this.initialize(e)},window.Youpijob.Jobs.PhotoUploader.newInstance=function(){$('[data-component="photo-uploader"]').each(function(){new Youpijob.Jobs.PhotoUploader({component:this})})},$.extend(Youpijob.Jobs.PhotoUploader.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.selector=this.component.data("selector"),this.hiddenField=this.component.find(this.selector+"_field"),this.addPhotoBlock=this.component.find("[data-add-photo]"),this.templateSelector=this.component.data("template-selector"),this.previewSelector=this.component.data("preview-selector"),this.errorBlock=$("#job-photo-error");var e=document.querySelector(this.templateSelector);e.id="";var t=e.parentNode.innerHTML;e.parentNode.removeChild(e),this.dropzone=new Dropzone(this.selector,{url:"/job_photos",paramName:"attachment",maxFilesize:this.component.data("max-file-size"),maxFiles:1,acceptedFiles:"image/jpeg,image/png",clickable:this.selector+", "+this.selector+" > *",previewsContainer:this.previewSelector,previewTemplate:t,resizeWidth:1200,resizeHeight:900,resizeQuality:.6,dictFileTooBig:this.component.data("file-size-too-big-message")})},bindEvents:function(){this.dropzone.on("addedfile",this.handleAddedFile.bind(this)),this.dropzone.on("uploadprogress",this.handleUploadProgress.bind(this)),this.dropzone.on("complete",this.handleComplete.bind(this)),this.dropzone.on("success",this.handleSuccess.bind(this)),this.dropzone.on("error",this.handleError.bind(this)),this.dropzone.on("removedfile",this.handleRemovedFile.bind(this))},handleAddedFile:function(){this.addPhotoBlock.hide(),this.errorBlock.hide()},handleUploadProgress:function(e,t){this.component.find(".progress-bar").css("width",t+"%")},handleComplete:function(){this.component.find(".progress").fadeOut(200)},handleSuccess:function(e,t){t.error?(this.dropzone.removeFile(e),this.hiddenField.val(""),this.errorBlock.html(t.errorMessage).show()):this.hiddenField.val(t.id)},handleError:function(e,t){this.dropzone.removeFile(e),this.hiddenField.val(""),this.errorBlock.html(t).show()},handleRemovedFile:function(){this.addPhotoBlock.show(),this.errorBlock.hide(),this.hiddenField.val()&&($.ajax({url:"/job_photos/"+this.hiddenField.val(),type:"DELETE"}),this.hiddenField.val(""))}})}(),$(document).on("ready page:load",function(){Youpijob.Jobs.PhotoUploader.newInstance()}),function(){"use strict";window.Youpijob||(window.Youpijob={}),window.Youpijob.Jobs||(window.Youpijob.Jobs={}),window.Youpijob.Jobs.Price=function(e){this.initialize(e)},window.Youpijob.Jobs.Price.newInstance=function(){$('[data-component="price"]').each(function(){new Youpijob.Jobs.Price({component:this})})},$.extend(Youpijob.Jobs.Price.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.locale=this.component.data("locale"),this.fees=this.component.data("fees"),this.categoryOther=this.component.data("category-other"),this.nbHoursBase=this.component.find("[data-nb-hours-base]"),this.oneJobberSection=this.component.find("[data-one-jobber]"),this.multipleJobbersSection=this.component.find("[data-multiple-jobbers]"),this.nbJobbersLabel=this.component.find("[data-nb-jobbers]"),this.jobberPriceLabel=this.component.find("[data-jobber-price]"),this.optionsSelect=this.component.find("[data-options-select]"),this.optionsRadio=this.component.find("[data-options-radio]"),this.optionsRadioMultiplicator=this.component.find("[data-options-radio-multiplicator]"),this.optionsCheckbox=this.component.find("[data-options-checkbox]"),this.dateRangeComponent=$('[data-component="datepicker-range"]'),this.dateTimeRangeComponent=$('[data-component="datetimepicker-range"]'),this.nbJobbersSelect=this.component.find("[data-nb-jobbers-select]"),this.startCoordinates=this.component.find("[data-start-city] [data-coordinates]"),this.destinationCoordinates=this.component.find("[data-destination-city] [data-coordinates]"),this.nbHoursRecommendedLabel=this.component.find("[data-nb-hours-recommended]"),this.nbHoursField=this.component.find("[data-nb-hours]"),this.nbHoursLabel=this.component.find("[data-nb-hours-label]"),this.pricePerHourField=this.component.find("[data-price-per-hour]"),this.totalPrice=this.component.find("[data-total-price]"),this.totalPriceLabel=this.component.find("[data-total-price-label]"),this.feesLabel=this.component.find("[data-fees-label]"),this.store=this.component.data("store"),this.pricePerHourStore=this.component.data("price-per-hour-store"),this.nbHoursMinValue=this.component.data("nb-hours-min-value"),this.posterPriceLabel=this.component.find("[data-poster-price-label]"),this.updateNbHours(),this.updatePrice()},bindEvents:function(){if(this.nbHoursField.on("change",this.updatePrice.bind(this)),this.pricePerHourField.on("change",this.updatePrice.bind(this)),this.optionsSelect.on("change",this.updateNbHours.bind(this)),this.optionsRadio.on("change",this.updateNbHours.bind(this)),this.optionsRadioMultiplicator.on("change",this.updateNbHours.bind(this)),this.optionsCheckbox.on("change",this.updateNbHours.bind(this)),this.nbJobbersSelect.on("change",this.updateNbHours.bind(this)),this.component.data("calculate-path")&&(this.startCoordinates.on("change",this.updateNbHours.bind(this)),this.destinationCoordinates.on("change",this.updateNbHours.bind(this))),this.dateRangeComponent.length>0){var e=this.dateRangeComponent.data("obj");e.startDatepicker.on("changeDate",this.updateNbHours.bind(this)),e.endDatepicker.on("changeDate",this.updateNbHours.bind(this))}},calculateJobberPrice:function(){return""==this.pricePerHourField.val()?0:""==this.nbHoursField.val()?0:Math.round(this.nbHoursField.val()*parseFloat(this.pricePerHourField.val())*100)/100},calculatePosterPrice:function(){return this.store?Math.round(this.nbHoursField.val()*parseFloat(this.pricePerHourStore)*100)/100:Math.round(this.calculateJobberPrice()*(1+parseFloat(this.fees))*100)/100},calculateTotalPrice:function(){return Math.round(this.nbJobbers()*this.calculatePosterPrice()*100)/100},calculateFees:function(){return Math.round(100*(this.calculatePosterPrice()-this.calculateJobberPrice()))/100},updatePrice:function(){this.totalPrice.val(this.calculateJobberPrice()),this.totalPriceLabel.text(window.Utilities.formatPrice(parseFloat(this.calculateTotalPrice()).toFixed(2))),this.jobberPriceLabel.text(window.Utilities.formatPrice(parseFloat(this.calculateJobberPrice()).toFixed(2))),this.feesLabel.text(window.Utilities.formatPrice(parseFloat(this.calculateFees()).toFixed(2))),this.posterPriceLabel.text(window.Utilities.formatPrice(parseFloat(this.calculatePosterPrice()).toFixed(2))),this.nbHoursLabel.text(window.Utilities.formatNbHours(this.nbHoursField.val(),this.locale)),1==this.nbJobbers()?(this.oneJobberSection=this.component.find("[data-one-jobber]"),this.multipleJobbersSection.hide(),this.oneJobberSection.show()):(this.nbJobbersLabel.text(this.nbJobbers()),this.oneJobberSection.hide(),this.multipleJobbersSection.show())},updateNbHours:function(){var e=this.nbHoursRecommended();this.nbHoursField.val(e),this.nbHoursField.change(),this.nbHoursRecommendedLabel.text(window.Utilities.formatNbHours(e,this.locale))},nbHoursRecommended:function(){var e=this,t=0;return this.nbHoursBase.length>0&&(t=this.nbHoursBase.data("nb-hours-base")),this.optionsSelect.each(function(){e.getValue($(this))>0&&(t+=parseFloat(e.getValue($(this))))}),this.optionsRadio.filter(":checked").each(function(){t+=parseFloat(e.getValue($(this)))}),this.optionsCheckbox.filter(":checked").each(function(){t+=parseFloat($(this).data("option-duration"))}),this.optionsRadioMultiplicator.filter(":checked").each(function(){t*=parseFloat(e.getValue($(this)))}),this.dateRangeComponent.length>0&&this.dateRangeComponent.data("obj").estimateNbHours&&(t*=this.dateRangeComponent.data("obj").dateDiffInDays()),this.dateTimeRangeComponent.length>0&&(t=this.dateTimeRangeComponent.data("obj").dateTimeDiffInHours()),t*=this.nbJobbersMultiplicator(),this.component.data("calculate-path")&&(t+=this.pathDuration()),t<this.nbHoursMin()?this.nbHoursMin():Math.round(2*t)/2},getValue:function(e){return void 0===e.data("time")?e.val():e.data("time")},nbHoursMin:function(){return this.nbHoursMinValue?this.nbHoursMinValue:this.categoryOther?2:1},pathDuration:function(){if(""!=this.startCoordinates.val()&&""!=this.destinationCoordinates.val()){var e=this.startCoordinates.val().split(","),t=this.destinationCoordinates.val().split(",");e[0]=window.Utilities.degToRad(e[0]),e[1]=window.Utilities.degToRad(e[1]),t[0]=window.Utilities.degToRad(t[0]),t[1]=window.Utilities.degToRad(t[1]);var i=Math.sin(e[0])*Math.sin(t[0])+Math.cos(e[0])*Math.cos(t[0])*Math.cos(e[1]-t[1]);i=Math.min(1,Math.max(i,-1));var n=6372.8*Math.acos(i);return n<=25?.5:n<=50?1:n<=100?2:Math.round(n/100+1)}return 0},nbJobbers:function(){return void 0===this.nbJobbersSelect.val()?1:parseInt(this.nbJobbersSelect.val())},nbJobbersMultiplicator:function(){if(this.categoryOther)return 1;switch(this.nbJobbers()){case 1:return 1;case 2:return.5;case 3:return.4;case 4:return.3;case 5:return.25}}})}(),$(document).on("ready page:load",function(){Youpijob.Jobs.Price.newInstance()}),function(){"use strict";window.Youpijob||(window.Youpijob={}),window.Youpijob.Offers||(window.Youpijob.Offers={}),window.Youpijob.Offers.Cancel=function(e){this.initialize(e)},window.Youpijob.Offers.Cancel.newInstance=function(){$('[data-component="cancel-offer"]').each(function(){new Youpijob.Offers.Cancel({component:this})})},$.extend(Youpijob.Offers.Cancel.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents(),this.hideAndShowBlocks()},initControls:function(){this.cancelReasonField=this.component.find("#cancel-reason"),this.cancelActionField=this.component.find("[data-cancel-action]"),this.submitBtn=this.component.find("#submit-btn"),this.cancelAction=this.component.find("#cancel-action"),this.commentForm=this.component.find("#comment-form"),this.jobberReasonWording=this.component.find("#jobber-reason-wording"),this.jobberChangeWording=this.component.find("#jobber-change-wording"),this.jobberCancelWording=this.component.find("#jobber-cancel-wording")},bindEvents:function(){this.cancelReasonField.on("change",this.toggleCancel.bind(this)),this.cancelActionField.on("change",this.toggleAction.bind(this))},hideAndShowBlocks:function(){var e=this.cancelReasonField.val();"poster_other_solution"==e||"poster_doesnt_need_anymore"==e?(this.submitBtn.show(),this.commentForm.hide(),this.cancelAction.hide(),this.jobberReasonWording.hide(),this.jobberChangeWording.hide(),this.jobberCancelWording.show()):"jobber_has_canceled"==e||"jobber_didnt_come"==e||"jobber_no_stuff"==e||"jobber_no_skill"==e||"jobber_ask_more_money"==e||"jobber_dont_answer"==e||"jobber_isnt_available"==e||"jobber_ask_cash_payment"==e?(this.commentForm.hide(),this.cancelAction.show(),this.jobberReasonWording.show(),this.jobberChangeWording.hide(),this.jobberCancelWording.hide(),this.toggleAction()):"cancel_other"==e||"cancel_other_store"==e||"cancel_other_jobber_store"==e||"declare_a_sinister_store"==e?(this.commentForm.show(),this.cancelAction.show(),this.jobberReasonWording.hide(),this.jobberChangeWording.hide(),this.jobberCancelWording.hide(),this.toggleAction()):(this.submitBtn.hide(),this.commentForm.hide(),this.cancelAction.hide(),this.jobberReasonWording.hide(),this.jobberChangeWording.hide(),this.jobberCancelWording.hide())},toggleCancel:function(){this.resetAction(),this.hideAndShowBlocks()},toggleAction:function(){var e=this.component.find("[data-cancel-action]:checked").val();"jobber_changed"==e||"jobber_canceled"==e?(this.submitBtn.show(),"jobber_changed"==e?(this.jobberChangeWording.show(),this.jobberCancelWording.hide()):(this.jobberChangeWording.hide(),this.jobberCancelWording.show())):this.submitBtn.hide()},resetAction:function(){this.cancelActionField.prop("checked",!1),this.cancelActionField.change()}})}(),$(document).on("ready page:load",function(){Youpijob.Offers.Cancel.newInstance()}),function(){"use strict";window.Youpijob||(window.Youpijob={}),window.Youpijob.Offers||(window.Youpijob.Offers={}),window.Youpijob.Offers.UrssafPricing=function(e){this.initialize(e)},window.Youpijob.Offers.UrssafPricing.newInstance=function(){$('[data-component="urssaf-pricing"]').each(function(){new Youpijob.Offers.UrssafPricing({component:this})})},$.extend(Youpijob.Offers.UrssafPricing.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents(),this.toggleUrssafPricing()},initControls:function(){this.priceWithUrssaf=this.component.data("price-with-urssaf"),this.priceWithUrssafBtn=this.component.data("price-with-urssaf-btn"),this.priceWithoutUrssaf=this.component.data("price-without-urssaf"),this.priceWithoutUrssafBtn=this.component.data("price-without-urssaf-btn"),this.urssaf=this.component.find("[data-urssaf]"),this.withoutUrssaf=this.component.find("[data-without-urssaf]"),this.withUrssaf=this.component.find("[data-with-urssaf]"),this.cardComponent=this.component.find('[data-component="mangopay-new-card"]')},bindEvents:function(){this.urssaf.on("change",this.toggleUrssafPricing.bind(this))},toggleUrssafPricing:function(){this.urssaf.is(":checked")?(this.withoutUrssaf.hide(),this.withUrssaf.show(),$("#bookBtn").val(this.priceWithUrssafBtn),$("#urssaf-checkbox-voucher").val(1)):(this.withoutUrssaf.show(),this.withUrssaf.hide(),$("#bookBtn").val(this.priceWithoutUrssafBtn),
$("#urssaf-checkbox-voucher").val("")),this.hideOrShowCreditCardForm()},hideOrShowCreditCardForm:function(){this.cardComponent.data("obj")&&(this.urssaf.is(":checked")?0==this.priceWithUrssaf?this.cardComponent.data("obj").hideForm():this.cardComponent.data("obj").showForm():0==this.priceWithoutUrssaf?this.cardComponent.data("obj").hideForm():this.cardComponent.data("obj").showForm())}})}(),$(document).on("ready page:load",function(){Youpijob.Offers.UrssafPricing.newInstance()}),function(){"use strict";window.Youpijob||(window.Youpijob={}),window.Youpijob.Rates||(window.Youpijob.Rates={}),window.Youpijob.Rates.New=function(e){this.initialize(e)},window.Youpijob.Rates.New.newInstance=function(){$('[data-component="new-rate"]').each(function(){new Youpijob.Rates.New({component:this})})},$.extend(Youpijob.Rates.New.prototype,{initialize:function(e){this.component=$(e.component),this.initControls(),this.bindEvents()},initControls:function(){this.rate=this.component.find("[data-rate]"),this.criteriaField="[data-criteria-field]",this.showComment=!1,this.initRates()},bindEvents:function(){this.component.find("[data-criteria-value]").on("click",this.changeCriteria.bind(this))},initRates:function(){var e=this;this.rate.find(this.criteriaField).each(function(){""!=$(this).val()&&e.setStars($(this).parents("[data-criteria]").find('[data-criteria-value="'+$(this).val()+'"]'))})},setStars:function(e){e.prevAll().addClass("user-star-active"),e.addClass("user-star-active"),e.nextAll().removeClass("user-star-active")},resetStars:function(e){e.parents("[data-rate]").find(this.criteriaField).val(""),e.parents("[data-rate]").find("[data-criteria-value]").removeClass("user-star-active")},setHiddenField:function(e){e.parents("[data-criteria]").find(this.criteriaField).val(e.attr("data-criteria-value"))},changeCriteria:function(e){this.setHiddenField($(e.target)),this.setStars($(e.target))}})}(),$(document).on("ready page:load",function(){Youpijob.Rates.New.newInstance()});